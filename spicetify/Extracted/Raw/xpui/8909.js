"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8909],{6577:(e,t,r)=>{r.d(t,{Nz:()=>o,Vp:()=>l,Vv:()=>u,wD:()=>c,xz:()=>s});var n=r(57237),a=r(25040);const l=[n.fl.TRACKS,n.fl.LOCAL_TRACKS,n.fl.ALBUMS,n.fl.ARTISTS,n.fl.PLAYLISTS,n.fl.PLAYLISTS_V2,n.fl.FOLDERS,n.fl.EPISODES,n.fl.CHAPTERS,n.fl.SHOWS,n.fl.AUDIOBOOKS,n.fl.PSEUDO_PLAYLISTS],s={[n.fl.TRACKS]:"tracks",[n.fl.ALBUMS]:"albums",[n.fl.ARTISTS]:"artists",[n.fl.PLAYLISTS]:"playlists",[n.fl.FOLDERS]:"folders",[n.fl.SHOWS]:"shows",[n.fl.EPISODES]:"episodes",[n.fl.CHAPTERS]:"chapters",[n.fl.LOCAL_TRACKS]:"local-tracks",[n.fl.AUDIOBOOKS]:"audiobooks",[n.fl.PSEUDO_PLAYLISTS]:"pseudo-playlists"};let o=function(e){return e.ON="on",e.BEFORE="before",e.AFTER="after",e}({});const u=(0,a.g)(o);function c(e){return l.includes(e)}},56327:(e,t,r)=>{r.d(t,{A:()=>S});var n=r(30758),a=r(88308),l=r(57237),s=r(6577);function o(e,t,r,n){if(e.defaultPrevented)return null;const a=t.includes(s.Nz.BEFORE),l=t.includes(s.Nz.AFTER);let o=s.Nz.ON;if(e.currentTarget instanceof HTMLElement&&(a||l)){const{top:l,height:u,left:c,width:i,right:f}=e.currentTarget.getBoundingClientRect(),d=t.includes(s.Nz.ON);if("horizontal"===r)if(d&&a){(n?e.clientX>Math.round(f)-i/4:e.clientX<Math.round(c)+i/4)&&(o=s.Nz.BEFORE)}else{o=(n?e.clientX>Math.round(f)-i/2:e.clientX<Math.round(c)+i/2)?s.Nz.BEFORE:s.Nz.AFTER}else"vertical"===r&&(d&&a?e.clientY<Math.round(l)+u/4&&(o=s.Nz.BEFORE):o=e.clientY<Math.round(l)+u/2?s.Nz.BEFORE:s.Nz.AFTER)}return t.includes(o)?o:null}var u=r(59677);function c(e,t){return Array.from(e.dataTransfer?.types??[]).filter(l._4).filter((e=>!!(0,s.wD)(e)&&t.includes(e))).filter(s.wD)}var i=r(45485);function f(e,t,r){const n=c(e,t);if(!n.length)return function(e,t){return e.split(/[\s,;]+/g).map((e=>(0,u.o_)(e?.trim()))).filter(i.P).reduce(((e,r)=>{const n=l.Ay[r.type];return(0,s.wD)(n)&&t.includes(n)?(e[n]||=[],e[n].push(r.toURI()),e):e}),{})}(e.dataTransfer?.getData("text/plain"),t);const a=Object.fromEntries(n.map((t=>[t,e.dataTransfer?.getData(t)?.split("\n").filter(Boolean)??[]])));if(r){const{[l.fl.PLAYLISTS]:e,...t}=a,r=Array.from(new Set([...a[l.fl.PLAYLISTS_V2]??[],...(a[l.fl.PLAYLISTS]??[]).map(d)]));return{...t,...r.length?{[l.fl.PLAYLISTS_V2]:r}:null}}return a}function d(e){const t=(0,u.o_)(e);return t?.type===u.NQ.PLAYLIST?(0,u.Ps)(t.id).toURI():e}var T=r(82289),p=r(65104);const g={droppableMimeTypes:"albums artists episodes chapters folders playlists shows tracks local-tracks audiobooks pseudo-playlists",useDropTarget:"main-useDropTarget-base","useDropTarget--albums":"main-useDropTarget-album","useDropTarget--artists":"main-useDropTarget-artist","useDropTarget--episodes":"main-useDropTarget-episode","useDropTarget--chapters":"OxrHhBsQAggwnv6RmqRy","useDropTarget--folders":"main-useDropTarget-folder","useDropTarget--playlists":"main-useDropTarget-playlist","useDropTarget--shows":"main-useDropTarget-show","useDropTarget--tracks":"main-useDropTarget-track","useDropTarget--local-tracks":"main-useDropTarget-local","useDropTarget--audiobooks":"main-useDropTarget-audiobook","useDropTarget--pseudo-playlists":"main-useDropTarget-pseudoPlaylist"};function S({uri:e,id:t=e,allowedMimeTypesByDropPosition:r,onDrop:u,onLongDragOver:i,longDragOverTimeout:d=1e3,reorderDirection:S="vertical"}){const L=(0,a.lB)((()=>r),[r]),m=(0,p.W)(),A=(0,T.wK)(),h=!!t&&1===A.length&&A[0]===t,E=Object.values(L).every((e=>e.includes(l.fl.PLAYLISTS_V2)&&!e.includes(l.fl.PLAYLISTS))),[v,O]=(0,n.useState)(null),y=(0,n.useCallback)((e=>h?[]:Object.entries(L).filter((([t,r])=>c(e,r).length>0)).map((([e])=>e)).filter(s.Vv)),[h,L]),b=(0,n.useRef)(!0),R=(0,n.useRef)(null),P=(0,n.useRef)(u);P.current=u;const I=(0,n.useRef)(i);I.current=i;const w=(0,n.useCallback)((()=>{b.current=!0,O(null),R.current&&(window.clearTimeout(R.current),R.current=null)}),[]);(0,n.useEffect)((()=>w),[w]);const N=(0,n.useCallback)((e=>{const t=y(e);t.length&&(O(o(e,t,S,m)),e.dataTransfer&&!e.defaultPrevented&&(e.dataTransfer.dropEffect=t.includes(s.Nz.ON)?"copy":"move"),e.preventDefault())}),[y,m,S]),k=(0,n.useCallback)((e=>{if(y(e).length&&!e.defaultPrevented){if(b.current){b.current=!1;const t=e.currentTarget,r=()=>{document.contains(t)||(w(),document.removeEventListener("dragenter",r))};document.addEventListener("dragenter",r),document.addEventListener("dragend",(()=>{document.removeEventListener("dragenter",r),w()}),{once:!0}),I.current&&(R.current=window.setTimeout((()=>{I.current?.()}),d))}e.preventDefault()}}),[y,d,w]),B=(0,n.useCallback)((e=>{y(e).length&&(function(e){return null===e.relatedTarget&&D?!document.elementsFromPoint(e.clientX,e.clientY).includes(e.currentTarget):!e.currentTarget.contains(e.relatedTarget instanceof Node?e.relatedTarget:null)}(e)&&w(),e.preventDefault())}),[y,w]),F=(0,n.useCallback)((e=>{const t=o(e,y(e),S,m);if(!e.defaultPrevented&&t){const r=f(e,L[t]??[],E),n=function(e){return{sectionId:parseInt(e.dataTransfer.getData("text/x-spotify-section"),10)||0,contextUri:e.dataTransfer.getData("text/x-spotify-context"),itemIds:e.dataTransfer.getData(l.fl.UIDS)?.split("\n").filter(Boolean)??[]}}(e);Object.keys(r).length&&P.current&&(P.current(r,t,n),e.preventDefault())}w()}),[y,S,m,w,L,E]),z=(0,n.useMemo)((()=>`${g.useDropTarget} ${Array.from(new Set(Object.values(L).flat()))?.map((e=>g[`useDropTarget--${s.xz[e]}`]??"")).join(" ")}`),[L]);return(0,n.useMemo)((()=>({dropPosition:v,className:z,onDragEnter:k,onDragLeave:B,onDragOver:N,onDrop:F})),[z,v,k,B,N,F])}const D=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},95779:(e,t,r)=>{r.d(t,{x:()=>l});var n=r(2569),a=r(4695);function l(){const e=(0,a.t)();return(0,n.I)({queryKey:["settings-formats"],queryFn:()=>e.quality.getFormats(),gcTime:36e5,staleTime:6e5}).data}}}]);
//# sourceMappingURL=8909.js.map