"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9074],{33396:(e,r,n)=>{n.d(r,{g:()=>H});var t=n(30758),o=n(3074),l=n.n(o),c=n(57485),i=n(5562),s=n(15231),u=n(39733),a=n(46099),d=n(31352),f=n(48614),y=n(78845),O=n(4924),m=n(64580),S=n(99186),w=n(76276),E=n(41331),v=n(93290),h=n(9738),x=n(86070);const g=({onSelect:e})=>{const{viewMode:r,setViewMode:n}=(0,v.a)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.y,{children:E.Ru.get("web-player.your-library-x.sort-and-view-picker.view-as")}),h.i.map((({value:t,icon:o,text:l},c)=>(0,x.jsx)(S.D,{role:"menuitemradio","aria-checked":r===t,divider:c===h.i.length-1?"after":void 0,autoClose:!1,leadingIcon:o(),onClick:()=>{n(t),e?.(t)},children:l()},t)))]})},k=({heading:e,selected:r,onSelect:n,options:t,enableViewModeMenu:o=!1,onSelectViewMode:l,sortOrder:c,...i})=>{let s;c&&(c===w.H.ASC||c===w.H.SECONDARY_ASC?s=f.U:c!==w.H.DESC&&c!==w.H.SECONDARY_DESC||(s=y.R));return(0,x.jsxs)(O.W,{getInitialFocusElement:e=>e?.querySelector('[aria-checked="true"]'),...i,children:[e?(0,x.jsx)(m.y,{children:e}):null,t.map((({key:e,value:t},o)=>(0,x.jsx)(S.D,{role:"menuitemradio","aria-checked":e===r.key,CheckedIcon:s,onClick:()=>n(e,o),children:t},e))),o&&(0,x.jsx)(g,{onSelect:l})]})};var p=n(80545),b=n(78487),M=n(4355);const A="x-sortBox-sortDropdown",D="cvTLPmjt6T7M85EKcB8w",N="SbDHY3fVADNJ4l9qOLQ2",C=({isOpen:e,className:r})=>e?(0,x.jsx)(c.J,{size:"small","aria-hidden":"true",className:r}):(0,x.jsx)(i.y,{size:"small","aria-hidden":"true",className:r}),H=({heading:e,options:r,selected:n,onSelect:o,sortOrder:c,variant:i="bodySmall",semanticColor:f,disabled:y,onClick:O,ariaLabel:m,enableViewModeMenu:S=!1})=>{const w=(0,u.NC)(M.mA)&&S,{viewMode:E}=(0,p.a)();n||(n=r?.[0]);const v=h.i.find((({value:e})=>e===E))||h.i[0],g=(0,t.useMemo)((()=>`sortboxlist-${l().create().hex}`),[]),{spec:H,logger:L}=(0,b.r)(a.d,{});return(0,x.jsx)(d.b,{menu:(0,x.jsx)(k,{selected:n,options:r,onSelect:(e,r)=>{o(e,r);const n=H.sortBySectionFactory().sortOptionFactory({identifier:e}).hitSort();L.logInteraction(n)},sortOrder:c,heading:e,enableViewModeMenu:w,onSelectViewMode:e=>{const r=H.viewAsSectionFactory().viewOptionFactory({identifier:e}).hitUiElementToggle();L.logInteraction(r)},id:g}),children:(e,r,t)=>(0,x.jsxs)("button",{className:A,onClick:e=>{y||(O?.(e),r(e))},ref:t,type:"button","aria-label":m,role:"combobox","aria-controls":g,"aria-expanded":e,children:[(0,x.jsx)(s.E,{"data-sortbox-label":!0,semanticColor:f,variant:i,className:D,children:n?.value||(w?v.text():"")}),w?v.icon():(0,x.jsx)(C,{isOpen:e,className:N})]})})}},75374:(e,r,n)=>{n.d(r,{R:()=>y});var t=n(30758),o=n(83127),l=n(24835);function c(e,r,n=!1){if(!e)return void console.error("No list element found. Canceling moving focus");if(!(0,l.fk)(e))return;const t=e.querySelector('[tabindex="0"]');r===o.O.UP&&(0,l.MS)(t,i(e,t,o.O.UP,n)),r===o.O.DOWN&&(0,l.MS)(t,i(e,t,o.O.DOWN,n)),r===o.O.RIGHT&&(0,l.MS)(t,s(t,o.O.RIGHT,n)),r===o.O.LEFT&&(0,l.MS)(t,s(t,o.O.LEFT,n)),r===o.O.HOME&&(0,l.MS)(t,u(o.O.HOME,n)??t),r===o.O.END&&(0,l.MS)(t,u(o.O.END,n)??t)}function i(e,r,n,t=!1){const c=r.closest('li[role="row"]');if(!c)return r;let i=c;const u=Array.from(e.querySelectorAll('li[role="row"]')),a=Array.from(c.querySelectorAll(l.nu)),d=u.indexOf(c);if(d<0)return r;const f=(t&&r!==a[0]||!t&&r!==c)&&!(r instanceof HTMLLIElement);if(n===o.O.UP){if(document.activeElement===e){i=u[u.length-1];return(t?i.querySelector(l.nu):i)??r}if(f)return s(r,o.O.LEFT,t);let n=d-1;if(-1===n)return r;i=u[n],n-=1}else if(n===o.O.DOWN){if(document.activeElement===e){i=u[0];return(t?i.querySelector(l.nu):i)??r}if(f)return s(r,o.O.RIGHT,t);let n=d+1;if(n===u.length)return r;i=u[n],n+=1}return(t?i.querySelector(l.nu):i)??r}function s(e,r,n=!1){const t=e.closest('li[role="row"]');if(!t)return e;let c=e;const i=Array.from(t.querySelectorAll(l.nu)),s=i.indexOf(e);let u=0;if(r===o.O.RIGHT&&s-1!==i.length)u=s+1;else{if(r===o.O.LEFT&&-1===s)return t;if(r===o.O.LEFT&&0!==s)u=s-1;else if(r===o.O.LEFT&&0===s){return(n?t.querySelector(l.nu):t)??t}}return c=i.at(u),c??e}function u(e,r=!1){const{currentFocus:n,listEl:t}=function(){const e=document.activeElement,r=e?.closest("ul");return((0,o.I)(e)||e instanceof HTMLLIElement)&&r?{currentFocus:e,listEl:r}:{currentFocus:null,listEl:null}}();if(null===n||null===t)return null;const c=n.closest('li[role="row"]');if(!c)return n;const i=Array.from(t.querySelectorAll('li[role="row"]')),s=Array.from(c.querySelectorAll(l.nu));if(i.indexOf(c)<0)return n;const u=r&&n===s[0]||!r&&n===c;if(e===o.O.HOME){if(u){return(r?i[0].querySelector(l.nu):i[0])??n}return(r?s[1]:s[0])??n}if(e===o.O.END){if(u){return(r?i[i.length-1].querySelector(l.nu):i[i.length-1])??n}return s[s.length-1]??n}return n}var a=n(7406),d=n(22872),f=n(86070);const y=(0,t.forwardRef)((({onKeyDown:e,children:r,firstInteractiveIsWrapper:n=!1,...i},s)=>{const u=(0,d.N)(s);(0,a.R)(u);const y=(0,t.useCallback)((r=>{u.current?.contains(r.target)&&("ArrowUp"!==r.key&&"ArrowDown"!==r.key&&"Home"!==r.key&&"End"!==r.key||r.preventDefault(),"ArrowUp"!==r.key&&"ArrowDown"!==r.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===r.key&&c(u.current,o.O.UP,n),"ArrowDown"===r.key&&c(u.current,o.O.DOWN,n),"ArrowRight"===r.key&&c(u.current,o.O.RIGHT,n),"ArrowLeft"===r.key&&c(u.current,o.O.LEFT,n),"Home"===r.key&&c(u.current,o.O.HOME,n),"End"===r.key&&c(u.current,o.O.END,n),e?.(r))}),[n,u,e]),O=(0,t.useCallback)((e=>{if(!u.current)return;const r=e.target,n=u.current.querySelector('[tabindex="0"]');r.closest('li[role="row"]')&&r!==n&&(0,l.MS)(n,r,{preventScroll:!0})}),[u]);return(0,f.jsx)("ul",{role:"treegrid",ref:u,onKeyDown:y,onFocus:O,tabIndex:0,...i,children:r})}))},70414:(e,r,n)=>{n.d(r,{W:()=>c});var t=n(30758),o=n(69461),l=n(86070);const c=({children:e,innerRef:r,reRunOnDOMUpdate:n=!1,...c})=>{const i=(0,t.useRef)(null),s=r??i;return(0,o.g)(s,n),(0,l.jsx)("li",{ref:s,"aria-expanded":"true","aria-level":1,role:"row",...c,children:e})}},7406:(e,r,n)=>{n.d(r,{R:()=>o});var t=n(30758);const o=e=>{const[r,n]=(0,t.useState)(null);(0,t.useEffect)((()=>{const r=e.current;if(!r)return()=>{};const t=({target:e})=>{e instanceof HTMLElement&&n(e)};return r.addEventListener("focusout",t),()=>{r.removeEventListener("focusout",t)}}),[e]),(0,t.useEffect)((()=>{const t=e.current;if(!r||!t)return;const o=t.contains(r),l=t.contains(document.activeElement);!o&&!l&&t.focus({preventScroll:!0}),n(null)}),[e,r])}},22872:(e,r,n)=>{n.d(r,{N:()=>o});var t=n(30758);function o(e){const r=(0,t.useRef)(null);return(0,t.useEffect)((()=>{e&&("function"==typeof e?e(r.current):e.current=r.current)})),r}}}]);
//# sourceMappingURL=9074.js.map