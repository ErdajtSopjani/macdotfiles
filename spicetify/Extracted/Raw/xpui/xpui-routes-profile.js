"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9480],{44200:(e,a,t)=>{t.d(a,{M:()=>c});var i=t(22189),r=t(33859),s=t(68031),o=t(51152),n=t(54113);const l="profile-editImage-imageContainer",u="profile-editImage-editImageButtonContainer";var d=t(86070);const c=function({onClick:e,name:a,images:t,canEdit:c,placeholderType:m,shape:g=r.u.SQUARE,dragUri:p=""}){const[h,v]=(0,o.P)(t),f=(0,n.b)(h,v)===n.g.loaded,{draggable:x,onDragStart:b}=(0,s.P)({itemUris:[p],dragLabelText:a});return(0,d.jsxs)("div",{className:l,"data-testid":`${m}-image`,draggable:x&&!!p,onDragStart:b,children:[(0,d.jsx)(r.b,{loading:"eager",name:a,images:t,placeholderType:m,shape:g}),c&&(0,d.jsx)("div",{className:u,children:(0,d.jsx)(i.a,{overlay:f,onClick:e,rounded:g===r.u.CIRCLE})})]})}},22189:(e,a,t)=>{t.d(a,{a:()=>h});var i=t(97500),r=t.n(i),s=t(77444),o=t(15231),n=t(41331);const l="main-editImage-buttonContainer",u="main-editImageButton-image",d="main-editImageButton-overlay",c="main-editImageButton-rounded",m="main-editImageButton-icon",g="main-editImageButton-copy";var p=t(86070);const h=function({overlay:e=!1,rounded:a=!1,onClick:t}){return(0,p.jsx)("div",{className:l,children:(0,p.jsx)("button",{"data-testid":"edit-image-button",className:r()(u,{[c]:a,[d]:e}),"aria-haspopup":"true",onClick:t,type:"button",children:(0,p.jsxs)("div",{className:r()(m,"icon"),children:[(0,p.jsx)(s.G,{size:"xlarge","aria-hidden":"true"}),(0,p.jsx)(o.E,{variant:"bodyMedium",className:g,children:n.Ru.get("choose_photo")})]})})})}},79216:(e,a,t)=>{t.d(a,{X:()=>n});var i=t(97500),r=t.n(i),s=t(49329),o=t(86070);const n=({children:e})=>(0,o.jsx)("div",{className:r()(s.A.imageContainer,s.A.imageContainerNew),children:e})},47892:(e,a,t)=>{t.d(a,{B:()=>o});var i=t(15231),r=t(49329),s=t(86070);const o=({children:e})=>(0,s.jsx)(i.E,{variant:"bodySmall",className:r.A.pretitle,children:e})},47690:(e,a,t)=>{t.d(a,{W:()=>n});var i=t(30758),r=t(89531),s=t(41331),o=t(86070);const n=(0,i.memo)((function({isFollowing:e,onClick:a,disabled:t=!1,buttonText:i,size:n="small",className:l}){const u=e?s.Ru.get("following"):s.Ru.get("follow");return(0,o.jsx)(r.n,{onClick:a,disabled:t,size:n,className:l,children:i||u})}))},22879:(e,a,t)=>{t.d(a,{M:()=>c});var i=t(97500),r=t.n(i),s=t(48844),o=t(15231);const n="artist-artistVerifiedBadge-wrapper",l="artist-artistVerifiedBadge-badge",u="artist-artistVerifiedBadge-fillColor";var d=t(86070);const c=({text:e,iconSize:a="medium",className:t})=>(0,d.jsxs)("span",{className:r()(n,t),children:[(0,d.jsx)("div",{className:`${l} ${u}`}),(0,d.jsx)(s.O,{semanticColor:"textAnnouncement",className:l,size:a}),e?(0,d.jsx)(o.E,{variant:"bodySmall",children:e}):null]})},44171:(e,a,t)=>{t.d(a,{u:()=>l,i:()=>n});var i=t(30758);const r="main-imagePicker-fileInput";var s=t(86070);const o={accept:"image/.jpg, image/.jpeg, image/.png"};let n=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e}({});const l=function({onChange:e,onError:a,isOpen:t=!1,minImageWidth:l=0,minImageHeight:u=0,maxImageWidth:d=1e4,maxImageHeight:c=1e4,maxFileSizeMB:m=1/0,...g}){const p=i.useRef(null),h={...o,...g};(0,i.useEffect)((()=>{p.current&&t&&p.current.click()}),[p,t]);const v=1048576*m;return(0,s.jsx)("input",{...h,type:"file","data-testid":"image-file-picker",ref:p,className:r,onChange:async function(t){const i=t.target,[r]=Array.from(i.files||[]),s=await async function(e){const a=await function(e){return new Promise(((a,t)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{a(i.result?.toString()??"")},i.onerror=e=>t(e)}))}(e),[t,i]=await function(e){return new Promise(((a,t)=>{const i=new Image;i.onload=()=>{const{width:e,height:t}=i;a([e,t])},i.src=e,i.onerror=e=>t(e)}))}(a);return{imageFile:e,imageDataUrl:a,imageWidth:t,imageHeight:i}}(r);try{await async function(e){if(!["image/jpg","image/jpeg","image/png"].includes(e.imageFile.type))throw n.IMAGE_TYPE_NOT_SUPPORTED;if(e.imageWidth<l||e.imageHeight<u)throw n.IMAGE_TOO_SMALL;if(e.imageWidth>d||e.imageHeight>c)throw n.IMAGE_TOO_BIG;if(e.imageFile.size>v)throw n.FILE_TOO_BIG}(s),e(s)}catch(e){if("string"!=typeof e||!Object.values(n).includes(e))throw e;a(e)}}})}},51826:(e,a,t)=>{t.d(a,{z:()=>m});var i=t(97500),r=t.n(i),s=t(15231),o=t(1133);const n="pIZVZOfjnJGth1BcoA1E",l="ZBBTIITnUdwh05dCI0tm",u="sz8Nwj2lvhOZxDwYWRQr",d="jjPsW7vuG9xH9qhEGL3I";var c=t(86070);const m=({message:e,isErrorMessage:a=!1})=>e?(0,c.jsx)("div",{role:"alert",children:(0,c.jsx)("div",{className:r()(n,{[l]:a}),children:(0,c.jsxs)(s.E,{as:"p",variant:"marginal",className:u,children:[(0,c.jsx)(o.b,{size:"small",className:d,"aria-hidden":"true"}),e]})})}):null},50597:(e,a,t)=>{t.d(a,{g:()=>f});var i=t(30758),r=t(97500),s=t.n(r),o=t(15231),n=t(59677),l=t(93720),u=t(99870),d=t(33e3),c=t(27046),m=t(91360),g=t(68031),p=t(4139),h=t(63089),v=t(86070);const f=({children:e,uri:a,name:t,nonInteractive:r=!1,creatorUri:f,spec:x})=>{let b=null;const{draggable:j,onDragStart:y}=(0,g.P)({itemUris:[a],dragLabelText:t}),k=(0,p.s)(),I=(0,i.useCallback)((()=>{x&&k.logInteraction(x.albumLinkFactory({uri:a}).hitUiNavigate({destination:a}))}),[k,x,a]);return r?(0,v.jsx)("span",{className:s()("standalone-ellipsis-one-line",h.A.text),children:e}):((0,n._T)(a)&&(b=(0,v.jsx)(u.h,{uri:a,artistUri:f})),(0,n.WB)(a)&&(b=(0,v.jsx)(d.H,{uri:a})),(0,v.jsx)(l.h,{menu:b,children:(0,v.jsx)(o.E,{variant:"bodySmall",children:(0,v.jsx)(c.Zp,{label:t,showDelay:c.uF,children:(0,v.jsx)(m.N,{draggable:j,onDragStart:y,className:s()("standalone-ellipsis-one-line"),to:a,dir:"auto",onClick:I,children:e})})})}))}},4431:(e,a,t)=>{t.d(a,{p:()=>r});var i=t(30758);function r(){const[e,a]=(0,i.useState)(!1);return[e,(0,i.useCallback)((()=>{a(!0),setTimeout((()=>a(!1)),0)}),[a])]}},43209:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Lt});var i=t(30758),r=t(77),s=t(36779),o=t(59677),n=t(66013),l=t(42365),u=t(41331),d=t(79605),c=t(7029),m=t(60122),g=t(87480),p=t(63393),h=t(86070);const v=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,p.Z)(g.SR,[a]),s=t?.profiles;return i?(0,h.jsx)(c.LoadingPage,{hasError:null!==r,errorMessage:u.Ru.get("error.not_found.title.page")}):(0,h.jsx)(m.$,{title:u.Ru.get("followers"),total:s?.length,showAll:!0,fullPage:!0,rowGap:l.lT,children:s?.map(((e,a)=>(0,h.jsx)(d.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))})},f=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,p.Z)(g.mH,[a]),s=t?.profiles;return i?(0,h.jsx)(c.LoadingPage,{hasError:null!==r,errorMessage:u.Ru.get("error.not_found.title.page")}):(0,h.jsx)(m.$,{title:u.Ru.get("following"),total:s?.length,showAll:!0,fullPage:!0,rowGap:l.lT,children:s?.map(((e,a)=>(0,h.jsx)(d.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))})};var x=t(76092),b=t(41978),j=t(42551),y=t(39733),k=t(20041),I=t(98509),_=t(40815),R=t(93720),N=t(23100),T=t(62462),P=t(44200),w=t(59092),A=t(79216),E=t(16373),S=t(99168),C=t(90436),O=t(33859),U=t(87188),L=t(47892),M=t(27275),D=t(22879),B=t(56374),F=t(97500),H=t.n(F),G=t(15231),W=t(74554),z=t(41996),J=t(74946),Q=t(76355),$=t(44171),q=t(4431),K=t(51826),Z=t(77444),V=t(51152),Y=t(54113);const X="profile-userEditDetails-image",ee="valcBm4lLe9qFBcg0sFY",ae="tAIzXn8C9KriGwGuBfWg",te="PsrXxenHUFXYM1ub1xWw",ie="U_VWfeeLWnDPhUTxCmrQ",re=function({onClickEdit:e,onClickRemove:a,name:t,images:i,canEdit:r}){const[s,o]=(0,V.P)(i),n=(0,Y.b)(s,o)===Y.g.loaded;return(0,h.jsxs)("div",{className:X,children:[(0,h.jsx)(O.b,{loading:"eager",name:t,images:i,placeholderType:"user",shape:O.u.CIRCLE}),r&&(0,h.jsxs)("div",{className:H()(ee,{[te]:n}),children:[(0,h.jsx)("button",{className:ae,"aria-haspopup":"true",onClick:e,type:"button",children:(0,h.jsx)(G.E,{variant:"bodyMedium",children:u.Ru.get("user.edit-details.choose-photo")})}),(0,h.jsx)("div",{className:H()(ie,"icon"),children:(0,h.jsx)(Z.G,{size:"xlarge","aria-hidden":!0})}),(0,h.jsx)("button",{className:ae,onClick:a,type:"button",children:(0,h.jsx)(G.E,{variant:"bodyMedium",children:u.Ru.get("user.edit-details.remove-photo")})})]})]})};var se=t(24848);const oe={paths:""},ne={encode(e,a=se.Writer.create()){for(const t of e.paths)a.uint32(10).string(t);return a},decode(e,a){const t=e instanceof Uint8Array?new se.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...oe};for(r.paths=[];t.pos<i;){const e=t.uint32();if(e>>>3==1)r.paths.push(t.string());else t.skipType(7&e)}return r},fromJSON(e){const a={...oe};if(a.paths=[],void 0!==e.paths&&null!==e.paths)for(const t of e.paths)a.paths.push(String(t));return a},fromPartial(e){const a={...oe};if(a.paths=[],void 0!==e.paths&&null!==e.paths)for(const t of e.paths)a.paths.push(t);return a},toJSON(e){const a={};return e.paths?a.paths=e.paths.map((e=>e)):a.paths=[],a}};t(95914);var le=t(21364),ue=t(84686).hp;const de={value:0},ce={value:!1},me={value:""};const ge={encode:(e,a=se.Writer.create())=>(a.uint32(8).int32(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new se.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...de};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.int32();else t.skipType(7&e)}return r},fromJSON(e){const a={...de};return void 0!==e.value&&null!==e.value?a.value=Number(e.value):a.value=0,a},fromPartial(e){const a={...de};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value=0,a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}},pe={encode:(e,a=se.Writer.create())=>(a.uint32(8).bool(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new se.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...ce};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.bool();else t.skipType(7&e)}return r},fromJSON(e){const a={...ce};return void 0!==e.value&&null!==e.value?a.value=Boolean(e.value):a.value=!1,a},fromPartial(e){const a={...ce};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value=!1,a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}},he={encode:(e,a=se.Writer.create())=>(a.uint32(10).string(e.value),a),decode(e,a){const t=e instanceof Uint8Array?new se.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...me};for(;t.pos<i;){const e=t.uint32();if(e>>>3==1)r.value=t.string();else t.skipType(7&e)}return r},fromJSON(e){const a={...me};return void 0!==e.value&&null!==e.value?a.value=String(e.value):a.value="",a},fromPartial(e){const a={...me};return void 0!==e.value&&null!==e.value?a.value=e.value:a.value="",a},toJSON(e){const a={};return void 0!==e.value&&(a.value=e.value),a}};se.util.Long!==le.A&&(se.util.Long=le.A,(0,se.configure)());const ve=globalThis;ve.atob,ve.btoa;const fe={maxWidth:0,maxHeight:0,url:""},xe={},be={},je={encode:(e,a=se.Writer.create())=>(a.uint32(8).int32(e.maxWidth),a.uint32(16).int32(e.maxHeight),a.uint32(26).string(e.url),a),decode(e,a){const t=e instanceof Uint8Array?new se.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...fe};for(;t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.maxWidth=t.int32();break;case 2:r.maxHeight=t.int32();break;case 3:r.url=t.string();break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...fe};return void 0!==e.maxWidth&&null!==e.maxWidth?a.maxWidth=Number(e.maxWidth):a.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?a.maxHeight=Number(e.maxHeight):a.maxHeight=0,void 0!==e.url&&null!==e.url?a.url=String(e.url):a.url="",a},fromPartial(e){const a={...fe};return void 0!==e.maxWidth&&null!==e.maxWidth?a.maxWidth=e.maxWidth:a.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?a.maxHeight=e.maxHeight:a.maxHeight=0,void 0!==e.url&&null!==e.url?a.url=e.url:a.url="",a},toJSON(e){const a={};return void 0!==e.maxWidth&&(a.maxWidth=e.maxWidth),void 0!==e.maxHeight&&(a.maxHeight=e.maxHeight),void 0!==e.url&&(a.url=e.url),a}},ye={encode(e,a=se.Writer.create()){void 0!==e.username&&void 0!==e.username&&he.encode({value:e.username},a.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&he.encode({value:e.name},a.uint32(18).fork()).ldelim();for(const t of e.images)je.encode(t,a.uint32(26).fork()).ldelim();return void 0!==e.verified&&void 0!==e.verified&&pe.encode({value:e.verified},a.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&pe.encode({value:e.editProfileDisabled},a.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&pe.encode({value:e.reportAbuseDisabled},a.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&pe.encode({value:e.abuseReportedName},a.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&pe.encode({value:e.abuseReportedImage},a.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&pe.encode({value:e.hasSpotifyName},a.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&pe.encode({value:e.hasSpotifyImage},a.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&ge.encode({value:e.color},a.uint32(90).fork()).ldelim(),a},decode(e,a){const t=e instanceof Uint8Array?new se.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...xe};for(r.images=[];t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.username=he.decode(t,t.uint32()).value;break;case 2:r.name=he.decode(t,t.uint32()).value;break;case 3:r.images.push(je.decode(t,t.uint32()));break;case 4:r.verified=pe.decode(t,t.uint32()).value;break;case 5:r.editProfileDisabled=pe.decode(t,t.uint32()).value;break;case 6:r.reportAbuseDisabled=pe.decode(t,t.uint32()).value;break;case 7:r.abuseReportedName=pe.decode(t,t.uint32()).value;break;case 8:r.abuseReportedImage=pe.decode(t,t.uint32()).value;break;case 9:r.hasSpotifyName=pe.decode(t,t.uint32()).value;break;case 10:r.hasSpotifyImage=pe.decode(t,t.uint32()).value;break;case 11:r.color=ge.decode(t,t.uint32()).value;break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...xe};if(a.images=[],void 0!==e.username&&null!==e.username?a.username=String(e.username):a.username=void 0,void 0!==e.name&&null!==e.name?a.name=String(e.name):a.name=void 0,void 0!==e.images&&null!==e.images)for(const t of e.images)a.images.push(je.fromJSON(t));return void 0!==e.verified&&null!==e.verified?a.verified=Boolean(e.verified):a.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?a.editProfileDisabled=Boolean(e.editProfileDisabled):a.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?a.reportAbuseDisabled=Boolean(e.reportAbuseDisabled):a.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?a.abuseReportedName=Boolean(e.abuseReportedName):a.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?a.abuseReportedImage=Boolean(e.abuseReportedImage):a.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?a.hasSpotifyName=Boolean(e.hasSpotifyName):a.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?a.hasSpotifyImage=Boolean(e.hasSpotifyImage):a.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?a.color=Number(e.color):a.color=void 0,a},fromPartial(e){const a={...xe};if(a.images=[],void 0!==e.username&&null!==e.username?a.username=e.username:a.username=void 0,void 0!==e.name&&null!==e.name?a.name=e.name:a.name=void 0,void 0!==e.images&&null!==e.images)for(const t of e.images)a.images.push(je.fromPartial(t));return void 0!==e.verified&&null!==e.verified?a.verified=e.verified:a.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?a.editProfileDisabled=e.editProfileDisabled:a.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?a.reportAbuseDisabled=e.reportAbuseDisabled:a.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?a.abuseReportedName=e.abuseReportedName:a.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?a.abuseReportedImage=e.abuseReportedImage:a.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?a.hasSpotifyName=e.hasSpotifyName:a.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?a.hasSpotifyImage=e.hasSpotifyImage:a.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?a.color=e.color:a.color=void 0,a},toJSON(e){const a={};return void 0!==e.username&&(a.username=e.username),void 0!==e.name&&(a.name=e.name),e.images?a.images=e.images.map((e=>e?je.toJSON(e):void 0)):a.images=[],void 0!==e.verified&&(a.verified=e.verified),void 0!==e.editProfileDisabled&&(a.editProfileDisabled=e.editProfileDisabled),void 0!==e.reportAbuseDisabled&&(a.reportAbuseDisabled=e.reportAbuseDisabled),void 0!==e.abuseReportedName&&(a.abuseReportedName=e.abuseReportedName),void 0!==e.abuseReportedImage&&(a.abuseReportedImage=e.abuseReportedImage),void 0!==e.hasSpotifyName&&(a.hasSpotifyName=e.hasSpotifyName),void 0!==e.hasSpotifyImage&&(a.hasSpotifyImage=e.hasSpotifyImage),void 0!==e.color&&(a.color=e.color),a}},ke={encode:(e,a=se.Writer.create())=>(void 0!==e.mask&&void 0!==e.mask&&ne.encode(e.mask,a.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&ye.encode(e.userProfile,a.uint32(18).fork()).ldelim(),a),decode(e,a){const t=e instanceof Uint8Array?new se.Reader(e):e;let i=void 0===a?t.len:t.pos+a;const r={...be};for(;t.pos<i;){const e=t.uint32();switch(e>>>3){case 1:r.mask=ne.decode(t,t.uint32());break;case 2:r.userProfile=ye.decode(t,t.uint32());break;default:t.skipType(7&e)}}return r},fromJSON(e){const a={...be};return void 0!==e.mask&&null!==e.mask?a.mask=ne.fromJSON(e.mask):a.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?a.userProfile=ye.fromJSON(e.userProfile):a.userProfile=void 0,a},fromPartial(e){const a={...be};return void 0!==e.mask&&null!==e.mask?a.mask=ne.fromPartial(e.mask):a.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?a.userProfile=ye.fromPartial(e.userProfile):a.userProfile=void 0,a},toJSON(e){const a={};return void 0!==e.mask&&(a.mask=e.mask?ne.toJSON(e.mask):void 0),void 0!==e.userProfile&&(a.userProfile=e.userProfile?ye.toJSON(e.userProfile):void 0),a}};var Ie=t(76629),_e=t(59461);const Re=`${Ie.I_}/identity`;async function Ne(e,a,{name:t,imageUploadToken:i}){void 0!==t&&await async function(e,a,t){const i=ke.encode(ke.fromPartial({mask:{paths:["name"]},userProfile:null!==t?{name:t}:{}}));await e.build().withHost(Re).withMethod("POST").withPath(`/v3/user/username/${encodeURIComponent((0,_e.v)(a))}`).withEndpointIdentifier("/v3/user/username/{username}").withBody(i.finish()).withoutMarket().send()}(e,a,t),void 0!==i&&(null!==i?await async function(e,a,t){await e.build().withHost(Re).withMethod("POST").withPath(`/v3/profile-image/${encodeURIComponent((0,_e.v)(a))}/${t}`).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send()}(e,a,i):await async function(e,a){await e.build().withHost(Re).withMethod("DELETE").withPath(`/v3/profile-image/${encodeURIComponent((0,_e.v)(a))}`).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send()}(e,a))}var Te=t(93409);const Pe={type:"error",get message(){return u.Ru.get("user.edit-details.error.file-size-exceeded",10)}},we={type:"error",get message(){return u.Ru.get("user.edit-details.error.too-small",300,300)}},Ae={type:"error",get message(){return u.Ru.get("user.edit-details.error.too-big",1e4,1e4)}},Ee={type:"error",get message(){return u.Ru.get("user.edit-details.error.image-type-not-supported")}},Se={type:"error",get message(){return u.Ru.get("user.edit-details.error.missing-name")}},Ce={type:"error",get message(){return u.Ru.get("user.edit-details.error.failed-to-save")}},Oe={type:"error",get message(){return u.Ru.get("user.edit-details.error.file-upload-failed")}};function Ue(e){return{type:"setLoading",loading:e}}function Le(e){return{type:"setMessage",message:e}}function Me(e,a){switch(a.type){case"setName":return{...e,name:a.name};case"setMessage":return{...e,message:a.message,loading:!1};case"setLoading":return{...e,loading:a.loading,message:null};case"setImageData":return{...e,imageData:a.data,removeImage:!1};case"setImageToken":return{...e,imageToken:a.token,removeImage:!1};case"removeImage":return{...e,imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0};default:return e}}const De="profile-userEditDetails-container",Be="profile-userEditDetails-content",Fe="profile-userEditDetails-header",He="profile-userEditDetails-closeButton",Ge="vAeyAmeLkDEDKdL9Hou0",We="dnmzO6yYKkxUV8jl7O1Z",ze="profile-userEditDetails-nameInput",Je="profile-userEditDetails-name",Qe="profile-userEditDetails-label",$e="profile-userEditDetails-labelText",qe="dMhJaxli87_22jb_3d9x",Ke="profile-userEditDetails-saveButton",Ze="profile-userEditDetails-disclaimer",Ve=i.memo((function({uri:e,name:a,image:t,onClose:r,shouldOpenImagePicker:s,userCapabilities:o}){const[n,l]=(0,q.p)(),[d,c]=function({name:e,image:a}){return(0,i.useReducer)(Me,{loading:!1,message:null,name:e,image:a})}({name:a,image:t}),m=(0,i.useMemo)((()=>{const e=d.imageData||d.image;return e?[{url:e,width:300,height:300}]:[]}),[d.image,d.imageData]);(0,i.useEffect)((()=>{s&&l()}),[l,s]);const g=(0,i.useCallback)((e=>{e===$.i.FILE_TOO_BIG?c(Le(Pe)):e===$.i.IMAGE_TOO_SMALL?c(Le(we)):e===$.i.IMAGE_TOO_BIG?c(Le(Ae)):e===$.i.IMAGE_TYPE_NOT_SUPPORTED&&c(Le(Ee))}),[c]),p=(0,i.useCallback)((()=>{c({type:"removeImage"})}),[c]),v=(0,i.useCallback)((async a=>{a.preventDefault();if(0!==d.name.trim().length){c(Ue(!0));try{const a=d.removeImage?null:d.imageToken;await async function(e,{name:a,imageUploadToken:t}){await Ne(Te.n.getInstance(),e,{name:a,imageUploadToken:t})}(e,{name:d.name,imageUploadToken:a}),r({name:d.name,image:d.imageData||d.image})}catch(e){c(Le(Ce))}}else c(Le(Se))}),[c,r,d.image,d.imageData,d.imageToken,d.name,d.removeImage,e]);return(0,h.jsx)(Q.A,{isOpen:!0,contentLabel:u.Ru.get("user.edit-details.title"),onRequestClose:()=>r(),children:(0,h.jsxs)("div",{className:De,children:[(0,h.jsxs)("div",{className:Fe,children:[(0,h.jsx)(G.E,{as:"h1",variant:"titleSmall",children:u.Ru.get("user.edit-details.title")}),(0,h.jsx)("button",{className:He,onClick:()=>r(),"aria-label":u.Ru.get("close"),children:(0,h.jsx)(W.M,{size:"small"})})]}),d.message&&(0,h.jsx)(K.z,{isErrorMessage:"error"===d.message.type,message:d.message.message}),(0,h.jsxs)("form",{className:Be,onSubmit:v,children:[o.edit_image&&(0,h.jsx)($.u,{isOpen:n,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:a,imageDataUrl:t}=e;if(c(Le(null)),c({type:"setImageData",data:t}),a)try{c(Ue(!0));const e=await async function(e){const a=await Te.n.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost("https://image-upload.spotify.com/v4").withMethod("POST").withPath("/user-profile").withBody(e).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:e.type}]).withoutMarket().send();if(!a.body)throw new Error("No upload token received");return a.body.uploadToken}(a);c({type:"setImageToken",token:e}),c(Ue(!1))}catch{c(Le(Oe))}},onError:g}),(0,h.jsxs)("div",{className:Ge,children:[(0,h.jsx)(re,{name:a,images:m,onClickEdit:l,onClickRemove:p,canEdit:o.edit_image}),d.loading&&(0,h.jsx)("div",{className:We,children:(0,h.jsx)(z.I,{})})]}),(0,h.jsxs)("div",{className:Je,children:[(0,h.jsx)("label",{htmlFor:"user-edit-name",className:Qe,children:(0,h.jsx)(G.E,{variant:"marginalBold",className:$e,children:u.Ru.get("user.edit-details.name-label")})}),(0,h.jsx)("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:H()(ze,qe),onChange:e=>{c(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:u.Ru.get("user.edit-details.name-placeholder"),maxLength:32,value:d.name,disabled:!o.edit_name})]}),(0,h.jsx)("div",{className:Ke,children:(0,h.jsx)(J.$,{colorSet:"invertedLight",onClick:v,disabled:d.loading,children:u.Ru.get("save")})}),(0,h.jsx)(G.E,{as:"p",variant:"marginalBold",className:Ze,children:u.Ru.get("image-upload.legal-disclaimer")})]})]})})}));var Ye=t(99842),Xe=t(13948),ea=t(19477),aa=t(31352),ta=t(85137),ia=t(47690),ra=t(3782),sa=t(45292),oa=t(11244),na=t(99263);const la=i.memo((function({openModal:e,spec:a,logger:t,name:r,backgroundColor:s,isCurrentUser:o,uri:n}){const[l,d]=(0,na.Y)(n),c=(0,sa.W)(),m=!(0,oa.n)(),g=(0,i.useCallback)((()=>{c({targetUri:n,intent:l?"unfollow":"follow",type:"click"});const e=a.actionBarFactory().followButtonFactory();l?(d(!1),t.logInteraction(e.hitUnfollow({itemToBeUnfollowed:n}))):(d(!0),t.logInteraction(e.hitFollow({itemToBeFollowed:n})))}),[l,t,c,d,a,n]),p=(0,i.useCallback)((()=>{const e=a.actionBarFactory().contextMenuButtonFactory().hitUiReveal();t.logInteraction(e)}),[t,a]),v=(0,ra.j)();return(0,h.jsx)(Ye.E,{backgroundColor:s,children:(0,h.jsxs)(Xe.S,{children:[!o&&(0,h.jsx)(ta.e,{children:(0,h.jsx)(ia.W,{isFollowing:Boolean(l),onClick:g,disabled:m})}),(0,h.jsx)(aa.b,{menu:(0,h.jsx)(N.B,{uri:n,onEditProfileCallback:e}),children:(0,h.jsx)(ea.e,{label:u.Ru.get("more.label.context",r),onClick:p,size:v})})]})})}));var ua=t(22731),da=t(6408),ca=t(36450),ma=t(50597),ga=t(57103),pa=t(73689),ha=t(69197),va=t(58571),fa=t(65647),xa=t(765),ba=t(62385),ja=t(70045),ya=t(33589),ka=t(74993),Ia=t(23885),_a=t(31845),Ra=t(78089),Na=t(77131),Ta=t(68732),Pa=t(3068),wa=t(8398),Aa=t(68702),Ea=t(30023),Sa=t(44817),Ca=t(98913),Oa=t(78330),Ua=t(65312),La=t(78487),Ma=t(42668),Da=t(63089);const Ba=i.memo((function({uri:e,name:a,duration_ms:t,artists:i,album:r,contextUri:s,isExplicit:o,isMOGEFRestricted:n,isPlayable:l,index:d,imgUrl:c,usePlayContextItem:m}){const{spec:g}=(0,La.r)(da.i,{data:{position:d,reason:"",uri:e}}),{isActive:p,isPlaying:v,triggerPlay:f,togglePlay:x}=m({uri:e,index:d}),b=(0,Ua.T)(e),{isPlayable:j,isAnyArtistBanned:y}=(0,Aa.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:i?.map((e=>e.uri))}),{unBanArtists:k}=(0,wa.M)(i.map((e=>e.uri))),{badges:I,hasBadges:_}=(0,Ma.b)({downloadAvailability:b,isExplicit:o,isMOGEFRestricted:n}),N=i?.map((e=>e.name)).join(u.Ru.getSeparator())||"";return(0,h.jsx)(Oa.pZ,{value:"row",index:d,children:(0,h.jsx)(R.h,{menu:(0,h.jsx)(ca.P,{uri:e,albumUri:r.uri,artists:i,contextUri:s}),children:(0,h.jsxs)(Ta.w,{uri:e,contextUri:s,onTriggerPlay:(e,a)=>{f({loggingParams:a})},isActive:p,index:d,ariaRowIndex:d+1,isPlayable:j,isAnyArtistBanned:y,handleArtistBanUndoClick:k,ageRestricted:n,dragMetadata:{name:a,createdBy:N},spec:g,children:[(0,h.jsx)(ka.y,{ariaColIndex:0,children:(0,h.jsx)(xa.$,{uri:e,playAriaLabel:u.Ru.get("tracklist.a11y.play",a,N),isPlaying:v,isActive:p,onClick:(e,a)=>{x({loggingParams:a})},spec:g,children:(0,h.jsx)(ja.a,{children:d+1})})}),(0,h.jsxs)(Ia.U,{ariaColIndex:1,children:[(0,h.jsx)(va.e,{src:c}),(0,h.jsxs)(fa.l,{children:[(0,h.jsx)(Na.p,{titleText:a,children:a}),_&&(0,h.jsxs)(pa.P,{children:[I.download&&(0,h.jsx)(Ea._,{}),I.explicit&&(0,h.jsx)(Sa.g,{}),I.nineteen&&(0,h.jsx)(Ca.q,{className:Da.A.nineteen,size:16})]}),(0,h.jsx)(Ra.p,{children:(0,h.jsx)(ga.l,{artists:i,spec:g})})]})]}),(0,h.jsx)(_a.o,{ariaColIndex:2,children:(0,h.jsx)(ma.g,{uri:r.uri,name:r.name,creatorUri:i?.[0]?.uri,spec:g,children:r.name})}),(0,h.jsxs)(ya.l,{ariaColIndex:3,children:[(0,h.jsx)(Pa.d,{uri:e,spec:g}),(0,h.jsx)(ha.P,{duration:t}),(0,h.jsx)(ba.Y,{menu:(0,h.jsx)(ca.P,{uri:e,albumUri:r.uri,artists:i,contextUri:s}),label:u.Ru.get("more.label.track",a,N),spec:g})]})]})})})}),((e,a)=>e.uri===a.uri));var Fa=t(20507),Ha=t(76276),Ga=t(4391),Wa=t(21466),za=t(98882),Ja=t(61903),Qa=t(86317),$a=t(92686);const qa=i.memo((function({tracks:e,hasHeaderRow:a=!1,nrTracksVisible:t,uri:r}){const s=(0,_e.v)(r),n=(0,o.du)(s,"tracks").toURI(),l=(0,i.useMemo)((()=>t?e.slice(0,t):e),[t,e]),{usePlayContextItem:d}=(0,za.P)({uri:n,pages:[{items:e.map((e=>({type:Qa.c.TRACK,uri:e.uri,uid:null,provider:null})))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}),c=(0,i.useCallback)(((e,a)=>{const t=(0,$a.g)(e?.albumOfTrack?.coverArt?.sources,{desiredSize:40});return(0,h.jsx)(Ba,{index:a,uri:(0,Wa.a)(e),duration_ms:e.duration.totalMilliseconds,name:e.name,artists:e.artists.items.map((({uri:e,profile:{name:a}})=>({uri:e,name:a}))),album:e.albumOfTrack,isPlayable:!0,isExplicit:e.contentRating?.label===Ja.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===Ja.x7.NineteenPlus,imgUrl:t?.url||"",contextUri:n,usePlayContextItem:d},a+e.uri)}),[n,d]),m=(0,i.useMemo)((()=>[Ha.$.INDEX,Ha.$.TITLE_AND_ARTIST,Ha.$.ALBUM,Ha.$.DURATION]),[]),g=(0,i.useCallback)((e=>({uri:e.uri})),[]),p=(0,Ga.A)()?0:void 0;return(0,h.jsx)(Oa.pZ,{value:"user-top-tracks-tracklist",children:(0,h.jsx)(Fa.S4,{ariaLabel:u.Ru.get("top_tracks_this_month"),renderRow:c,nrTracks:l.length,tracks:l,resolveItem:g,headerTop:p,hasHeaderRow:a,columns:m,columnPersistenceKey:"user-top-tracks-tracklist"})})}),((e,a)=>e.tracks===a.tracks));var Ka=t(72553),Za=t(4139);const Va=i.memo((function({tracks:e,title:a,subtitle:t,seeAllUri:r,className:s,uri:o,spec:n}){const l=(0,Za.s)(),u=(0,i.useCallback)((()=>{const e=n.titleLinkFactory().hitUiNavigate({destination:r});l.logInteraction(e)}),[l,r,n]),d=(0,i.useCallback)((()=>{const e=n.titleLinkFactory().hitUiNavigate({destination:r});l.logInteraction(e)}),[l,r,n]);if(!e||0===e.totalCount||0===e.items.length)return null;const c=e.totalCount>4;return(0,h.jsxs)("section",{className:s,children:[(0,h.jsx)(ua.k,{title:a,subtitle:t,seeAllUri:r,hasMoreElements:c,onClickTitle:u,onClickSeeAll:d}),(0,h.jsx)(Ka.r,{spec:n,children:(0,h.jsx)(qa,{tracks:e.items,uri:o,nrTracksVisible:4})})]})}),((e,a)=>e.tracks===a.tracks));function Ya(e,a){switch(a.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}var Xa=t(96266),et=t(61869);const at=new Xa.l("userTopContent","query","feb6d55177e2cbce2ac59214f9493f1ef2e4368eec01b3d4c3468fa1b97336e2",null);function tt(e){return"Artist"===e.__typename}function it(e){if("ArtistPageV2"!==e?.topArtists?.__typename)return null;const a=e.topArtists.items.map((e=>e.data)).filter(tt);return 0===a.length?null:{totalCount:e.topArtists.totalCount,items:a}}function rt(e){return"Track"===e.__typename}function st(e){if("TrackPageV2"!==e?.topTracks?.__typename)return null;const a=e.topTracks.items.map((e=>e.data)).filter(rt).filter((e=>null!==e.albumOfTrack));return 0===a.length?null:{totalCount:e.topTracks.totalCount,items:a}}const ot=Ja.xE.Affinity,nt=Ja.Nm.ShortTerm;function lt({includeTopArtists:e,includeTopTracks:a,topArtistsLimit:t,topTracksLimit:i}){const{data:r,loading:s,error:o}=(n={includeTopArtists:e,topArtistsInput:{offset:0,limit:t,sortBy:ot,timeRange:nt},includeTopTracks:a,topTracksInput:{offset:0,limit:i,sortBy:ot,timeRange:nt}},l={enabled:e||a,gcTime:18e5,staleTime:3e5},(0,et.I)(at,n,l));var n,l;return null!==o?{topTracks:null,topArtists:null,loading:s,error:new Error("Failed loading user top content!")}:{topTracks:st(r?.me?.profile??null),topArtists:it(r?.me?.profile??null),loading:s,error:null}}var ut=t(45866),dt=t(9395),ct=t(14442),mt=t(57316),gt=t(19019),pt=t(99559),ht=t(9002),vt=t(514),ft=t(18910),xt=t(54570);const bt="J6PX6RfvHlA4BPp7_8sJ",jt="DJCugGBTcU3io4Q28BHl",yt="vpTiIBeCfuGKOTj3Tzg6",kt="eGAuBpyB1eqsyPKbaQU7",It="GoG_UTK1uLaPCfhipeF0",_t=18e5,Rt=3e5,Nt=(0,j.Mz)(pt.mB,(e=>e?.images||[])),Tt=({uri:e,isCurrentUser:a})=>{const t=(0,b.d4)(pt.mB)?.uri,r=(0,b.d4)(pt.Mn),s=(0,b.d4)(Nt),n=(0,b.wA)(),l=(0,x.jE)(),m=(0,y.NC)(gt.DGB,{loadingValue:!0}),v=(0,i.useMemo)((()=>(0,$a.g)(s)),[s]),[{isModalOpen:f,modalVariant:j,shouldOpenImagePicker:F},H]=function(){const[e,a]=(0,i.useReducer)(Ya,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1});return[e,a]}(),{data:G,loading:W,queryKey:z}=(0,p.Z)(g.E$,[{uri:e,playlists:10,artists:10,episodes:10}],{gcTime:_t,staleTime:Rt}),J=(0,ut.V)();(0,mt.N)(ct.mc.OPERATION_COMPLETE,(()=>{l.invalidateQueries({queryKey:z})})),(0,ft.l)(vt.UV.OPERATION_COMPLETE,(()=>{l.invalidateQueries({queryKey:z})}));const Q=G?.public_playlists,$=G?.is_verified,q=G?.recently_played_artists,K=a?v?.url||"":G?.image_url||"",Z=(0,_e.v)(e),V=(a?r:G?.name)||"",Y=(0,dt.H)(G?.image_url||null),{spec:X,logger:ee}=(0,La.r)(k._,{data:{uri:e}}),ae=(0,i.useMemo)((()=>X.sectionTopTracksFactory()),[X]),te=!J&&(!1!==G?.show_follows||a),ie=a&&m,{data:re,loading:se}=(0,p.Z)(g.mH,[e],{enabled:te,gcTime:_t,staleTime:Rt}),oe=re?.profiles,{data:ne,loading:le}=(0,p.Z)(g.SR,[e],{enabled:te,gcTime:_t,staleTime:Rt}),ue=ne?.profiles,de=oe?.some((e=>e.uri===t)),{topArtists:ce,topTracks:me,loading:ge}=lt({includeTopArtists:ie,includeTopTracks:ie,topArtistsLimit:10,topTracksLimit:4}),pe=(0,i.useCallback)((e=>{H({type:"CLOSE_MODAL"}),e&&(n((0,ht.IE)(e.name)),n((0,ht.ZQ)(e.image?[{url:e.image,height:null,width:null}]:[])))}),[H,n]),he=(0,i.useCallback)((()=>{H({type:"OPEN_MODAL"});const e=X.headerFactory().usernameFactory().hitUiReveal();ee.logInteraction(e)}),[ee,H,X]),ve=(0,i.useCallback)((()=>{H({type:"OPEN_MODAL_WITH_IMAGEPICKER"});const e=X.headerFactory().profileImageFactory().hitUiReveal();ee.logInteraction(e)}),[ee,H,X]),fe=(0,i.useMemo)((()=>[{url:K}]),[K]),xe=(0,i.useCallback)((()=>{const e=X.headerFactory().usernameFactory().hitUiReveal();ee.logInteraction(e)}),[ee,X]),be=(0,i.useCallback)(((e,a)=>{if(!a)return;const t=X.headerFactory().followersLinkFactory().hitUiNavigate({destination:a});ee.logInteraction(t)}),[ee,X]),je=(0,i.useCallback)(((e,a)=>{if(!a)return;const t=X.headerFactory().followersLinkFactory().hitUiNavigate({destination:a});ee.logInteraction(t)}),[ee,X]);if(!G||W||se||le||ge)return(0,h.jsx)(c.LoadingPage,{hasError:!1,errorMessage:u.Ru.get("error.not_found.title.page")});const ye=te&&!!ue?.length,ke=te&&!!oe?.length,Ie=(0,h.jsx)(N.B,{uri:G.uri});return(0,h.jsxs)("div",{className:bt,children:[(0,h.jsx)(T.Q,{children:V}),(0,h.jsxs)(w.z,{backgroundColor:Y,children:[(0,h.jsx)(S.h,{children:(0,h.jsx)(R.h,{menu:Ie,children:(0,h.jsx)(C.X,{text:V})})}),(0,h.jsx)(R.h,{menu:Ie,children:(0,h.jsx)(A.X,{children:(0,h.jsx)(P.M,{canEdit:a&&!G.edit_image_disabled,name:V,images:fe,onClick:ve,placeholderType:"user",shape:O.u.CIRCLE})})}),(0,h.jsxs)(E.Y,{children:[(0,h.jsx)(L.B,{children:$?(0,h.jsx)(D.M,{text:u.Ru.get("card.tag.profile")}):u.Ru.get("card.tag.profile")}),(0,h.jsx)(R.h,{menu:Ie,children:(0,h.jsx)(M.mm,{canEdit:a&&!G.edit_name_disabled,editTitle:u.Ru.get("playlist.edit-details.title"),onClick:he,children:V})}),(0,h.jsx)(U.t,{totalFollowers:G.followers_count,totalFollowing:G.following_count,publicPlaylists:G.total_public_playlists_count,userUri:e,onCreatorClick:xe,onTotalFollowersClick:be,onTotalFollowingClick:je,theyFollowUs:de})]})]}),(0,h.jsx)(la,{openModal:he,spec:X,logger:ee,name:V,backgroundColor:Y,isCurrentUser:a,uri:e}),(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsxs)(Ka.r,{spec:X,children:[a&&(0,h.jsxs)(h.Fragment,{children:[null!==ce&&(0,h.jsx)(B.p,{className:jt,total:ce.totalCount,title:u.Ru.get("top_artists_this_month"),subtitle:u.Ru.get("only_visible_to_you"),seeAllUri:(0,o.Qj)(Z,["top","artists"]).toURI(),id:"top-artists",index:0,children:ce.items.map(((e,a)=>(0,h.jsx)(I.a,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri)))}),(0,h.jsx)(Va,{className:jt,title:u.Ru.get("top_tracks_this_month"),subtitle:u.Ru.get("only_visible_to_you"),seeAllUri:(0,o.Qj)(Z,["top","tracks"]).toURI(),uri:e,tracks:me,spec:ae})]}),(0,h.jsx)(B.p,{className:jt,total:G.total_public_playlists_count,title:u.Ru.get("public_playlists"),seeAllUri:(0,o.Qj)(Z,["playlists"]).toURI(),id:"playlists",index:1,children:Q?.map(((e,a)=>(0,h.jsx)(_.B,{index:a,uri:e.uri,name:e.name,images:[{url:(0,xt.m)({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?u.Ru.get("user.followers",e.followers_count):""},e.uri)))}),q?.length?(0,h.jsx)(B.p,{className:jt,total:q?.length,title:u.Ru.get("recently_played_artists"),seeAllUri:(0,o.Qj)(Z,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:2,children:q?.map(((e,a)=>(0,h.jsx)(I.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,ye?(0,h.jsx)(B.p,{className:jt,title:u.Ru.get("followers"),total:ue?.length,seeAllUri:(0,o.Qj)(Z,["followers"]).toURI(),id:"followers",index:3,children:ue?.map(((e,a)=>(0,h.jsx)(d.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,ke?(0,h.jsx)(B.p,{className:jt,title:u.Ru.get("following"),total:oe?.length,seeAllUri:(0,o.Qj)(Z,["following"]).toURI(),id:"following",index:4,children:oe?.map(((e,a)=>(0,h.jsx)(d.a,{index:a,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,a&&f&&("editProfile"===j?(0,h.jsx)(Ve,{uri:e,name:V,image:K,onClose:pe,shouldOpenImagePicker:F,userCapabilities:{edit_image:!G?.edit_image_disabled,edit_name:!G?.edit_name_disabled}}):null)]})})]})},Pt=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,p.Z)(g.Eo,[{uri:a}]),{public_playlists:s,total_public_playlists_count:o=0}=t||{};return i?(0,h.jsx)(c.LoadingPage,{hasError:null!==r,errorMessage:u.Ru.get("error.not_found.title.page")}):(0,h.jsx)(m.$,{total:o,title:u.Ru.get("public_playlists"),showAll:!0,fullPage:!0,rowGap:l.lT,children:s?.map(((e,a)=>(0,h.jsx)(_.B,{index:a,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?u.Ru.get("user.followers",e.followers_count):"",images:[{url:(0,xt.m)({imageUriOrUrl:e.image_url}),width:300,height:300}]},e.uri)))})},wt=e=>{const{uri:a}=e,{data:t,loading:i,error:r}=(0,p.Z)(g.sL,[{uri:a,limit:50}]),s=t?.artists;return i?(0,h.jsx)(c.LoadingPage,{hasError:null!==r,errorMessage:u.Ru.get("error.not_found.title.page")}):(0,h.jsx)(m.$,{total:s?.length,title:u.Ru.get("recently_played_artists"),showAll:!0,fullPage:!0,rowGap:l.lT,children:s?.map(((e,a)=>(0,h.jsx)(I.a,{index:a,name:e.name,uri:e.uri,images:[{url:e.image_url}]},e.uri)))})},At=()=>{const{topArtists:e,loading:a,error:t}=lt({includeTopArtists:!0,includeTopTracks:!1,topArtistsLimit:100,topTracksLimit:0});return a?(0,h.jsx)(c.LoadingPage,{hasError:null!==t,errorMessage:u.Ru.get("error.not_found.title.page")}):null===e?null:(0,h.jsx)(m.$,{total:e.items.length,title:u.Ru.get("top_artists_this_month"),subtitle:u.Ru.get("only_visible_to_you"),showAll:!0,fullPage:!0,rowGap:l.lT,children:e.items.map(((e,a)=>(0,h.jsx)(I.a,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri)))})},Et=({isCurrentUser:e})=>e?(0,h.jsx)(At,{}):(0,h.jsx)(c.LoadingPage,{hasError:!0,errorMessage:u.Ru.get("error.not_found.title.page")}),St=({uri:e})=>{const{topTracks:a,loading:t,error:i}=lt({includeTopArtists:!1,includeTopTracks:!0,topArtistsLimit:0,topTracksLimit:100});return t?(0,h.jsx)(c.LoadingPage,{hasError:null!==i,errorMessage:u.Ru.get("error.not_found.title.page")}):null===a?null:(0,h.jsxs)("div",{className:H()("contentSpacing",yt),children:[(0,h.jsxs)("div",{className:kt,children:[(0,h.jsx)(G.E,{as:"h1",variant:"titleMedium",className:It,children:u.Ru.get("top_tracks_this_month")}),(0,h.jsx)(G.E,{as:"p",variant:"bodySmall",children:u.Ru.get("only_visible_to_you")})]}),(0,h.jsx)(qa,{tracks:a.items,uri:e,hasHeaderRow:!0})]})},Ct=({uri:e,isCurrentUser:a})=>a?(0,h.jsx)(St,{uri:e}):(0,h.jsx)(c.LoadingPage,{hasError:!0,errorMessage:u.Ru.get("error.not_found.title.page")});var Ot=t(69e3);const Ut="cubl27eU3uN3hmAiqdmQ",Lt=(0,i.memo)((function(){const{userId:e=""}=(0,r.g)(),a=decodeURIComponent(e),t=(0,o.Qj)(a).toURI(),i=(e=>{const a=(0,ut.V)(),t=(0,Ot.C)()?.username;return!a&&t===e})(a);return(0,h.jsx)("section",{className:Ut,children:(0,h.jsxs)(r.BV,{children:[(0,h.jsx)(r.qh,{path:"playlists",element:(0,h.jsx)(n.e,{pageId:s.$h.PROFILE_PLAYLISTS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(Pt,{uri:t})})})}),(0,h.jsx)(r.qh,{path:"top/tracks",element:(0,h.jsx)(n.e,{pageId:s.$h.PROFILE_TOP_TRACKS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(Ct,{uri:t,isCurrentUser:i})})})}),(0,h.jsx)(r.qh,{path:"top/artists",element:(0,h.jsx)(n.e,{pageId:s.$h.PROFILE_TOP_ARTISTS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(Et,{isCurrentUser:i})})})}),(0,h.jsx)(r.qh,{path:"recently-played-artists",element:(0,h.jsx)(n.e,{pageId:s.$h.PROFILE_RECENTLY_PLAYED_ARTISTS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(wt,{uri:t})})})}),(0,h.jsx)(r.qh,{path:"following",element:(0,h.jsx)(n.e,{pageId:s.$h.PROFILE_FOLLOWING,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(f,{uri:t})})})}),(0,h.jsx)(r.qh,{path:"followers",element:(0,h.jsx)(n.e,{pageId:s.$h.PROFILE_FOLLOWERS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(v,{uri:t})})})}),(0,h.jsx)(r.qh,{path:"/",element:(0,h.jsx)(n.e,{pageId:s.$h.PROFILE,children:(0,h.jsx)(Tt,{uri:t,isCurrentUser:i})})})]})})}))},69e3:(e,a,t)=>{t.d(a,{C:()=>s});var i=t(41978),r=t(86317);const s=()=>{const e=(0,i.d4)((e=>e.session?.user));return e?{type:r.c.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((({url:e,width:a,height:t})=>({url:e,width:a||void 0,height:t||void 0})))}:null}},9395:(e,a,t)=>{t.d(a,{H:()=>n});var i=t(30758),r=t(13390),s=t(53945),o=t(61626);function n(e=null,a=r.l0o){const{backgroundColor:t}=(0,s.oI)(),n=(0,s.as)(),l=(0,o.z)(e);return(0,i.useEffect)((()=>(n((0,s.Mo)(l)),()=>{n((0,s.Hf)())})),[l,n]),t||a}},21466:(e,a,t)=>{t.d(a,{a:()=>i});const i=e=>e?.linked_from?.uri||e.uri},54113:(e,a,t)=>{t.d(a,{b:()=>s,g:()=>r});var i=t(30758);let r=function(e){return e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error",e}({});function s(e,a){const t=e?r.loading:r.error,[s,o]=(0,i.useState)(t);return(0,i.useEffect)((()=>{const t=()=>{o(r.loaded)},i=()=>{o(r.error)};if(!e)return o(r.error),()=>{};o(r.loading);const s=document.createElement("img");return s.addEventListener("load",t),s.addEventListener("error",i),s.setAttribute("src",e),a&&s.setAttribute("srcSet",a),()=>{s.removeEventListener("load",t),s.removeEventListener("error",i)}}),[e,a]),s}},61626:(e,a,t)=>{t.d(a,{r:()=>u,z:()=>d});var i=t(30758),r=t(13390),s=t(56629),o=t(17862),n=t(95168),l=t(2569);function u(e=null){const{request:a}=(0,i.useContext)(n.j),{data:t}=(0,l.I)({queryKey:["extracted-color",e],queryFn:()=>e?(0,o.j)(a,e).then((([{colorDark:e,colorLight:a,colorRaw:t}])=>({colorDark:e.toCSS(s.a.HEX),colorLight:a.toCSS(s.a.HEX),colorRaw:t.toCSS(s.a.HEX)}))):null,gcTime:864e5,staleTime:216e5,enabled:!!e});return t??void 0}function d(e=null,a=r.l0o,t="colorRaw"){return u(e)?.[t]??a}}}]);
//# sourceMappingURL=xpui-routes-profile.js.map