"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[978,439,853],{72991:(e,t,i)=>{i.d(t,{U:()=>o});var n=i(41331),s=i(39503),a=i(31352),d=i(86070);const o=({menu:e,onClick:t,"aria-label":i})=>(0,d.jsx)(a.b,{menu:e,children:(0,d.jsx)(s.e,{size:s.M.xs,label:n.Ru.get("more"),ariaLabel:i,onClick:t})})},69293:(e,t,i)=>{i.d(t,{n:()=>d});var n=i(45237),s=i(27046),a=i(86070);const d=({icon:e,activeIcon:t,label:i,isActive:d,...o})=>(0,a.jsx)(s.Zp,{label:i,children:(0,a.jsx)(n.H,{"aria-label":`${i}, ${d?"selected":"unselected"}, button`,"aria-pressed":d,semanticColor:d?"textBrightAccent":"textSubdued",iconOnly:d?t:e,"aria-haspopup":"menu",size:"small",...o})})},30911:(e,t,i)=>{i.d(t,{I:()=>l});var n=i(30758),s=i(82063),a=i(15231),d=i(59677),o=i(91360),r=i(62562),c=i(86070);const l=({uri:e,title:t,clickUrl:i,onClick:l,variant:u,semanticColor:m,testid:v="ad-link"})=>{const x=(0,n.useMemo)((()=>(0,d.o_)(i)?.toURLPath(!0)),[i]);let p;return x?p=(0,c.jsx)(o.N,{to:x,dir:"auto","data-testid":v,children:t}):i&&(p=(0,c.jsx)(s.Y,{href:i,"data-testid":v,onClick:l,semanticColor:m,standalone:!0,dir:"auto",children:t})),(0,c.jsx)(r.r,{title:t,children:(0,c.jsx)(a.E,{as:"p",variant:u,semanticColor:m,dir:"auto",children:p||t})},e)}},60978:(e,t,i)=>{i.r(t),i.d(t,{AdsNpv:()=>vt,default:()=>xt});var n=i(39733),s=i(3918),a=i(36781),d=i(15231),o=i(41331),r=i(62562);const c={standardHeader:"OnnbOInFe49hYMQmhwUC",fixedHeader:"XZaBo7y3JfnBbjVV9TZo",verticalVideoHeader:"UP1rH6cQZiAZCdkPnDOg"};var l=i(86070);const u=({item:e,variant:t="bodyMediumBold",semanticColor:i="textBase",experience:n="standard"})=>{const s=c[`${n}Header`],a=e.isPodcastAd?o.Ru.get("ad-formats.npv.header.podcast-context"):o.Ru.get("ad-formats.npv.header.music-context");return(0,l.jsx)("div",{className:s,children:(0,l.jsx)(r.r,{children:(0,l.jsx)(d.E,{variant:t,semanticColor:i,children:a})},a)})};var m=i(65968);const v="UhO5sUnZ2AoTQjzRdVvw",x=({url:e})=>(0,l.jsx)("div",{className:v,children:(0,l.jsx)(m._,{testid:"cover-art-image",loading:"lazy",src:e})}),p=({item:e,visualEnhancementUrl:t})=>(0,l.jsx)(x,{item:e,url:t}),f=e=>(0,l.jsx)(l.Fragment,{}),h="pvAyLo3KN8QP7KxQtiub",j="r4EqB8Z5_aywMW_8I84P",b=e=>{const{item:t}=e,i=t?.metadata?.["ad.canvas.type"];return"video"===i?(0,l.jsx)(f,{...e}):(0,l.jsx)(p,{...e})},k=e=>(0,l.jsxs)("div",{className:h,children:[(0,l.jsx)("div",{className:j}),(0,l.jsx)(b,{...e})]});var _=i(72991),g=i(76497),I=i(45828);const y="iDW7b6oChePRpgfDFY3U",E=({item:e})=>(0,l.jsxs)("div",{className:y,children:[(0,l.jsx)(I.T,{item:e}),(0,l.jsx)(g.t,{item:e})]});var C=i(60439),N=i(10853);const T="JiMklw0itqYJ1aE76Vi8",A=({item:e})=>(0,l.jsxs)("div",{className:T,children:[(0,l.jsx)(N.ContextAdTitle,{item:e,surface:"AD_NPV"}),(0,l.jsx)(C.ContextAdSubtitle,{item:e,surface:"AD_NPV"})]});var S=i(23942),M=i(71726),q=i(73527),R=i(20769);function U(){const e=(0,R.vh)();return{linkUbiEvent:function({adId:t,ubiEventId:i,product:n,format:s,requestId:a}){e.send((0,q.A)({ad_id:t,ad_request_id:a,ad_format:s,content_type:n,ubi_event_id:i}))}}}var w=i(30758),V=i(4924),F=i(99186),P=i(41978),D=i(66475),z=i(36131),O=i(16547),B=i(78330),L=i(4139);const Q=({item:e,spec:t,contextTrack:i})=>{const n=(0,P.wA)(),s=(0,L.s)(),{linkUbiEvent:a}=U(),d=`${(0,S.Mj)(i)}_${(0,S.q5)(i)}`;return(0,l.jsx)(F.D,{role:"menuitem",testid:"about-this-ad-context-menu-item",leadingIcon:(0,l.jsx)(D.p,{size:"small"}),"aria-label":o.Ru.get("ad-formats.dsa.aboutThisAd"),onClick:()=>{n((0,O.Oc)()),n((0,z.b0)(e));const o=t.contextMenuFactory({identifier:e.metadata?.lineitem_id,reason:d}).triggerDsaFactory().hitUiNavigate({destination:"/context_menu"}),{interactionId:r}=s.logInteraction(o);a({adId:e.adId,requestId:e.requestId,ubiEventId:r,format:(0,S.Mj)(i),product:(0,S.q5)(i)})},divider:"before",children:o.Ru.get("ad-formats.dsa.aboutThisAd")})},Z=(0,w.memo)((function(e){return(0,l.jsx)(B.pZ,{value:"about-this-ad",children:(0,l.jsx)(Q,{...e})})})),W=(0,w.memo)((function({item:e,spec:t,contextTrack:i}){const n=(0,L.s)(),{linkUbiEvent:s}=U(),a=`${(0,S.Mj)(i)}_${(0,S.q5)(i)}`;return(0,w.useEffect)((()=>{(()=>{const d=n.logImpression(t.contextMenuFactory({identifier:e.metadata?.lineitem_id,reason:a}).impression());s({adId:e.adId,requestId:e.requestId,format:(0,S.Mj)(i),product:(0,S.q5)(i),ubiEventId:d})})()}),[]),(0,l.jsx)(B.pZ,{value:"ad",children:(0,l.jsxs)(V.W,{children:[(0,l.jsx)(B.pZ,{value:"ad-title",children:(0,l.jsx)(F.D,{role:"menuitem",testid:"ad-title-context-menu-item",divider:"after",disabled:!0,children:e.metadata.advertiser})}),(0,l.jsx)(Z,{item:e,spec:t,contextTrack:i})]})})}));var H=i(19019);const $="NYcvpWpgvQYZploOD6rI",Y="OpXrpghZvv_w9ygosJFP",J=({item:e,spec:t})=>{const i=(0,n.NC)(H.SeK,{loadingValue:!1}),s=(0,M.mr)(),a=(0,L.s)(),{linkUbiEvent:d}=U(),o=`${(0,S.Mj)(e)}_${(0,S.q5)(e)}`;return(0,l.jsxs)("div",{className:$,children:[(0,l.jsx)(A,{item:e}),(0,l.jsxs)("div",{className:Y,children:[(0,l.jsx)(E,{item:e}),i&&s?.isDsaEligible&&(0,l.jsx)("div",{"data-testid":"PanelHeader_AdContextMenuButton",children:(0,l.jsx)(_.U,{menu:(0,l.jsx)(W,{item:s,contextTrack:e,spec:t}),onClick:()=>{if(s){const i=t.infoContainerFactory().contextMenuButtonFactory({identifier:s.metadata?.lineitem_id,reason:o}).hitUiNavigate({destination:"/context_menu"}),{interactionId:n}=a.logInteraction(i);d({adId:s.adId,requestId:s.requestId,format:(0,S.Mj)(e),product:(0,S.q5)(e),ubiEventId:n})}}})})]})]})};var G=i(30258);const X=({item:e,context:t,index:i})=>t?(0,l.jsx)(G.h,{context:t,item:e,index:i}):null,K="tD84X2SD0IicMx3osK8a",ee=({item:e,spec:t,currentPanel:i,canvasVisualEnhancementUrl:n})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k,{item:e,visualEnhancementUrl:n,currentPanel:i,spec:t}),(0,l.jsx)("div",{className:K,children:(0,l.jsx)(J,{item:e,currentPanel:i,spec:t})})]}),te=({item:e,spec:t,context:i,index:n,currentPanel:s})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(X,{item:e,context:i,index:n}),(0,l.jsx)(J,{item:e,currentPanel:s,spec:t})]}),ie=e=>{const{item:t}=e,i=(0,n.NC)(H.Qdk,{loadingValue:!1}),s=t?.metadata?.["ad.canvas.type"],a="image"===s||"video"===s,d=t.metadata?.["ad.canvas.url"];return!!(i&&a&&"image"===s&&d)?(0,l.jsx)(ee,{...e,canvasVisualEnhancementUrl:d}):(0,l.jsx)(te,{...e})};var ne=i(97500),se=i.n(ne),ae=i(7008),de=i(66371),oe=i(5052),re=i(20633),ce=i(49373),le=i(63774),ue=i(51229),me=i(91360);const ve="mJucukPuB6OTWgaD4MZk",xe="i3o8ABclZov7rz8zzKYP",pe=(0,w.lazy)((()=>i.e(38).then(i.bind(i,70038)))),fe=({item:e,backgroundColor:t,className:i})=>{const n=(0,P.wA)(),{url:s,buttonMessage:a,tagline:d}=(0,S.iz)(e),r=a||o.Ru.get("ad-formats.learnMore");if(!s)return null;const c=se()(ve,i),u=(0,ce.H)(s);return(0,l.jsx)(me.N,{to:u,"data-testid":"ad-companion-card",className:c,onClick:()=>{n((0,ue.q5)(le.c.COMPANION_CARD,le.V.AD_NPV))},children:(0,l.jsx)(ae.v,{style:{backgroundColor:t},className:xe,onClickHint:o.Ru.get("ad-formats.learnMore"),variant:"tinted",horizontalGap:(0,de.po)("looser"),id:e.uri,title:(0,l.jsx)(oe.d,{variant:"mestoBold","data-testid":"ad-companion-card-tagline",children:d||r}),trailing:(0,l.jsx)(w.Suspense,{fallback:(0,l.jsx)(re.V,{}),children:d?(0,l.jsx)(pe,{onClick:()=>{n((0,ue.q5)(le.c.CTA_BUTTON,le.V.AD_NPV))},text:r}):(0,l.jsx)(re.V,{semanticColor:"textBase"})})})})};var he=i(78309),je=i(59072),be=i(25281),ke=i(54648),_e=i(72373),ge=i(74946),Ie=i(20057);function ye(){const e=(0,R.vh)();return{sendSurveyAdEvent:({questionId:t,optionId:i,event:n,eventReason:s,position:a,ad:d})=>e.send((0,Ie.i)({ad_id:d.adId,request_id:d.requestId,lineitem_id:d.metadata.lineitem_id,question_id:t,option_id:i,option_position:a,event:n,event_reason:s,slot:d.slot,format:(0,je.gh)(d.format).toLowerCase(),product_name:d.metadata.product_name,in_focus:!0}))}}const Ee="zr0dLusU4AgiRoEVZVx_",Ce="aDISd8UFo3WaHvR_MBbQ",Ne="FQKI6EvRALxogOFyociA",Te=({data:e,selected:t,handleOptionClick:i,className:n,handleSubmitClick:s,ad:a})=>{const{sendSurveyAdEvent:d}=ye(),r=(n,s)=>{const o={id:n.id,"aria-label":`Select ${n.primaryText}`};return e.surveyQuestionType===je.xV.MULTI_SELECT?(0,l.jsx)(be.c,{...o,checked:t.has(n.id),onChange:()=>{i({optionId:n.id,isExclusive:n.isExclusive,questionType:e.surveyQuestionType,position:s}),d({optionId:n.id,questionId:e.id,event:t.has(n.id)?"event_option_deselected":"event_option_selected",position:s,ad:a})}}):(0,l.jsx)(ke.M,{...o,checked:t.has(n.id),onChange:()=>{i({optionId:n.id,isExclusive:n.isExclusive,questionType:e.surveyQuestionType,position:s}),d({optionId:n.id,questionId:e.id,event:"event_option_selected",position:s,ad:a})}})};return(0,l.jsxs)(_e.g,{labelFor:e.id,withFieldset:!0,className:se()(Ee,n),children:[(0,l.jsx)("div",{className:Ce,children:e.surveyQuestionOptions.map(((n,s)=>(0,l.jsx)(ae.v,{className:Ne,id:n.id,variant:"elevated",title:n.primaryText,leading:r(n,s),isSelected:t.has(n.id),onClick:()=>{i({optionId:n.id,isExclusive:n.isExclusive,questionType:e.surveyQuestionType,position:s}),d({optionId:n.id,questionId:e.id,event:t.has(n.id)?"event_option_deselected":"event_option_selected",position:s,ad:a})}},n.id)))}),(0,l.jsx)(ge.$,{disabled:0===t.size,size:"medium",fullWidth:!0,colorSet:"invertedLight",label:"Submit","data-testid":"survey-submit-button",onClick:s,children:o.Ru.get("ad-formats.survey-submit-button")})]})};var Ae=i(15521);const Se="HgfSrPwFpIvBDXNMx0NO",Me="FjDNaretUQGhB3YYHUaZ",qe="MDmTCQhrCnUXjUhyWx_A",Re=({showThankYou:e,ad:t,questionId:i})=>{const{sendSurveyAdEvent:n}=ye();return(0,w.useEffect)((()=>{e&&n({questionId:i,event:"event_thank_you_displayed,",ad:t})}),[i,e]),(0,l.jsxs)("div",{className:se()(Me,{[qe]:e}),children:[(0,l.jsx)(Ae.T,{size:"xxlarge",spacing:"small"}),(0,l.jsx)(d.E,{as:"h1",variant:"titleSmall",paddingBottom:"tighter-2",className:Se,children:o.Ru.get("ad-formats.survey-thankyou")})]})};function Ue(){const[e,t]=(0,w.useState)(new Map),[i,n]=(0,w.useState)(!1);return{selected:e,handleOptionClick:({optionId:i,isExclusive:n,questionType:s,position:a})=>{let d=new Map(e);s===je.xV.MULTI_SELECT?d=function({optionId:e,selected:t,isExclusive:i,position:n}){let s;t.has(e)?(s=new Map(t),s.delete(e)):s=function({optionId:e,selected:t,isExclusive:i,position:n}){const s=new Map(t);i&&s.clear();return t.forEach((({isExclusive:e},t)=>{e&&s.delete(t)})),s.set(e,{isExclusive:i,position:n}),s}({optionId:e,isExclusive:i,selected:t,position:n});return s}({optionId:i,isExclusive:n,selected:e,position:a}):s===je.xV.SINGLE_SELECT&&(d=function({optionId:e,selected:t,position:i}){let n=new Map(t);t.has(e)||(n=function({optionId:e,selected:t,position:i}){const n=new Map(t);return n.clear(),n.set(e,{isExclusive:!0,position:i}),n}({optionId:e,selected:t,position:i}));return n}({optionId:i,selected:e,position:a})),t(d)},setSurveyIsSubmitted:n,submitted:i}}var we=i(72024);const Ve=({ad:e,eventSender:t,logger:i,questionId:n,selected:s})=>{const a=[];s.forEach(((e,t)=>{const i=(({id:e,selectedOption:t})=>we.$y.create({selectedSurveyQuestionOptionId:e,optionPositionIndex:t.position.toString()}))({id:t,selectedOption:e});a.push(i)}));const d=we.Tl.create({surveyQuestionId:n,selectedSurveyOptions:a}),o=we.BN.create({surveyQuestionAnswers:[d]}),r=we.A7.create({survey:o});i.logAdEvent({event:"survey_submitted",payload:r}),i.logAdEvent({event:"ended"}),t.send((0,Ie.i)({ad_id:e.adId,event:"event_survey_submitted",format:(0,je.gh)(e.format).toLowerCase(),in_focus:!0,lineitem_id:e.metadata?.lineitem_id,product_name:"brand_survey",question_id:n,request_id:e.requestId,response:JSON.stringify(r),slot:e.slot}))},Fe="XFxk7nCaMIgyzOTwEU76",Pe="t0tXcDnhLTEc7Z6kVTGw",De="QycmfMZzDGWtSGgfokVo",ze="Hsk_MEaCGP5naarBa1cW",Oe="IoW32HJWRXjU1yMPfbov",Be="EOKrRyJSutHyaJlVGzEv",Le="wwMW6Wvdm9AuIQU5gydZ",Qe="SerG2ug6jRX7YufayNQ4",Ze=({question:e,ad:t})=>{const i=(()=>{const{logger:e}=(0,M.yU)();return e})(),n=(0,R.vh)(),{sendSurveyAdEvent:s}=ye(),a=(0,M.dY)();(0,w.useEffect)((()=>{s({questionId:e.id,event:"event_creative_viewed",ad:t})}),[e.id]);const{selected:o,handleOptionClick:r,submitted:c,setSurveyIsSubmitted:u}=Ue();(0,w.useEffect)((()=>{e.surveyQuestionType in je.xV||(i.logAdEvent({event:"errored",reason:"survey_malformed"}),a.skipToNext())}));const m=(0,w.useRef)(null),[v,x]=(0,w.useState)(!1),[p,f]=(0,w.useState)(0);return(0,w.useEffect)((()=>{m.current?.offsetWidth&&m.current?.offsetWidth>0&&f(m.current?.offsetWidth)}),[]),(0,w.useEffect)((()=>{const e=setTimeout((()=>{x(!0)}),1e3);return()=>clearTimeout(e)}),[]),(0,l.jsxs)(he.a,{style:{maxHeight:p>0?p:"unset",height:p>0?p:"unset"},className:se()(Fe,{[Pe]:v}),padding:"looser",id:"survey-box",ref:m,children:[(0,l.jsx)("div",{className:se()(Le,{[Qe]:c}),children:(0,l.jsxs)("div",{className:De,children:[(0,l.jsx)(d.E,{as:"h1",variant:"titleSmall",paddingBottom:"tighter-2",className:ze,children:e.primaryText}),(0,l.jsx)(d.E,{paddingBottom:"base",as:"p",semanticColor:"textSubdued",variant:"bodySmall",children:e.secondaryText}),(0,l.jsx)(Te,{ad:t,selected:o,handleOptionClick:r,handleSubmitClick:()=>{u(!0),Ve({eventSender:n,ad:t,selected:o,logger:i,questionId:e.id}),setTimeout((()=>{a.skipToNext()}),2e3)},data:e,className:se()(Oe,{[Be]:v})})]})}),(0,l.jsx)(Re,{showThankYou:c,ad:t,questionId:e.id})]})},We=({survey:e,ad:t})=>e?(0,l.jsx)(Ze,{question:e?.surveyQuestions[0],ad:t}):null,He=(0,w.memo)((function({displayText:e,url:t,ad:i,questionId:n}){const{sendSurveyAdEvent:s}=ye();return(0,w.useEffect)((()=>{s({questionId:n,event:"event_context_menu",ad:i})}),[n]),(0,l.jsx)(V.W,{children:(0,l.jsx)(F.D,{role:"menuitem",leadingIcon:(0,l.jsx)(D.p,{size:"small"}),"aria-label":`${e}, link`,to:t,children:e})})})),$e="iFWtvDR8p3PNwLx46nWu",Ye=({item:e})=>{const t=(0,M.mr)(),i=(0,w.useMemo)((()=>t?.companions.find((e=>e.survey))?.survey),[t]),n=i?.surveyTransparencyContent;return t?(0,l.jsxs)("div",{children:[(0,l.jsx)(We,{survey:i,ad:t}),(0,l.jsxs)("div",{className:$e,children:[(0,l.jsx)(A,{item:e}),n&&(0,l.jsx)(_.U,{"aria-label":"More options, button",menu:(0,l.jsx)(He,{questionId:i?.surveyQuestions[0].id,ad:t,displayText:n.transparencyLabel,url:n.transparencyUrl})})]})]}):null},Je=e=>{const t=(0,P.d4)((e=>e.ads?.vto));return"audio"===e?.mediaType||!t?.isMinimized};var Ge=i(25228);const Xe="M7UVXKPsARIM71fmtSUG",Ke="HKhLNVB5OsH5osqax9lk",et="i_7T75rV7Rj7AyykwrCf",tt="na5oNvZD9KtuYIUiIUZg",it="_7QFCuyjgT6BwUe1JJVL",nt="g1fyNwi0G98CTbv9v4We",st=({item:e,context:t,index:i,currentPanel:n,spec:s})=>{const a=Je(e),d="portrait"===e.videoOrientation,o=d&&!a?Xe:"",r=se()(it,{[nt]:d}),c=se()({[tt]:d});return(0,l.jsxs)("div",{className:r,children:[a?(0,l.jsx)(X,{item:e,context:t,index:i}):(0,l.jsxs)("div",{className:et,children:[d&&(0,l.jsx)("div",{className:Ke}),(0,l.jsx)("div",{className:c,children:(0,l.jsx)(Ge.F,{})})]}),(0,l.jsx)("div",{className:o,children:(0,l.jsx)(J,{item:e,currentPanel:n,spec:s})})]})};var at=i(13390),dt=i(61626);var ot=i(30327);var rt=i(78487);const ct="nONhpa6k5EMxHTR1RXhM",lt="cp7_8T7Q27pZ5zYXUFOW",ut="IVGg8Hz4Py4BaPEyJz0T",mt="tUurYuAJ2ZftcyLRFJ9z",vt=({item:e,context:t,index:i,currentPanel:d})=>{const{logoImage:o}=(0,S.iz)(e),r=Je(e),c=e?.metadata?.["ad.canvas.type"],m="image"===c||"video"===c,v="portrait"===e.videoOrientation&&!r,{spec:x,UBIFragment:p}=(0,rt.r)(s.m,{}),f=((e=null,t=0,i=at.CpN)=>{const[n,s]=(0,w.useState)(i),a=(0,dt.z)(e,i,"colorDark");return(0,w.useEffect)((()=>{setTimeout((()=>{s(a)}),t)}),[t,a]),n})((0,a.Df)(e)?o:e?.images[0]?.url||o,600),h=(0,n.NC)(H.gLA,{loadingValue:!1}),j=v?"verticalVideo":m?"fixed":"standard",b=(e=>{const t=(0,R.vh)(),i=(0,M.mr)(),s=i?.requestId,d=(0,n.NC)(H.o4S,{loadingValue:!1});return(0,w.useEffect)((()=>{if(s&&(0,a.o0)(e)&&!d){const n=i?.metadata,{slot:a,format:d}=i;t.send((0,ot.A)({event:"event_errored",event_reason:"survey-ad-feature-disabled",ad_id:e.id,request_id:s,creative_id:n?.creative_id,lineitem_id:n?.lineitem_id,slot:a,format:(0,je.gh)(d).toLowerCase(),product_name:n?.product_name}))}}),[]),(0,a.o0)(e)&&d?"survey":(0,a.Df)(e)?"video":"audio"})(e);return(0,l.jsx)("div",{className:ct,children:(0,l.jsx)(p,{spec:x,children:(0,l.jsxs)("div",{className:lt,children:[(0,l.jsxs)("div",{className:ut,children:[(0,l.jsx)(u,{item:e,experience:j}),(()=>{switch(b){case"video":return(0,l.jsx)(st,{item:e,spec:x,index:i,currentPanel:d,context:t});case"survey":return(0,l.jsx)(Ye,{item:e});default:return(0,l.jsx)(ie,{item:e,context:t,index:i,currentPanel:d,spec:x})}})()]}),"survey"!==b?(0,l.jsx)(fe,{item:e,className:mt,...h&&{backgroundColor:f}}):null]})})})},xt=vt},76497:(e,t,i)=>{i.d(t,{t:()=>j});var n=i(41978),s=i(42395),a=i(69533),d=i(41331),o=i(69293),r=i(99490),c=i(87652),l=i(61025),u=i(31352),m=i(30758),v=i(4924),x=i(99186),p=i(78330),f=i(86070);const h=(0,m.memo)((function({onFeedbackReasonSelect:e}){const t=new Map([["not_relevant",d.Ru.get("ad-formats.ad-feedback.dislike.not-relevant")],["too_often",d.Ru.get("ad-formats.ad-feedback.dislike.too-often")],["unpleasant",d.Ru.get("ad-formats.ad-feedback.dislike.unpleasant-content")],["offensive",d.Ru.get("ad-formats.ad-feedback.dislike.offensive-content")],["do_not_like",d.Ru.get("ad-formats.ad-feedback.dislike.do-not-like")]]);return(0,f.jsx)(p.pZ,{value:"dislike-ad",children:(0,f.jsx)(v.W,{children:Array.from(t).map((([t,i])=>(0,f.jsx)(p.pZ,{value:i,children:(0,f.jsx)(x.D,{role:"menuitem","aria-label":i,onClick:()=>e(t,i),children:i})},t)))})})})),j=({item:e})=>{const t=(0,n.wA)(),{logAdFeedback:i}=(0,r.L)(e),m=(0,n.d4)((t=>(0,l.N2)(t,e.id)));return(0,f.jsx)(u.b,{menu:(0,f.jsx)(h,{onFeedbackReasonSelect:(n,s)=>{e.id&&(t((0,c.NI)({adId:e.id,reason:s})),i(`dislike_${n}`))}}),children:(0,f.jsx)(o.n,{item:e,icon:s.P,activeIcon:a.X,label:d.Ru.get("ad-formats.ad-feedback.dislike"),isActive:m,"data-testid":"button-dislike-ad",onClick:()=>{if(e.id){if(m)return t((0,c.vA)({adId:e.id})),void i("cancel_dislike");t((0,c.NI)({adId:e.id})),i("dislike_menu")}}})})}},45828:(e,t,i)=>{i.d(t,{T:()=>j});var n=i(41978),s=i(57256),a=i(66410),d=i(41331),o=i(69293),r=i(99490),c=i(87652),l=i(61025),u=i(31352),m=i(30758),v=i(4924),x=i(99186),p=i(78330),f=i(86070);const h=(0,m.memo)((function({onFeedbackReasonSelect:e}){const t=new Map([["relevant",d.Ru.get("ad-formats.ad-feedback.like.relevant")],["interested_in_brand",d.Ru.get("ad-formats.ad-feedback.like.interested-in-brand")],["interested_in_product",d.Ru.get("ad-formats.ad-feedback.like.interested-in-product")],["enjoyable",d.Ru.get("ad-formats.ad-feedback.like.enjoyable-content")],["discovered_new",d.Ru.get("ad-formats.ad-feedback.like.discovered-new")]]);return(0,f.jsx)(p.pZ,{value:"like-ad",children:(0,f.jsx)(v.W,{children:Array.from(t).map((([t,i])=>(0,f.jsx)(p.pZ,{value:i,children:(0,f.jsx)(x.D,{role:"menuitem","aria-label":i,onClick:()=>e(t,i),children:i})},t)))})})})),j=({item:e})=>{const t=(0,n.wA)(),{logAdFeedback:i}=(0,r.L)(e),m=(0,n.d4)((t=>(0,l.Tt)(t,e.id)));return(0,f.jsx)(u.b,{menu:(0,f.jsx)(h,{onFeedbackReasonSelect:(n,s)=>{e.id&&(t((0,c.F$)({adId:e.id,reason:s})),i(`like_${n}`))}}),children:(0,f.jsx)(o.n,{item:e,icon:s.G,activeIcon:a.q,label:d.Ru.get("ad-formats.ad-feedback.like"),isActive:m,"data-testid":"button-like-ad",onClick:()=>{if(e.id){if(m)return t((0,c.D$)({adId:e.id})),void i("cancel_like");t((0,c.F$)({adId:e.id})),i("like_menu")}}})})}},60439:(e,t,i)=>{i.r(t),i.d(t,{ContextAdSubtitle:()=>c,default:()=>l});var n=i(41978),s=i(30911),a=i(23942),d=i(63774),o=i(51229),r=i(86070);const c=({item:e,variant:t="bodyMedium",semanticColor:i="textSubdued",surface:c})=>{const{subtitle:l,url:u}=(0,a.iz)(e),m=(0,n.wA)();return(0,r.jsx)(s.I,{testid:"context-item-info-ad-subtitle",title:l,variant:t,semanticColor:i,uri:e.uri,clickUrl:u,onClick:()=>{m((0,o.q5)(d.c.ADVERTISER_SUBTITLE,d.V[c]))}})},l=c},10853:(e,t,i)=>{i.r(t),i.d(t,{ContextAdTitle:()=>c,default:()=>l});var n=i(41978),s=i(30911),a=i(23942),d=i(63774),o=i(51229),r=i(86070);const c=({item:e,surface:t,variant:i="titleSmall",semanticColor:c="textBase"})=>{const l=(0,n.wA)(),{title:u,url:m}=(0,a.iz)(e);return u?(0,r.jsx)(s.I,{title:u,variant:i,semanticColor:c,uri:e.uri,clickUrl:m,onClick:()=>{l((0,o.q5)(d.c.ADVERTISER_TITLE,d.V[t]))}}):null},l=c},99490:(e,t,i)=>{i.d(t,{L:()=>d});var n=i(13910),s=i(71726),a=i(20769);const d=e=>{const t=(0,s.dY)(),i=(0,a.vh)(),d=t.getInStreamAd();return{logAdFeedback:function(t){i.send((0,n.F)({ad_id:e.id,advertiser:e.advertiser,creative_id:d?.adId===e.id?d?.metadata?.creative_id:void 0,format:e.mediaType,line_item_id:d?.adId===e.id?d?.metadata?.lineitem_id:void 0,event:t}))}}}},61025:(e,t,i)=>{i.d(t,{N2:()=>d,Tt:()=>a});var n=i(42551);const s=e=>e.ads.adFeedback,a=(0,n.Mz)([e=>s(e),(e,t)=>t],((e,t)=>!(!t||e.adId!==t)&&e.liked)),d=(0,n.Mz)([e=>s(e),(e,t)=>t],((e,t)=>!(!t||e.adId!==t)&&e.disliked));(0,n.Mz)([e=>s(e),(e,t)=>t],((e,t)=>t&&e.adId===t?e.feedback:null))}}]);
//# sourceMappingURL=978.js.map