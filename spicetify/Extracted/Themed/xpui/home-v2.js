"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9319],{77920:(e,s,t)=>{t.r(s),t.d(s,{SKELETON_CARDS_COUNT:()=>be,SKELETON_SHELVES_COUNT:()=>xe,default:()=>we});var r=t(30758),n=t(84718),i=t(97500),o=t.n(i),a=t(41978),c=t(77),l=t(39733),d=t(88071),p=t(41331),m=t(62462),u=t(62276),g=t(7029),h=t(16070),x=t(20769),b=t(45866),j=t(98812),f=t(65149),w=t(19019),v=t(98957);var y=t(76962),C=t(84266),S=t(15231),k=t(66475),N=t(45237),M=t(38117),_=t(26048),L=t(4139),P=t(78487);const R="iC5KPBY1LYMrQkGPnG8m";var A=t(86070);const T=()=>{const e=(0,a.wA)(),s=(0,L.s)(),{spec:t}=(0,P.r)(M.V,{}),n=(0,r.useCallback)((()=>{e(_.r8.actions.open()),s.logInteraction(t.learnMoreButtonFactory().hitUiReveal())}),[e,s,t]);return(0,A.jsxs)(S.E,{as:"p",semanticColor:"textBase",className:R,children:[(0,A.jsx)(k.p,{size:"small"}),p.Ru.get("home.dsa-message",(0,A.jsx)(N.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:n,children:p.Ru.get("home.dsa-message-link")}))]})};var $=t(63434),E=t(70370),I=t(78158),D=t(77674),U=t(74946),B=t(31385),F=t(51035),z=t(69798),H=t(57968),O=t(20920);const W="oncgBAFkunsYPz4icLG7",J="bctyR0DdgoudSxC6j8nw",Y="ZlJQ9zbhmUTk2MeTziP7",V="uOT2oirHdJA8NsGlsyA2",Z="_0Zn5lYC3o0cU44PBPnvN",G="V2fn7ev3_1mroI9UxjL7",Q="iNxrs2Niil0QTvUYbTxf",K=({isMWP:e})=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${V} ${Z}`,"aria-hidden":"true",children:[(0,A.jsx)("source",{src:(0,F.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,A.jsx)("source",{src:(0,F.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,A.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${V} ${G}`,"aria-hidden":"true",children:[(0,A.jsx)("source",{src:(0,F.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,A.jsx)("source",{src:(0,F.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]}),X=({isMWP:e})=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("picture",{children:[(0,A.jsx)("source",{srcSet:(0,F.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,A.jsx)("source",{srcSet:(0,F.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,A.jsx)("img",{className:`${V} ${Z}`,src:"",alt:""})]}),(0,A.jsxs)("picture",{children:[(0,A.jsx)("source",{srcSet:(0,F.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,A.jsx)("source",{srcSet:(0,F.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,A.jsx)("img",{className:`${V} ${G}`,src:"",alt:""})]})]}),q=(0,r.forwardRef)((({linkUri:e,loggedIn:s,isMWP:t,isStatic:r=!1,onClick:n},i)=>{const a=(0,H.y)(),c=(0,O.j)();return(0,A.jsx)("div",{className:W,ref:i,children:(0,A.jsxs)("div",{className:(0,I.Ju)("invertedLight",o()(J,{[Y]:t})),children:[r||c?(0,A.jsx)(X,{isMWP:t}):(0,A.jsx)(K,{isMWP:t}),(0,A.jsx)(D.Z,{as:"h2",variant:"brio",semanticColor:"textBase",className:Q,children:s?p.Ru.get("shared.wrapped-banner.title"):p.Ru.get("shared.wrapped-banner.title-loggedout")}),(0,A.jsx)(D.Z,{as:"p",variant:a===z.E.SMALL||t?"mesto":"ballad",semanticColor:"textBase",children:s?p.Ru.get("shared.wrapped-banner.body"):p.Ru.get("shared.wrapped-banner.body-loggedout")}),(0,A.jsx)(U.$,{colorSet:"invertedDark",iconTrailing:B.H,href:e,target:"_blank",size:a===z.E.SMALL||t?"small":"medium",onClick:n,children:p.Ru.get("shared.wrapped-banner.button")})]})})}));var ee=t(29971),se=t(26205);const te=()=>{const e=(0,b.V)(),s=(0,l.NC)(w.ATM),{openURLWithSessionTransfer:t}=(0,ee.L)(),{spec:n,logger:i}=(0,P.r)(E.S,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),o=(0,r.useMemo)((()=>n.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[n]),a=(0,se.t)(o),c="https://spotify.com/wrapped",d=(0,r.useCallback)((e=>{i.logInteraction(o.hitUiNavigate({destination:c})),t(c),e.preventDefault()}),[i,t,o]);return(0,A.jsx)(q,{linkUri:c,loggedIn:!e,onClick:d,ref:a,isStatic:s})};var re=t(49095),ne=t(39530),ie=t(62963),oe=t(73346);const ae=()=>(0,l.NC)(w.FAj)===w.z3X.ONHOME?(0,A.jsx)(ie.g,{children:(0,A.jsx)(oe.o,{onSearch:!1})}):null;var ce=t(27212),le=t(55964),de=t(74864),pe=t(24853),me=t(85961),ue=t(37708),ge=t(72553),he=t(20683);const xe=6,be=6,je=(0,r.memo)((({shelfCount:e,cardCount:s})=>(0,A.jsx)("section",{className:he.A.home,"data-testid":"home-page",children:(0,A.jsxs)("div",{className:o()(he.A.homepageContent,"contentSpacing"),children:[(0,A.jsx)(u.y,{withTitle:!1}),[...new Array(e).keys()].map(((e,t)=>(0,A.jsx)(ne.f,{withTitle:!0,cardCount:s},t)))]})}))),fe=({spec:e})=>{(0,de.m)("home");const s=(0,a.d4)(pe.JJ),t=(0,c.zy)(),n=new URLSearchParams(t.search).get("pCountry"),{subfeedId:i=null}=(0,c.g)(),d=(0,l.NC)(w.MX4),m=(0,l.NC)(w.q4i),u=d?C.SF:C.J3,{data:S,error:k,loading:N,extensions:M}=(0,y.B8)({timeZone:(0,C.Ff)(),sp_t:(0,v.v8)("sp_t")??"",country:n??s,facet:i,sectionItemsLimit:u},{gcTime:C.gO,staleTime:C.jl}),_=(0,l.NC)(w.Y_Z),L=(0,l.NC)(w.ATM),P=_||L,R=!(0,le.p)();if((()=>{const e=(0,l.NC)(w.PV7),s=(0,x.vh)(),t=(0,j.c)(),n=(0,b.V)();(0,r.useEffect)((()=>{const r={category:"unauth_home_exposures",action:"unauth_home_page_visit",variant:e,label:"dwp",os:(0,f.f)(),sp_t:(0,v.v8)("sp_t")};t&&n&&s.send((0,h.r)(r))}),[e,t,s,n])})(),N)return(0,A.jsx)(je,{shelfCount:xe,cardCount:be});if(null!==k)return(0,A.jsx)(g.LoadingPage,{hasError:!0,errorMessage:p.Ru.get("error.generic")});const E=S?.home;if("HomeResponsePayload"!==E?.__typename)return(0,A.jsx)(g.LoadingPage,{hasError:!0,errorMessage:p.Ru.get("error.generic")});if(0===E.sectionContainer.sections.totalCount||0===E.sectionContainer.sections.items.length)return(0,me.Jy)(new Error("Empty response from pathfinder"),"Home"),(0,A.jsx)(g.LoadingPage,{hasError:!0,errorMessage:p.Ru.get("error.generic")});const I=(e=>{const s="object"==typeof e?.responseIds?e?.responseIds:void 0;return s?.["/home"]?.continuum})(M);return(0,A.jsx)("section",{className:o()(he.A.home,d?he.A.homepageWithCarousels:he.A.homepage),"data-testid":"home-page",children:(0,A.jsxs)("div",{className:o()(he.A.homepageContent,"contentSpacing"),children:[P&&(0,A.jsx)(te,{}),R&&(0,A.jsx)(T,{}),(0,A.jsx)($.wd,{homeResponseId:I,children:(0,A.jsx)(re.g,{spec:e,greeting:E.greeting?.text??null,container:E.sectionContainer,enableFeedBaseline:m})})]})})},we=(0,n.mc)((()=>{const{spec:e}=(0,P.r)(d.Y,{data:{identifier:"home",uri:"spotify:home"}}),s=(0,ce.W)({type:"locale",uri:"home"});return(0,A.jsxs)(ge.r,{spec:e,children:[(0,A.jsx)(m.Q,{children:(0,ue.pr)({i18n:p.Ru,shouldLocalize:s})}),(0,A.jsx)(r.Suspense,{fallback:null,children:(0,A.jsx)(ae,{})}),(0,A.jsx)(fe,{spec:e})]})}),{name:"Home"})}}]);
//# sourceMappingURL=home-v2.js.map