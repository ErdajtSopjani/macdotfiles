"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5783],{52182:(e,t,n)=>{n.d(t,{p:()=>S});var a=n(30758),i=n(97500),s=n.n(i),o=n(15231),r=n(74946),c=n(55384),l=n(5120);const d="(min-width: 0px)",u="(min-width: 0px) and (max-width: 767px)",m="(min-width: 768px)",g="(min-width: 768px) and (max-width: 1023px)",v="(min-width: 1024px)",h="(min-width: 1024px) and (max-width: 1279px)",p="(min-width: 1280px)",x="(min-width: 1280px) and (max-width: 1919px)",f="(min-width: 1920px)",j="FvfvGU3jvHRskUU9v9_8",y="Q9AlbZn2EGzy3MTWXa8X",_="mxmxS0y8LiwSs5nueKPT",C="GXxVAveNFStY3pBI_NO4",k="eHcXC2s97InYP7rMNT0H";var R=n(86070);const S=(0,a.memo)((function(e){const{children:t,message:n,title:a,linkTitle:i,linkTo:S,onClick:b,renderInline:N=!1}=e,{isXSOnly:I,isSMOnly:D}={isXS:(0,l.U)(d),isXSOnly:(0,l.U)(u),isSM:(0,l.U)(m),isSMOnly:(0,l.U)(g),isMD:(0,l.U)(v),isMDOnly:(0,l.U)(h),isLG:(0,l.U)(p),isLGOnly:(0,l.U)(x),isXL:(0,l.U)(f)},U=I||D;return(0,R.jsxs)("section",{className:s()(j,{[y]:N}),children:[t,(0,R.jsx)(o.E,{as:"h1",variant:U?"titleSmall":"titleMedium",className:C,children:a}),(0,R.jsx)(o.E,{variant:U?"bodySmall":"bodyMedium",className:k,children:n}),i&&(S||b)&&(0,R.jsx)(r.$,{colorSet:"invertedLight",className:_,href:S,onClick:b,component:c.v,children:i})]})}))},49867:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(30758),i=n(25805),s=n(15231),o=n(50369),r=n(91360),c=n(58708),l=n(97335);const d="wedRUk4eiBo9n9vqXLhU",u="hMbtEskyvMbDiwq1EScA",m="HYVIJaYYiCTgSCHie70L",g="SPbe_Q1wtiZQCmo0QKUy",v="TRp4tgG7_cymGIXDevIP",h="tC1Y_nwyyly7cpIGqF5K",p="l93AfoV_qHnMQSQBB5GK",x="DgDBmSR2sbwji2UfqxIf",f="EkGb0ZzhswreSvpZoioY";var j=n(86070);const y=(0,a.memo)((e=>{const{uri:t,title:n,imageUrl:a,date:y,subTitle:_,firstParty:C,onClick:k}=e,R=y?(0,c.l4)(y):void 0;return(0,j.jsx)(r.N,{to:t,className:d,"data-testid":"concert-card",onClick:k,children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)(l.b,{children:(0,j.jsx)("div",{role:"img",className:f,style:{backgroundImage:`url(${a})`},children:!a&&(0,j.jsx)(i.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),R&&(0,j.jsxs)("time",{className:m,dateTime:y,children:[(0,j.jsx)(s.E,{as:"div",variant:"bodySmall",children:(0,c.tj)(R)}),(0,j.jsx)(s.E,{as:"div",variant:"bodyMediumBold",children:(0,c.Py)(R)})]}),(0,j.jsxs)("div",{className:g,dir:"auto",children:[(0,j.jsx)(s.E,{as:"h2",variant:"bodyMedium",className:v,children:n}),(0,j.jsxs)("div",{className:h,children:[C&&(0,j.jsx)("span",{className:x,children:(0,j.jsx)(o.D,{size:"small"})}),(0,j.jsx)(s.E,{as:"span",className:p,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:_})]})]})]})})}))},15929:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Vn});var a=n(30758),i=n(97500),s=n.n(i),o=n(41978),r=n(58923),c=n(13390),l=n(74946),d=n(45237),u=n(39259),m=n(81195),g=n(84543),v=n(39733),h=n(95818),p=n(41331),x=n(980),f=n(62462),j=n(59092),y=n(16373),_=n(99168),C=n(90436),k=n(27275),R=n(89531),S=n(12125),b=n(27338),N=n(73155),I=(n(84790),n(74554)),D=n(15231),U=n(76355),w=n(70043),F=n(67017),E=n(91985),M=n(3091),B=n(17176),A=n(6924),T=n(72653),P=n(94222),L=n(74263),z=n(87584),O=n(63514),H=n(16856),K=n(54869),W=n(96132),G=n(24808),V=n(47613),$=n(2283),Y=n(10974),X=n(56708),Z=n(64416),q=n(79494),Q=n(38408),J=n(62224),ee=n(63240),te=n(45523),ne=n(10632),ae=n(54701),ie=n(80675),se=n(72861),oe=n(76804),re=n(55128),ce=n(53406),le=n(15643),de=n(1467),ue=n(24428),me=n(48199),ge=n(61845),ve=n(83536),he=n(70756),pe=n(63855),xe=n(1103),fe=n(96344),je=n(38903),ye=n(17530),_e=n(33140),Ce=n(64741),ke=n(71418),Re=n(44135),Se=n(6729),be=n(32409),Ne=n(67031),Ie=n(98045),De=n(86111),Ue=n(11554),we=n(61753),Fe=n(87318),Ee=n(89949),Me=n(22180),Be=n(85428);const Ae={af:w.af,am:F.c,ar:E.ar,arEG:M.m,arMA:B.E,arSA:A.G,az:T.az,bg:P.bg,bn:L.bn,bho:F.c,bs:z.bs,ca:O.ca,cs:H.cs,da:K.da,de:W.de,el:G.el,en:F.c,enGB:V.b,es419:$.es,es:$.es,esAR:$.es,esMX:$.es,et:Y.et,eu:X.eu,fa:Z.$,fi:q.fi,fil:F.c,frCA:Q.V,fr:J.fr,gl:ee.gl,gu:te.gu,he:ne.he,hi:ae.hi,hr:ie.hr,hu:se.hu,id:oe.id,is:re.is,it:ce.it,ja:le.ja,kn:de.kn,ko:ue.ko,lt:me.lt,lv:ge.lv,mk:ve.mk,ml:F.c,mr:F.c,ms:he.ms,nb:pe.nb,ne:F.c,nl:xe.nl,or:F.c,paIN:F.c,paPK:F.c,pl:fe.pl,ptBR:je.F,ptPT:ye.pt,ro:_e.ro,ru:Ce.ru,sk:ke.sk,sl:Re.sl,sr:Se.sr,sv:be.sv,sw:F.c,ta:Ne.ta,te:Ie.te,th:De.th,tr:Ue.tr,uk:we.uk,ur:F.c,vi:Fe.vi,zhCN:Ee.g,zhHK:Me.a,zhTW:Be.G,zu:F.c},Te=e=>(e=>Object.keys(Ae).includes(e))(e)?Ae[e]:F.c;var Pe=n(12058),Le=n(42534);const ze=e=>{const t=new Date(e);t.setDate(e.getDate()+(5-e.getDay()));const n=new Date(t);return n.setDate(t.getDate()+2),{from:t,to:n}},Oe=e=>{const t=new Date(e);t.setDate(e.getDate()+(5-e.getDay()));const n=new Date(t);n.setDate(t.getDate()+7);const a=new Date(n);return a.setDate(n.getDate()+2),{from:n,to:a}},He=(e,t)=>!!(e?.from&&e?.to&&t?.from&&t?.to)&&((0,Pe.r)(e.from,t.from)&&(0,Pe.r)(e.to,t.to)),Ke=e=>(0,Le.x)(e,{representation:"date"});var We=n(65104),Ge=n(4139),Ve=n(26205);const $e="C1USyigFSYyc22_BmsgB",Ye="Cwo5ZgH_QLzFbSjWjglf",Xe="iL7PRv0yTC9UFjHfDJDW",Ze="oxBa3kaduGMhYxc9I_Uu",qe="x0xbkRE3CyGK_i406MSX",Qe="zT6EzYpjnj9pMKhMFQB7",Je="YOLVSXg5_gdh0VfL2oNl",et="ynXemVsankd4H506x8D2";var tt=n(86070);const nt={formatCaption:e=>p.Ru.formatDate(e,{month:"long",year:"numeric"}),formatDay:e=>p.Ru.formatDate(e,{day:"numeric"}),formatWeekdayName:e=>p.Ru.formatDate(e,{weekday:"short"})},at=(0,a.memo)((e=>{const{onDone:t,onClose:n,spec:i}=e,[s,o]=(0,a.useState)(e.dateRange),r=(0,We.W)(),c=(0,Ve.t)(i),u=(0,Ge.s)(),m=new Date,g=ze(m),v=Oe(m),h=He(s,g),x=He(s,v),f=new Date;return f.setFullYear(f.getFullYear()+1),(0,tt.jsx)("div",{ref:c,children:(0,tt.jsx)(U.A,{isOpen:!0,children:(0,tt.jsxs)("section",{className:$e,children:[(0,tt.jsx)(d.H,{className:Ye,iconOnly:I.M,size:"small",onClick:n,"aria-label":p.Ru.get("close_button_action")}),(0,tt.jsxs)("div",{className:Xe,children:[(0,tt.jsx)(D.E,{as:"h3",variant:"bodyMediumBold",children:p.Ru.get("live_events.date_picker_dialog_title")}),(0,tt.jsxs)("div",{className:Ze,children:[(0,tt.jsx)(b.v,{className:qe,size:"md",selectedColorSet:"brightAccent",selected:h,onClick:()=>{o(h?void 0:g),i&&u.logInteraction(i.datePresetButtonFactory({identifier:"thisWeekend",position:0}).hitUiSelect())},children:p.Ru.get("live_events.this_weekend_preset")}),(0,tt.jsx)(b.v,{className:qe,size:"md",selectedColorSet:"brightAccent",selected:x,onClick:()=>{o(x?void 0:v),i&&u.logInteraction(i.datePresetButtonFactory({identifier:"nextWeekend",position:1}).hitUiSelect())},children:p.Ru.get("live_events.next_weekend_preset")})]})]}),(0,tt.jsx)(N.hv,{mode:"range",selected:s,onSelect:o,numberOfMonths:2,defaultMonth:e.dateRange?.from,fromDate:new Date,toDate:f,formatters:nt,dir:r?"rtl":"ltr",modifiersClassNames:{today:Qe},locale:Te(p.Ru.getLocaleForFormatting())}),(0,tt.jsxs)("div",{className:Je,children:[(0,tt.jsx)(d.H,{className:et,size:"small",onClick:()=>{o(void 0)},disabled:!s?.from,children:p.Ru.get("live_events.date_picker_dialog_clear")}),(0,tt.jsx)(l.$,{size:"small",onClick:()=>{if(s?.from){const{from:e,to:n}=s;t({from:e,to:n||e})}else t()},children:p.Ru.get("live_events.date_picker_dialog_done")})]})]})})})})),it=e=>{const t=e?.match(/(202\d)-([01]\d)-([0-3]\d)/);if(!t)return;const[,n,a,i]=t;return new Date(parseInt(n,10),parseInt(a,10)-1,parseInt(i,10))},st=()=>{const[e]=(0,r.ok)(),t=e.get("startDate")?.trim(),n=e.get("endDate")?.trim(),a=it(t),i=it(n);return a&&i&&{from:a,to:i}};var ot=n(58708);const rt="WnIhxhr9MIQjVvkvUQTf",ct="ETRYfT8oEUJuUDLgOBUX",lt=e=>{const[t,n]=(0,a.useState)(!1),[,i]=(0,r.ok)(),s=(0,Ge.s)(),o=(0,a.useMemo)((()=>e.spec?.datePickerModalFactory()),[e.spec]),c=(0,a.useMemo)((()=>e.spec?.headerFactory()),[e.spec]),d=st(),u=ze(new Date),m=Oe(new Date),g=(0,a.useCallback)((e=>{const t={filter:"all"};if(e&&(t.startDate=Ke(e.from),t.endDate=Ke(e.to),o)){const e=new URLSearchParams(t).toString();s.logInteraction(o.doneButtonFactory({uri:e}).hitUiNavigate({destination:e}))}n(!1),i(t),o&&s.logInteraction(o.doneButtonFactory({uri:new URLSearchParams(t).toString()}).hitUiHide())}),[i,o,s]),v=(0,a.useCallback)((e=>{const t={filter:"all"};He(d,e)||(t.startDate=Ke(e.from),t.endDate=Ke(e.to)),i(t)}),[d,i]),h=d?l.$:R.n;return(0,tt.jsxs)("div",{className:rt,children:[(0,tt.jsx)("div",{children:(0,tt.jsx)(h,{className:ct,iconLeading:S.R,onClick:()=>{n(!0),c&&s.logInteraction(c.datePickerButtonFactory().hitUiReveal())},size:"small",children:d?(0,ot.tX)(d):p.Ru.get("live_events.date_picker_button_text")})}),t&&(0,tt.jsx)(at,{onClose:()=>{n(!1),o&&s.logInteraction(o.closeButtonFactory().hitUiHide())},onDone:g,dateRange:d,spec:o}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)(b.v,{size:"sm",selectedColorSet:"brightAccent",selected:He(d,u),onClick:()=>{if(v(u),c){const e={startDate:Ke(u.from),endDate:Ke(u.to)},t=new URLSearchParams(e).toString();s.logInteraction(c.datePresetButtonFactory({uri:t,identifier:"thisWeekend",position:0}).hitUiNavigate({destination:t}))}},className:ct,children:p.Ru.get("live_events.this_weekend_preset")}),(0,tt.jsx)(b.v,{size:"sm",selectedColorSet:"brightAccent",selected:He(d,m),onClick:()=>{if(v(m),c){const e={startDate:Ke(m.from),endDate:Ke(m.to)},t=new URLSearchParams(e).toString();s.logInteraction(c.datePresetButtonFactory({uri:t,identifier:"nextWeekend",position:1}).hitUiNavigate({destination:t}))}},className:ct,children:p.Ru.get("live_events.next_weekend_preset")})]})]})};var dt=n(91360),ut=n(71963),mt=n(78768),gt=n(39863),vt=n(59677);const ht="Ig5vKQ7dYBd1EvrAFxNe",pt="h_q319q68ujja24YIoXY",xt="dFTQKQt3imsoOza3VE4G",ft="M8LA1p3y53Qnge37zUmz",jt="HZi6Ziy6mVJMFZsPf4wk",yt="KNX0R2c0r90zNTPYZm6X",_t="JI0woT5IN6EnNKnilhcg",Ct="kAi1CfiOMYDExKkXuw44",kt="Zwr6T4ceJI7KfyNxa4tS",Rt="mW3O8RnDMDY6MfRJKqd5",St="raQK_4Eaqa5Zj06_aBm7",bt="AOuYgrCnrYvPKsyzxqVy",Nt="P1dra4DUpn36RnCkuwa_",It="zBCfaF04WlTsiUcov2oJ",Dt="JxTPZX9AoptKanJg0zIw",Ut=(0,a.memo)((e=>{const{concert:t,position:n,modalSpec:i}=e,s=(0,ot.l4)(e.concert.startDateIsoString),o=(0,vt.o_)(e.concert.uri),r=(0,a.useMemo)((()=>i?.eventRowFactory({position:n,uri:t.uri})),[i,n,t]),c=(0,Ge.s)();return(0,tt.jsxs)(dt.N,{to:`/concert/${o?.id}`,className:Ct,onClick:()=>{r&&c.logInteraction(r.hitUiNavigate({destination:`/concert/${o?.id}`}))},children:[(0,tt.jsxs)("div",{className:kt,"aria-hidden":!0,children:[(0,tt.jsx)(D.E,{as:"div",variant:"marginalBold",className:Rt,children:(0,ot.tj)(s)}),(0,tt.jsx)(D.E,{as:"div",variant:"bodyMediumBold",className:St,children:(0,ot.Py)(s)})]}),(0,tt.jsxs)("div",{className:bt,children:[(0,tt.jsx)(D.E,{as:"div",variant:"bodySmallBold",className:Nt,"data-testid":"event-title",children:t.title}),(0,tt.jsx)(gt.s,{children:(0,ot.Fn)(s)}),(0,tt.jsxs)(D.E,{as:"div",variant:"bodySmall",className:It,children:[(0,ot.VJ)(s)," • ",(0,ot.WB)(s)]}),(0,tt.jsx)(D.E,{as:"div",variant:"bodySmall",className:Dt,"data-testid":"event-venue",children:[t.location.venue,t.location.city].join(p.Ru.getSeparator())})]})]},t.uri)})),wt=e=>{const t=(0,a.useMemo)((()=>e.feedSpec?.groupedEventModalFactory({uri:e.artist.uri||""})),[e.feedSpec,e.artist]),n=(0,Ge.s)(),i=(0,Ve.t)(t),s=()=>{t&&n.logInteraction(t.closeButtonFactory().hitUiHide()),e.onClose()};return(0,tt.jsx)(U.A,{contentLabel:p.Ru.get("live_events.label"),isOpen:!0,className:ht,onRequestClose:s,children:(0,tt.jsxs)("section",{className:pt,ref:i,children:[(0,tt.jsx)("div",{className:xt,children:(0,tt.jsx)(Ft,{"aria-label":p.Ru.get("close"),iconOnly:I.M,size:"small",onClick:s})}),(0,tt.jsxs)("div",{className:ft,children:[(0,tt.jsx)(mt._,{height:"48",width:"48",className:jt,src:e.artist.imageUri}),(0,tt.jsxs)("div",{className:yt,children:[(0,tt.jsx)(D.E,{as:"h3",variant:"bodyMediumBold",className:_t,"data-testid":"event-venue",children:e.artist.name}),(0,tt.jsx)(D.E,{as:"h3",variant:"bodySmall","data-testid":"event-venue",children:p.Ru.get("concerts.count_near_location",e.concerts.length,e.location.city)})]})]}),e.concerts.map(((e,n)=>(0,tt.jsx)(Ut,{concert:e,position:n,modalSpec:t},e.uri)))]})})};var Ft=(0,ut.Ay)(d.H).withConfig({displayName:"ConcertModal___StyledButtonTertiary",componentId:"sc-179c8vh-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"});const Et=(0,a.memo)((e=>{const{event:t,onClose:n,feedSpec:i}=e,s=t?.concerts[0]?.concert,o=s?.artists[0],r=(0,a.useMemo)((()=>i?.groupedEventModalFactory({uri:o?.uri||""})),[i,o]),c=(0,Ge.s)();if(!t||!s||!o)return null;return(0,tt.jsx)(wt,{artist:{imageUri:o.imageUri,name:o.name,uri:o.uri},location:{city:s.location,venue:s.venue},concerts:t.concerts.map((e=>({uri:`spotify:concert:${e.concert.id}`,title:e.concert.title,startDateIsoString:e.concert.date,location:{city:e.concert.location,venue:e.concert.venue}}))),onClose:()=>{r&&c.logInteraction(r.closeButtonFactory().hitUiHide()),n()}})}));var Mt=n(60122),Bt=n(49867),At=n(77957),Tt=n(82606);const Pt=(0,a.memo)((e=>{const{concert:t,isVirtual:n,onClick:a}=e,{venue:i,location:s}=t,o=t.artists[0];return(0,tt.jsx)(Bt.A,{uri:(0,vt.B4)(t.id).toURI(),title:(0,Tt.a9)(t),imageUrl:o.imageUri,date:t.startDate.localDate,subTitle:n?i:[i,s].join(p.Ru.getSeparator()),firstParty:(0,At.he)(t),onClick:a})})),Lt=(0,a.memo)((e=>{const{event:t,onClick:n}=e,i=(0,a.useCallback)((e=>{e.preventDefault(),n(t)}),[t,n]),s=(0,ot.l4)(t.openingDate),o=(0,ot.l4)(t.closingDate),r=t.concerts[0].concert,c=r.artists[0];return(0,tt.jsx)(Bt.A,{title:(0,Tt.a9)(r),subTitle:`${(0,ot.WZ)(s,o)} • ${p.Ru.get("concerts.count",t.concerts.length)}`,onClick:i,imageUrl:c.imageUri,uri:(0,vt.B4)(r.id).toURI()})})),zt=(0,a.memo)((e=>{const{event:t,position:n,sectionSpec:i,onOpenGroupedEvent:s}=e,o=t.concerts[0]?.concert,r=o?.id,c=o&&(0,vt.B4)(o.id).toURI(),l=(0,Ge.s)(),d=(0,a.useMemo)((()=>i?.eventCardFactory({identifier:r??"",position:n,uri:c??""})),[i,r,c,n]),u=(0,Ve.t)(d),m=e=>{s(e),d&&l.logInteraction(d.hitUiReveal())};if(t.concerts.length>1)return(0,tt.jsx)("div",{ref:u,children:(0,tt.jsx)(Lt,{event:t,onClick:m})});return(0,tt.jsx)("div",{ref:u,children:(0,tt.jsx)(Pt,{concert:o,isVirtual:"online"===t.source,onClick:()=>{d&&l.logInteraction(d.hitUiNavigate({destination:c}))}})})}));var Ot=n(70707);const Ht=(0,a.memo)((e=>{const{event:t,onClick:n}=e,i=(0,a.useCallback)((e=>{e.preventDefault(),n(t)}),[t,n]),s=(0,ot.l4)(t.openingDate),o=(0,ot.l4)(t.closingDate),r=t.concerts[0].concert,c=r.artists[0];return(0,tt.jsx)(Ot.A,{image:c?.imageUri,title:(0,Tt.a9)(r),subTitle:p.Ru.get("concerts.count",t.concerts.length),dateRange:(0,ot.WZ)(s,o),uri:r?.id,onClick:i})})),Kt=(0,a.memo)((e=>{const{concert:t,isVirtual:n,onClick:a}=e,{venue:i,location:s}=t,o=t.artists[0],r=(0,ot.l4)(t.startDate.localDate);return(0,tt.jsx)(Ot.A,{date:t.startDate.localDate,image:o?.imageUri,title:(0,Tt.a9)(t),subTitle:n?i:[i,s].join(p.Ru.getSeparator()),dateRange:(0,ot.Y)(r),uri:(0,vt.B4)(t.id).toURI(),onClick:a})})),Wt=(0,a.memo)((e=>{const{event:t,position:n,sectionSpec:i,onOpenGroupedEvent:s}=e,o=t.concerts[0]?.concert,r=o?.id,c=o&&(0,vt.B4)(o.id).toURI(),l=(0,Ge.s)(),d=(0,a.useMemo)((()=>i?.eventRowFactory({identifier:r??"",position:n,uri:c??""})),[i,r,c,n]),u=(0,Ve.t)(d),m=e=>{s(e)};if(t.concerts.length>1)return(0,tt.jsx)("div",{ref:u,children:(0,tt.jsx)(Ht,{event:t,onClick:m})});return(0,tt.jsx)("div",{ref:u,children:(0,tt.jsx)(Kt,{concert:o,isVirtual:"online"===t.source,onClick:()=>{d&&l.logInteraction(d.hitUiNavigate({destination:c??""}))}})})}));var Gt=n(78330);const Vt="MVPegsivznZB6gdkcnkH",$t="vktIWsUczavLRrl4SkRt",Yt="LOJZO2MnGW5dCIawF767",Xt="tyc7QRlEJigVFIAeLGOB",Zt="PoljWhTLU3MKqIx2gSPY",qt="ajxCNAuBJSgYfKUUBWBT",Qt="WR2h2Li5XTrBn_Rdme_k",Jt=(0,a.memo)((e=>{const{title:t="",identifier:n,position:i,events:s,feedSpec:o,onOpenGroupedEvent:r,layout:c}=e,l=(0,a.useMemo)((()=>o?.eventSectionFactory({identifier:n,position:i})),[o,n,i]),d=(0,Ve.t)(l);return 0===s.length?null:(0,tt.jsxs)("div",{className:Vt,ref:d,children:["grid"===c&&(0,tt.jsx)(Gt.pZ,{value:"headered-grid",index:i,children:(0,tt.jsx)(Mt.$,{total:s.length,title:t,showAll:!0,withEncoreCards:!1,children:s.map(((e,t)=>{const n=e.concerts[0]?.concert;return(0,tt.jsx)(zt,{event:e,position:t,sectionSpec:l,onOpenGroupedEvent:r},n?.id)}))})}),"list"===c&&(0,tt.jsxs)("div",{children:[(0,tt.jsx)(D.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:$t,children:t}),s.map(((e,t)=>{const n=e.concerts[0]?.concert;return(0,tt.jsx)(Wt,{event:e,position:t,sectionSpec:l,onOpenGroupedEvent:r},n?.id)}))]})]})}));var en=n(2569),tn=n(93409),nn=n(76629);const an=async()=>{var e;return(await(e=tn.n.getInstance(),e.build().withHost(nn.tc).withPath("/v3/concerts/saved").withEndpointIdentifier("/v3/concerts/saved").send())).body};var sn=n(45292);const on=(0,a.memo)((e=>{const{spec:t,layout:n}=e,[i,s]=(0,a.useState)(),o=(0,en.I)({queryKey:["savedConcerts"],queryFn:an}),r=(0,sn.W)(),c=o.data?.userLocation,l=c||p.Ru.get("concerts.default_location");return(0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)(f.Q,{children:`${p.Ru.get("live_events.label")}`}),o.data?.events.length?(0,tt.jsx)(tt.Fragment,{children:(0,tt.jsx)(Jt,{title:p.Ru.get("concerts_upcoming"),identifier:"saved",position:0,events:o.data?.events,feedSpec:t,onOpenGroupedEvent:e=>{s(e);const t=e.concerts[0]?.concert.artistUris[0];r({type:"click",intent:"open-grouped-live-event",targetUri:t})},layout:n})}):(0,tt.jsxs)("div",{className:Yt,children:[(0,tt.jsx)(D.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:qt,children:p.Ru.get("concerts_interested_in_live_events")}),(0,tt.jsx)(D.E,{as:"p",className:Qt,children:p.Ru.get("concerts_no_events_description")}),(0,tt.jsx)(dt.N,{to:"/concerts",className:Xt,children:(0,tt.jsx)(R.n,{as:"span",className:Zt,children:p.Ru.get("concerts_browse_more_events")})})]}),(0,tt.jsx)(D.E,{variant:"marginal",semanticColor:"textSubdued",children:p.Ru.get("live_events.disclaimer")}),(0,tt.jsx)(Et,{event:i,locationName:l,feedSpec:t,onClose:()=>s(void 0)})]})}));var rn=n(52182),cn=n(7029),ln=n(12692);const dn=e=>{const[t]=e;if(!("visuals"in t.data))return;const[n]=t.data.visuals.avatarImage?.sources??[];return n?.url},un=e=>{const[t,n]=(0,a.useState)(!1),i=(0,a.useMemo)((()=>{if(!(0,ln.ys)(e))return;const[t]=e.concerts;if(!(0,ln.$V)(t))return;const n=(0,vt.o_)(t.data.uri);return e.spec?.eventCardFactory({identifier:n?.id,position:e.position,uri:t.data.uri})}),[e]),s=(0,Ge.s)(),o=(0,Ve.t)(i);if(!(0,ln.ys)(e))return;const[r]=e.concerts;if(!(0,ln.$V)(r))return;const[c]=r.data.artists.items,l=dn(r.data.artists.items),{startDate:d,endDate:u}=(0,ot.Vi)(e.concerts);return{isModalOpen:t,handleClick:e=>{e.preventDefault(),n(!0),i&&s.logInteraction(i.hitUiReveal())},handleClose:()=>n(!1),concert:{uri:r.data.uri,title:r.data.title,imageUrl:l,dateRange:(0,ot.WZ)(d,u),startDateIsoString:r.data.startDateIsoString},artist:{uri:"uri"in c.data?c.data.uri:"",name:"profile"in c.data?c.data.profile.name:"",imageUri:l??""},location:{city:r.data.location.city,venue:r.data.location.name},totalConcerts:e.concerts.length,concerts:e.concerts.map((e=>(0,ln.$V)(e)?{uri:e.data.uri,title:e.data.title,location:{city:e.data.location.city,venue:e.data.location.name},startDateIsoString:e.data.startDateIsoString}:null)).filter(ln.se),ref:o}},mn=e=>{const t=(0,Ge.s)(),n=(0,a.useMemo)((()=>{const t=(0,vt.o_)((0,ln.$V)(e)?e.data.uri:"");return e.spec?.eventCardFactory({identifier:t?.id,position:e.position,uri:t?.toURI()??""})}),[e]);if(!(0,ln.$V)(e))return;return{imageUrl:dn(e.data.artists.items)??"",uri:e.data.uri,title:e.data.title,subTitle:[e.data.location.name,e.data.location.city].join(p.Ru.getSeparator()),date:e.data.startDateIsoString,dateRange:(0,ot.Y)(new Date(e.data.startDateIsoString)),handleClick:()=>n&&t.logInteraction(n.hitUiNavigate({destination:e.data.uri}))}},gn="V5SKycHF8ljKTRcTXM52",vn="CzWhnZA1N50SUeRTGNXg",hn="kA_2O3KDNrREQ60CWtsH",pn="eIRhBzZ6DVZOR5G3KjAQ",xn="o9A1xL55C2qn_cIvXSfJ",fn={ConcertGroup:e=>{const t=un(e);return t?(0,tt.jsxs)("div",{ref:t.ref,children:[(0,tt.jsx)(Ot.A,{onClick:t.handleClick,uri:t.concert.uri,title:t.concert.title,image:t.concert.imageUrl??"",subTitle:p.Ru.get("concerts.count",t.concerts.length),dateRange:t.concert.dateRange}),t.isModalOpen&&(0,tt.jsx)(wt,{onClose:t.handleClose,artist:t.artist,location:t.location,concerts:t.concerts})]}):null},ConcertV2ResponseWrapper:e=>{const t=mn(e);return t?(0,tt.jsx)(Ot.A,{uri:t.uri,title:t.title,subTitle:t.subTitle,image:t.imageUrl,date:t.date,onClick:t.handleClick}):null}},jn=e=>{const t=(0,a.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"all",position:e.position??0})),[e.spec,e.position]),n=(0,Ve.t)(t);return 0===e.concerts.length?null:(0,tt.jsxs)("div",{ref:n,className:xn,children:[(0,tt.jsx)(D.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:e.title}),e.concerts.map(((e,n)=>{if(a=e.__typename,!Object.keys(fn).includes(a??""))return null;var a;const i=fn[e.__typename];return(0,tt.jsx)(i,{position:n,spec:t,...e},n)})).filter(ln.se)]})},yn={ConcertGroup:e=>{const t=un(e);return t?(0,tt.jsxs)("div",{ref:t.ref,children:[(0,tt.jsx)(Bt.A,{onClick:t.handleClick,uri:t.concert.uri,title:t.concert.title,imageUrl:t.concert.imageUrl,subTitle:`${t.concert.dateRange} • ${p.Ru.get("concerts.count",t.totalConcerts)}`}),t.isModalOpen&&(0,tt.jsx)(wt,{onClose:t.handleClose,artist:t.artist,location:t.location,concerts:t.concerts})]}):null},ConcertV2ResponseWrapper:e=>{const t=mn(e);return t?(0,tt.jsx)(Bt.A,{uri:t.uri,title:t.title,subTitle:t.subTitle,imageUrl:t.imageUrl,date:t.date,onClick:t.handleClick}):null}},_n=e=>{const t=(0,a.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"all",position:e.position??0})),[e.spec,e.position]),n=(0,Ve.t)(t);return(0,tt.jsx)("div",{ref:n,children:(0,tt.jsx)(Mt.$,{total:e.concerts.length,title:e.title,showAll:!0,withEncoreCards:!1,children:e.concerts.map(((e,n)=>{if(a=e.__typename,!Object.keys(yn).includes(a??""))return null;var a;const i=yn[e.__typename];return(0,tt.jsx)(i,{position:n,spec:t,...e},n)})).filter(ln.se)})})},Cn=e=>{const t={"recommended-events":p.Ru.get("concerts_recommended_for_you"),"popular-events":p.Ru.get("concerts_popular")};return e in t?t[e]:p.Ru.get("concerts")},kn=e=>{if(!(0,ln.eO)(e.data))return null;const t="grid"===e.layout?_n:jn;return(0,tt.jsx)(t,{title:Cn(e.data.key),concerts:e.data.concerts,spec:e.spec})},Rn="TsOt70CoNNJlItfzhvtF",Sn=e=>{if(!(0,ln.dR)(e.data))return null;const t="grid"===e.layout?_n:jn;return(0,tt.jsxs)("div",{children:[e.data.sections.map(((n,a)=>{return(0,tt.jsx)(t,{position:a,title:(i=n.key,i?.match(/^(\d{4})-(\d{2})-(\d{2})$/)?(0,ot.Fn)(new Date(i)):p.Ru.get("live_events.all_events_tab")),concerts:n.concerts,spec:e.spec},a);var i})),e.fetchNextPage&&(0,tt.jsx)(R.n,{className:Rn,onClick:()=>e.fetchNextPage&&e.fetchNextPage(),children:p.Ru.get("concerts.load_more")})]})};var bn=n(64888),Nn=n(96266),In=n(61869);const Dn=new Nn.l("concertFeed","query","2c9fb8f35175a8a3f0bd4cbe9de95c3298228db153577f0492e54251c2f813bb",null);var Un=n(95168),wn=n(52833);const Fn=(e,t=bn.q)=>{const{request:n}=(0,a.useContext)(Un.j),i=t({queryKey:["concert-feed",e.geoHash,e.geonameId,e.dateRange],queryFn:({pageParam:t})=>(0,wn.c)(n,Dn,{...e,paginationKey:""===t?null:t}),staleTime:6e4,gcTime:6e4,enabled:!!e.geoHash||!!e.geonameId,initialPageParam:"",getNextPageParam:e=>{if(!(0,ln.Bw)(e?.data?.liveEventsFeed))return"";const t=e.data.liveEventsFeed.sections.find((e=>"AllEvents"===e.__typename))??{};return(0,ln.dR)(t)?t.paginationKey:""}}),s=(e=>{const t=e?.reduce(((e,t)=>{const n=e?.liveEventsFeed,a=t?.data?.liveEventsFeed;if(!(0,ln.Bw)(a)||!(0,ln.Bw)(n))return e;const i=n.sections.find((e=>"AllEvents"===e.__typename))??{},s=(0,ln.dR)(i)?i.sections:[],o=a.sections.find((e=>"AllEvents"===e.__typename))??{},r=[...s,...(0,ln.dR)(o)?o.sections:[]].reduce(((e,t)=>{const n=e[t.key]??[];return(0,ln.ys)(t)?{...e,[t.key]:[...n,...t.concerts]}:e}),{}),c=Object.entries(r).map((([e,t])=>({key:e,concerts:t})));return{liveEventsFeed:{sections:a.sections.map((e=>"AllEvents"===e.__typename||(0,ln.dR)(e)?{sections:c,__typename:"AllEvents"}:e))}}}),{liveEventsFeed:{sections:[]}});return t})(i.data?.pages),o=i.data?.pages[i.data.pages.length-1]?.data?.liveEventsFeed,r=(0,ln.Bw)(o)?o.sections.find((e=>"AllEvents"===e.__typename)):void 0;return{...i,fetchNextPage:r&&(0,ln.dR)(r)&&r?.paginationKey?i.fetchNextPage:void 0,data:s}},En={AllEvents:Sn,LiveEventSection:kn},Mn=e=>{const{data:t,isLoading:n,error:a,fetchNextPage:i}=Fn({geoHash:e.location.geoHash||null,geonameId:e.location.geonameId||null,dateRange:e.dateRange?.from&&e.dateRange?.to?{from:(0,At.bU)(e.dateRange?.from),to:(0,At.bU)(e.dateRange.to)}:null});return n?(0,tt.jsx)(cn.LoadingPage,{hasError:!1,errorMessage:""}):!(0,ln.Bw)(t?.liveEventsFeed)||0===t.liveEventsFeed.sections.length||a?(0,tt.jsx)(rn.p,{title:p.Ru.get("concerts.error.no_concerts_found_title"),message:p.Ru.get("concerts.error.no_concerts_found_message",e.location.name),renderInline:!0}):(0,tt.jsx)("div",{children:t?.liveEventsFeed.sections.map(((t,n)=>{if(!(0,ln.w1)(t))return null;const a=En[t.__typename];return(0,tt.jsx)(a,{layout:e.layout,spec:e.spec,fetchNextPage:i,data:t},n)})).filter(ln.se)})};var Bn=n(9167),An=n(95884),Tn=n(77);const Pn=new Nn.l("concertLocationDetails","query","b13f195349f188fee25480ae889d782852d68663bf07743c654244454750d681",null);var Ln=n(99559);const zn=e=>{if(!e||!("items"in e))return;const[t]=e.items;return t},On=(e,t)=>{if(!e)return"/concerts";const n=t?.normalize().replaceAll(/\W+/g,"-");return n?`/concerts/location/${e}-${n}`:`/concerts/location/${e}`},Hn=(e=Tn.g)=>{const t=(0,sn.W)(),{isAnonymous:n}=(0,o.d4)(Ln.Ht),{location:i}=e(),[s]=(0,r.ok)(),c=(0,Tn.Zp)(),[,l]=i?.match(/^(\d+)/)??[],[d,u]=(0,a.useState)(l?{geonameId:Number(l)}:void 0),{data:m}=(g={geonameId:d?.geonameId?String(d?.geonameId):null,isAnonymous:n},(0,In.I)(Pn,g,v));var g,v;const h=e=>{u(e),t({type:"click",intent:"change-live-events-location"}),e?.geonameId&&c({pathname:String(e.geonameId)===m?.me?.profile?.location?.geonameId?"/concerts":On(e.geonameId,e.location),search:new URLSearchParams(s).toString()})};if(d){const e=zn(m?.concertLocations);return{location:{geonameId:d.geonameId??Number(e?.geonameId),geohash:d.geohash??e?.geoHash,name:d.name??e?.name},onChangeLocation:h}}const p=m?.me?.profile?.location,x=zn(m?.concertLocations);return{location:p?.geoHash||x?.geonameId?{geohash:p?.geoHash??x?.geoHash,geonameId:Number(p?.geonameId??x?.geonameId),name:p?.name??x?.name}:void 0,onChangeLocation:h}};var Kn=n(64345),Wn=n(78487),Gn=n(4355);const Vn=()=>{const{isAnonymous:e}=(0,o.d4)(Ln.Ht),[t,n]=(0,a.useState)("grid"),{location:i,onChangeLocation:R}=Hn(),S=(0,v.NC)(Gn.tH),b=st(),[N,I]=(0,r.ok)(),{spec:D}=(0,Wn.r)(h.s,{}),U=(0,a.useMemo)((()=>D.headerFactory()),[D]),w=(0,Ge.s)(),F=e&&i?.name?p.Ru.get("live_events.location_concert_tickets",i.name):p.Ru.get("live_events.label"),E=()=>{const e=U.layoutToggleFactory().hitToggleState({stateBeforeToggle:t,stateAfterToggle:"grid"===t?"list":"grid"});w.logInteraction(e),n("grid"===t?"list":"grid")},M="interested"===N.get("filter"),B=M?l.$:d.H;return(0,tt.jsxs)("section",{children:[(0,tt.jsx)(f.Q,{children:(0,Kn.zV)(i?.name)}),(0,tt.jsxs)(j.z,{size:j.K.SMALL,backgroundColor:c.Hhe,children:[(0,tt.jsx)(y.Y,{children:(0,tt.jsx)(k.mm,{children:F})}),(0,tt.jsx)(_.h,{children:(0,tt.jsx)(C.X,{text:F})})]}),(0,tt.jsxs)("div",{children:[(0,tt.jsx)(x.K,{backgroundColor:c.Hhe}),(0,tt.jsxs)("div",{className:s()(gn,"contentSpacing"),children:[(0,tt.jsxs)("div",{className:vn,children:[M?(0,tt.jsx)("div",{}):(0,tt.jsxs)("div",{className:hn,children:[(0,tt.jsx)(Bn.A,{headerSpec:U,locationStr:i?.name??"",handleLocationChange:R}),(0,tt.jsx)(lt,{spec:D})]}),(0,tt.jsxs)("div",{className:pn,children:["grid"===t&&(0,tt.jsx)(d.H,{"aria-label":p.Ru.get("concerts.feed_list_layout"),iconOnly:u.N,onClick:E,size:"small"}),"list"===t&&(0,tt.jsx)(d.H,{"aria-label":p.Ru.get("concerts.feed_grid_layout"),iconOnly:m.D,onClick:E,size:"small"}),(0,tt.jsx)(B,{size:"small",iconLeading:g.E,onClick:()=>I({filter:M?"":"interested"}),children:p.Ru.get("concerts_interested")})]})]}),M?(0,tt.jsx)(on,{layout:t,spec:D}):(0,tt.jsxs)(tt.Fragment,{children:[S&&(0,tt.jsx)(An.k,{onLocationChange:R}),(0,tt.jsx)(Mn,{spec:D,layout:t,location:{geoHash:i?.geohash,geonameId:i?.geonameId?String(i.geonameId):"",name:i?.name??""},dateRange:b})]})]})]})]})}},77957:(e,t,n)=>{n.d(t,{bU:()=>o,he:()=>s,nm:()=>i});var a=n(42534);const i=(e,t)=>{if(!e)return"/concerts";const n=t?.normalize().replaceAll(/\W+/g,"-");return n?`/concerts/location/${e}-${n}`:`/concerts/location/${e}`};const s=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),o=e=>(0,a.x)(e,{representation:"date"})}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map