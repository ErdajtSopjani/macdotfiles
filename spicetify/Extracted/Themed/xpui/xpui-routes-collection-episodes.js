"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6080],{39314:(e,t,i)=>{i.d(t,{I:()=>o});var a=i(30758),r=i(27134),n=i(45292),s=i(61535),l=i(86070);const o=a.memo((function({uri:e,size:t=r.M.md,className:i,onClick:o,canDownload:c,condensedAll:d}){const[u,A]=(0,s.A)(e),h=(0,n.W)(),g=(0,a.useCallback)((()=>{h({targetUri:e,intent:u?"unsave":"save",type:"click"}),A(!u)}),[h,e,u,A]);return(0,l.jsx)(r.f,{className:i,isFollowing:u,onFollow:g,onClick:o,uri:e,size:t,canDownload:c,condensedAll:d,condensed:!0})}))},92738:(e,t,i)=>{i.d(t,{k:()=>d});var a=i(30758),r=i(97500),n=i.n(r),s=i(7008),l=i(22912),o=i(27565),c=i(86070);const d=(0,a.memo)((function(e){const{breakpoint:t,className:i,showSeparator:a,isActive:r,...d}=e;return(0,c.jsx)(s.v,{className:n()(i,o.A.entityRow,{[o.A.separator]:a,[o.A.active]:r}),hoverBackgroundColor:"backgroundTintedHighlight",activeBackgroundColor:"backgroundTintedBase",layout:t===l.e.SMALL?"regular":"wide",hoverAnimationDuration:"0ms",horizontalGap:t===l.e.SMALL?"12px":"16px",paddingBlockStart:"12px",paddingBlockEnd:"12px",...d})}))},79083:(e,t,i)=>{i.d(t,{X:()=>d});var a=i(15231),r=i(27235),n=i(44817),s=i(98913);const l="dK79XxAEu3SEKJ2jS_Qy",o="guiUbDD6Ga8Qpatq2jQ8";var c=i(86070);const d=({isExplicit:e,is19PlusOnly:t,isPaid:i,children:d})=>(0,c.jsxs)("div",{className:l,children:[e&&(0,c.jsx)(n.g,{}),i&&(0,c.jsx)(r.K,{}),t&&(0,c.jsx)(s.q,{size:16}),(0,c.jsx)(a.E,{variant:"bodySmall",className:o,children:d})]})},46669:(e,t,i)=>{i.d(t,{q:()=>n});var a=i(61108),r=i(86070);const n=e=>(0,r.jsx)(a.R,{size:"small",version:a.H.secondary,...e})},35544:(e,t,i)=>{i.d(t,{k:()=>l});var a=i(1360),r=i(42838),n=i(27565),s=i(86070);const l=({description:e,children:t})=>(0,s.jsxs)("div",{className:n.A.body,children:[e&&(0,s.jsx)(a.v,{lineClamp:2,as:"div",dir:"auto",children:(0,s.jsx)(r.q,{asTextContent:!0,html:e})}),t]})},11725:(e,t,i)=>{i.d(t,{F:()=>n});var a=i(27565),r=i(86070);const n=({actions:e,playButton:t})=>(0,r.jsxs)("div",{className:a.A.footer,children:[(0,r.jsx)("div",{className:a.A.actions,children:e}),t]})},64818:(e,t,i)=>{i.d(t,{e:()=>o});var a=i(22912),r=i(56192),n=i(1514),s=i(35481),l=i(86070);const o=({images:e,breakpoint:t,type:i,name:o})=>{const c=(0,s._)(),d=t===a.e.SMALL?n.Qe.SIZE_64:n.Qe.SIZE_112;return(0,l.jsx)(r.b,{fadeIn:!0,images:c(e,n.BZ[d]),shape:r.u.ROUNDED_CORNERS,size:d,iconSize:t===a.e.SMALL?"medium":"xlarge",type:i,title:o,loadingMode:"eager"})}},8284:(e,t,i)=>{i.d(t,{U:()=>s});var a=i(5052),r=i(27565),n=i(86070);const s=({children:e})=>(0,n.jsx)(a.d,{lineClamp:2,as:"div",dir:"auto",className:r.A.title,children:e})},71823:(e,t,i)=>{i.d(t,{Z:()=>h});var a=i(30758),r=i(77),n=i(1133),s=i(15231),l=i(74946),o=i(41331),c=i(61535);const d="hOOwEKqNuXrNvOCB1SgZ",u="csEdkIN9z2LjJIuZraqz";var A=i(86070);const h=({uri:e})=>{const[t,i]=(0,c.A)(e),h=(0,r.Zp)(),g=(0,a.useCallback)((()=>{i(!1),h("/",{replace:!0})}),[h,i]);return(0,A.jsxs)("div",{className:d,children:[(0,A.jsx)(n.b,{size:"xxlarge"}),(0,A.jsxs)("div",{className:u,children:[(0,A.jsx)(s.E,{as:"p",variant:"titleSmall",children:o.Ru.get("forbidden-page.title")}),(0,A.jsx)(s.E,{as:"p",variant:"bodySmall",children:o.Ru.get("forbidden-page.description")})]}),t&&(0,A.jsx)(l.$,{colorSet:"invertedLight",onClick:g,children:o.Ru.get("remove_from_your_library")})]})}},42838:(e,t,i)=>{i.d(t,{q:()=>c});var a=i(30758),r=i(97500),n=i.n(r),s=i(28806),l=i(42419),o=i(86070);const c=a.memo(a.forwardRef((function({html:e,onTimeStampClick:t,enableTimestamps:i=!1,enableAutomaticLinkification:r=!1,semanticColor:c="textSubdued",className:d,asTextContent:u=!1},A){const h=(0,a.useMemo)((()=>(0,s.v)(e,t,i,c,r,u)),[i,r,e,t,c,u]);return(0,o.jsx)("div",{ref:A,className:n()(l.A.HTMLDescription,d),children:h})})))},28806:(e,t,i)=>{i.d(t,{v:()=>p});var a=i(30758),r=i(6936),n=i.n(r),s=i(15231);const l=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;var o=i(91360),c=i(86070);const d=/((?:(?:https?:\/\/)|www\.)(?:(?:(?:[a-z\u00a1-\uffff0-9][-_]*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?:[/?#][^\s"]*)?)/gi,u=/^https?:\/\//;function A(e){return"string"==typeof e?(0,c.jsx)(c.Fragment,{children:e.split(d).map(((e,t)=>t%2?(0,c.jsx)(o.N,{to:`${u.test(e)?"":"https://"}${e}`,children:e},t):e))}):e}var h=i(88545),g=i(42419);const m=(e=(()=>{}),t,i,r)=>{let n=0;const l={_:(e,t,s)=>{const l=void 0===t?e:s;return(0,c.jsx)(a.Fragment,{children:i&&!r?A(l):l},"fragment"+n++)}};if(r)return l;return{...l,p:e=>(0,c.jsx)(s.E,{as:"p",variant:"bodyMedium",semanticColor:t,className:g.A.Paragraph,children:i?A(e.children):e.children}),a:t=>t.href?.startsWith("#t=")?(0,c.jsx)(h.D,{onClick:e,children:t.children}):t.href?(0,c.jsx)(o.N,{to:t.href,children:t.children}):(0,c.jsx)(c.Fragment,{children:t.children}),ul:e=>(0,c.jsx)("ul",{className:g.A.List,children:e.children}),ol:e=>(0,c.jsx)("ol",{className:g.A.List,children:e.children}),li:e=>(0,c.jsx)(s.E,{as:"li",variant:"bodyMedium",semanticColor:t,className:g.A.ListItem,children:i?A(e.children):e.children}),br:()=>(0,c.jsx)("br",{}),h1:e=>(0,c.jsx)(s.E,{as:"h1",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h2:e=>(0,c.jsx)(s.E,{as:"h2",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h3:e=>(0,c.jsx)(s.E,{as:"h3",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h4:e=>(0,c.jsx)(s.E,{as:"h4",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h5:e=>(0,c.jsx)(s.E,{as:"h5",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h6:e=>(0,c.jsx)(s.E,{as:"h6",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),time:t=>(0,c.jsx)(h.D,{onClick:e,children:t.children})}},p=(e,t=(()=>{}),i=!1,a="textSubdued",r=!1,s=!1)=>{const o=i?e.split(l).map((e=>e.match(l)?`(<time>${e.replace("(","").replace(")","")}</time>)`:e)).join(""):e;let c;try{c=n()(o,{transform:m(t,a,r,s),dangerouslySetChildren:[]})}catch{c=e}return c}},69026:(e,t,i)=>{i.d(t,{M:()=>c});var a=i(57574),r=i(30758);const n=[],s=(e,t)=>{const i=[];let a=e,r=t;for(;a>0;){const t=Math.ceil(a/r);i.push({first:e-a,nrItems:t}),a-=t,r--}return i};var l=i(86070);const o=e=>{const{itemsInNode:t,renderItem:i,renderPlaceholder:r,estimatedHeight:n,scrollNodeRef:c,nrRowsOverscan:d=10,nrInitialInView:u=0,firstIndex:A,heights:h,fanOut:g=2}=e,{ref:m,inView:p,entry:x}=(0,a.Wx)({root:c.current,rootMargin:d*n+"px 0px",initialInView:A<u}),E=`${A}-${t}`;h[E]??=n*t,x?.boundingClientRect?.height&&(h[E]=x.boundingClientRect.height);const y=h[E];return 0===t?null:p?1===t?(0,l.jsx)("div",{ref:m,role:"presentation",children:i(A,y)}):(0,l.jsx)("div",{ref:m,role:"presentation",children:s(t,g).map((({first:t,nrItems:i},a)=>(0,l.jsx)(o,{...e,itemsInNode:i,firstIndex:A+t},a)))}):(0,l.jsx)("div",{ref:m,role:"presentation",children:r(`${y}px`)})},c=e=>{const t=(e=>{const t=n.find((t=>t.key===e))?.heights||{},i=(0,r.useCallback)((t=>{if(!e)return;const i=n.findIndex((t=>t.key===e));-1===i?n.push({key:e,heights:t}):(n[i].heights=t,n.push(n.splice(i,1)[0])),n.length>10&&n.shift()}),[e]),a=(0,r.useRef)({...t});return(0,r.useEffect)((()=>()=>{i(a.current)}),[i]),a.current})(e.persistanceKey);return(0,l.jsx)(o,{...e,itemsInNode:e.totalCount,firstIndex:0,heights:t,nrInitialInView:e.nrInitialInView})}},56302:(e,t,i)=>{i.d(t,{u:()=>a});let a=function(e){return e.TITLE="title",e.SUBTITLE="subTitle",e}({})},22912:(e,t,i)=>{i.d(t,{$:()=>s,e:()=>n});var a=i(69798),r=i(57968);const n={SMALL:"small",LARGE:"large"},s=()=>(0,r.y)()===a.E.SMALL?"small":"large"},12761:(e,t,i)=>{i.r(t),i.d(t,{default:()=>qt});var a=i(30758),r=i(3275),n=i(39733),s=i(41331),l=i(55384),o=i(62462),c=i(52182),d=i(7029),u=i(4888),A=i(20641),h=i(35951),g=i(76276),m=i(43111),p=i(50427);let x=function(e){return e.SHOW_ALPHABETICAL="SHOW_ALPHABETICAL",e.BOOK_ALPHABETICAL="BOOK_ALPHABETICAL",e.EPISODE_ALPHABETICAL="EPISODE_ALPHABETICAL",e.PLAYLIST_ALPHABETICAL="PLAYLIST_ALPHABETICAL",e.ALBUM_ALPHABETICAL="ALBUM_ALPHABETICAL",e.ADDED_AT="ADDED_AT",e.CREATOR_NAME="CREATOR_NAME",e.CREATOR_NAME_ALPHABETICAL="CREATOR_NAME_ALPHABETICAL",e.ALBUM_CREATOR_NAME="ALBUM_CREATOR_NAME",e.RECENTLY_PLAYED="RECENTLY_PLAYED",e.MOST_RELEVANT="MOST_RELEVANT",e.CUSTOM_ORDER="CUSTOM_ORDER",e}({});const E={"show-alphabetical":x.SHOW_ALPHABETICAL,"book-alphabetical":x.BOOK_ALPHABETICAL,"episode-alphabetical":x.EPISODE_ALPHABETICAL,"playlist-alphabetical":x.PLAYLIST_ALPHABETICAL,"album-alphabetical":x.ALBUM_ALPHABETICAL,"recently-added":x.ADDED_AT,"creator-name":x.CREATOR_NAME,"creator-name-alphabetical":x.CREATOR_NAME_ALPHABETICAL,"album-creator-name":x.ALBUM_CREATOR_NAME,"recently-played":x.RECENTLY_PLAYED,"playlist-most-relevant":x.MOST_RELEVANT,"playlist-custom-order":x.CUSTOM_ORDER},y={[x.RECENTLY_PLAYED]:{key:"recently-played",get value(){return s.Ru.get("collection.sort.recently-played")}},[x.ADDED_AT]:{key:"recently-added",get value(){return s.Ru.get("collection.sort.recently-added")}},[x.SHOW_ALPHABETICAL]:{key:"show-alphabetical",get value(){return s.Ru.get("collection.sort.alphabetical")}},[x.BOOK_ALPHABETICAL]:{key:"book-alphabetical",get value(){return s.Ru.get("collection.sort.alphabetical")}},[x.EPISODE_ALPHABETICAL]:{key:"episode-alphabetical",get value(){return s.Ru.get("collection.sort.alphabetical")}},[x.PLAYLIST_ALPHABETICAL]:{key:"playlist-alphabetical",get value(){return s.Ru.get("collection.sort.alphabetical")}},[x.ALBUM_CREATOR_NAME]:{key:"album-creator-name",get value(){return s.Ru.get("collection.sort.creator")}},[x.CREATOR_NAME]:{key:"creator-name",get value(){return s.Ru.get("collection.sort.creator")}},[x.CREATOR_NAME_ALPHABETICAL]:{key:"creator-name-alphabetical",get value(){return s.Ru.get("collection.sort.alphabetical")}},[x.ALBUM_ALPHABETICAL]:{key:"album-alphabetical",get value(){return s.Ru.get("collection.sort.alphabetical")}},[x.MOST_RELEVANT]:{key:"playlist-most-relevant",get value(){return s.Ru.get("collection.sort.most-relevant")}},[x.CUSTOM_ORDER]:{key:"playlist-custom-order",get value(){return s.Ru.get("collection.sort.custom-order")}}};x.ADDED_AT,x.ALBUM_ALPHABETICAL,x.CREATOR_NAME,x.ADDED_AT,m.uY.ADDED_AT,m.xB.DESC,x.ALBUM_ALPHABETICAL,m.uY.NAME,m.xB.ASC,x.CREATOR_NAME,m.uY.ARTIST_NAME,m.xB.ASC;x.ADDED_AT,x.CREATOR_NAME_ALPHABETICAL,x.ADDED_AT,m.af.ADDED_AT,m.xB.DESC,x.CREATOR_NAME_ALPHABETICAL,m.af.NAME,m.xB.ASC;x.ADDED_AT,x.SHOW_ALPHABETICAL,x.ADDED_AT,m.WW.ADDED_AT,m.xB.DESC,x.SHOW_ALPHABETICAL,m.WW.NAME,m.xB.ASC;x.ADDED_AT,x.BOOK_ALPHABETICAL,x.ADDED_AT,m.Ev.ADDED_AT,x.BOOK_ALPHABETICAL,m.Ev.NAME;x.MOST_RELEVANT,x.RECENTLY_PLAYED,x.ADDED_AT,x.PLAYLIST_ALPHABETICAL,x.CUSTOM_ORDER,x.ADDED_AT,p.nw.ADDED_AT,p.xB.DESC,x.RECENTLY_PLAYED,p.nw.RECENTLY_PLAYED,p.xB.ASC,x.PLAYLIST_ALPHABETICAL,p.nw.NAME,p.xB.ASC,x.MOST_RELEVANT,p.nw.RELEVANCE,p.xB.DESC,x.CUSTOM_ORDER;x.ADDED_AT,x.ADDED_AT,x.ADDED_AT,x.MOST_RELEVANT,x.ADDED_AT;var C=i(86070);const L=e=>e===x.ADDED_AT?m.xB.DESC:m.xB.ASC,b={option:x.ADDED_AT,order:m.xB.DESC},f={[m.xB.ASC]:m.xB.DESC,[m.xB.DESC]:m.xB.ASC},T=(0,a.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a LibrarySortProvider")},sortState:b}),P=a.memo((function({uri:e,children:t,defaultSortOption:i}){const a={option:i,order:L(i)};return(0,C.jsx)(h.E,{uri:e,defaultState:a,sortContext:T,children:t})}));var j=i(99842),D=i(13948),S=i(52690),_=i(13799),I=i(65114),R=i(2061),v=i(33396);const N=a.memo((function({sortOptions:e,onSort:t}){const{sortState:i,setSortState:r}=(0,a.useContext)(T),n=(0,a.useCallback)((e=>{const a=E[e];t?.(a),r(((e,t,i)=>t!==e?{option:e,order:L(e)}:{option:e,order:f[i]})(a,i.option,i.order))}),[t,r,i.option,i.order]),s=e.map((e=>y[e])),l=y[i.option];return(0,C.jsx)(v.g,{options:s,onSelect:n,selected:l,sortOrder:(o=i.order,o===m.xB.ASC?g.H.ASC:g.H.DESC)});var o}));var k=i(78487);const B="gWfUTJg52F5eTzM6M82w",O=a.memo((function({canSort:e,canFilter:t,filterPlaceholder:i,sortOptions:r}){const{spec:n,logger:s}=(0,k.r)(I.E,{}),l=(0,a.useCallback)((()=>{s.logInteraction(n.filterFieldFactory().keyStrokeFilter())}),[s,n]),o=(0,a.useCallback)((()=>{s.logInteraction(n.filterFieldFactory().hitClearFilter())}),[s,n]);return(0,C.jsxs)("div",{className:B,children:[t?(0,C.jsx)(a.Suspense,{fallback:null,children:(0,C.jsx)(R.S,{placeholder:i,onFilter:l,onClear:o})}):null,e?(0,C.jsx)(N,{sortOptions:r}):null]})}));var M=i(34504);const w={[m.ci.NAME]:u.lU.TITLE,[m.ci.SHOW_NAME]:u.lU.SHOW,[m.ci.ADDED_AT]:u.lU.ADDED_AT},H=[x.ADDED_AT,x.CREATOR_NAME,x.EPISODE_ALPHABETICAL],U={[x.ADDED_AT]:m.ci.ADDED_AT,[x.CREATOR_NAME]:m.ci.SHOW_NAME,[x.EPISODE_ALPHABETICAL]:m.ci.NAME};const F=(e,t)=>{if(function(e){return H.includes(e)}(e))return{field:U[e],order:t}},z=(e,t)=>{if(!H.includes(e))return;return(e=>{if(!e?.field)return;const t=w[e.field];if(!t)return;return u.SL[t].map((t=>e.order?`${t} ${e.order}`:t)).join(",")})(F(e,t))};var Y=i(3782),W=i(19019),V=i(98550),K=i(99153);const $="wmGcau34_eXQOX37kUTc",Q="Yxy9nPtcdgz7zbBsWVKg",G=({metadata:e,canSort:t,backgroundColor:i,isPlaying:a,isOnline:r,togglePlay:n})=>{const l=(0,V.f)(),{uri:o,name:c}=e,d=e.totalLength>0,u=(0,Y.j)();return(0,C.jsx)(j.E,{backgroundColor:i,children:(0,C.jsxs)(D.S,{children:[d&&(0,C.jsx)(_.D,{onClick:()=>n(),isPlaying:a,size:u,uri:o,disabled:!r,ariaPlayLabel:s.Ru.get("playlist.a11y.play",c),ariaPauseLabel:s.Ru.get("playlist.a11y.pause",c)}),t&&(0,C.jsx)("div",{className:Q,children:(0,C.jsx)(S.u,{property:W.ucV,renderNewExperience:()=>(0,C.jsx)(M.d,{sortOptions:[K.nw.TITLE,K.nw.ADDED_AT,K.nw.PUBLISH_DATE,K.nw.SHOW_NAME],defaultSortField:K.nw.ADDED_AT,filterPlaceholder:s.Ru.get("playlist.search_in_playlist")}),renderOldExperience:()=>(0,C.jsx)(O,{canSort:l.getCapabilities().canSort,canFilter:l.getCapabilities().canFilter,filterPlaceholder:s.Ru.get("playlist.search_in_playlist"),sortOptions:H})})})]})})};var q=i(93720),X=i(12953),Z=i(43830),J=i(581),ee=i(56665),te=i(19194),ie=i(27235),ae=i(68031),re=i(45292),ne=i(68702),se=i(11244),le=i(44817),oe=i(98913),ce=i(78330),de=i(57968),ue=i(61535),Ae=i(98882),he=i(74493),ge=i(86317),me=i(35293),pe=i(42668);const xe="sxxBMk7G1OGo4uYIgPdQ",Ee="wpP88qSwGpDQbc_ogyXW",ye={small:64,standard:300,large:640,xlarge:1024},Ce=a.memo((function({index:e,contextUri:t,episode:i,onRemove:r,usePlayContextItem:s}){const l=(0,a.useRef)(i.duration.milliseconds-i.playedState.timeLeft.milliseconds),o=i.uri,[c,d]=(0,a.useState)(i.playedState.state===me.M.Completed),{filter:u}=(0,a.useContext)(A.g),{draggable:h,onDragStart:g}=(0,ae.P)(),m=(0,de.y)(),p=(0,re.W)(),[x]=(0,ue.A)(o,!0),{isPlayable:E}=(0,ne.g)(i.uri,{isPlayable:i.isPlayable}),y=(0,se.n)(),{isPlaying:L,isActive:b,togglePlay:f}=s({uri:o,index:e}),[T]=(0,he.S)(1e4,(e=>e?.item?.uri===o));(0,a.useEffect)((()=>{L&&(l.current=T)}),[L,T]);const{isPlaying:P,isActive:j,togglePlay:D}=(0,Ae.P)({uri:o,pages:[{items:[{type:ge.c.EPISODE,uri:o,uid:null,provider:null}]}]},{featureIdentifier:"your_library",referrerIdentifier:"your_library"});(0,a.useEffect)((()=>{x||r()}),[x,r]),(0,a.useEffect)((()=>{L||i.duration.milliseconds<=l.current&&d(!0)}),[L,i.duration.milliseconds]);const S=(0,a.useCallback)((e=>{e||(l.current=0),d(e)}),[]),_=(0,a.useCallback)((e=>{if(e.target!==e.currentTarget)return;let a=`${i.name}`;i.show?.name&&(a+=` • ${i.show.name}`),g(e,{itemUris:[o],dragLabelText:a,contextUri:t})}),[t,i.name,i.show?.name,o,g]),I=(0,a.useCallback)((()=>{p({type:"click",targetUri:o,intent:"navigate"})}),[o,p]),R=(0,a.useCallback)((()=>{y?(p({type:"click",intent:L?"pause":"play"}),f()):(p({type:"click",intent:P?"pause":"play"}),D())}),[y,L,P,p,f,D]),v=(0,a.useCallback)((e=>(0,C.jsx)(te.M,{searchWords:[u],textToHighlight:e})),[u]),N=i.podcastSubscription?.isPaywalled??!1,k=i.podcastSubscription?.isUserSubscribed??!1,{badges:B}=(0,pe.b)({isExplicit:i.isExplicit,isMOGEFRestricted:i.is19PlusOnly,isPaywalled:N});let O=!1;(b||!y&&j)&&(O=!0);const M=(0,n.NC)(W.cKd,{loadingValue:!1});return x?(0,C.jsxs)(ce.pZ,{value:"row",index:e,children:[(0,C.jsx)("hr",{className:xe,"aria-hidden":!0}),(0,C.jsx)(q.h,{menu:(0,C.jsx)(X.b,{uri:o,contextUri:t,showUri:i.show?.uri,isPlayed:c,onMarkAsPlayed:S}),children:M?(0,C.jsx)(J.k,{requestId:i.requestId,index:e,uri:o,uid:o,size:m,images:i.images.map((e=>({url:e.url,width:e.width||(e.label?ye[e.label]:null),height:e.height||(e.label?ye[e.label]:null)}))),isPaywalled:N,isUserSubscribed:k,name:i.name,highlightText:v,showName:i.show?.name,showUri:i.show?.uri,description:i.description,isPlayable:E,fullyPlayed:c,durationMs:i.duration.milliseconds,releaseDate:i.release.date||"",resumePositionMs:l.current,draggable:h,handleDragStart:_,handlePlaybackClick:R,handleClick:I,isCurrentlyPlaying:O,isPlaying:y?L:P,position:O?T:void 0,episodeSharingInfo:null,onMarkAsPlayed:S,badges:(0,C.jsxs)(C.Fragment,{children:[B.explicit&&(0,C.jsx)(le.g,{}),B.paid&&(0,C.jsx)(ie.K,{}),B.nineteen&&(0,C.jsx)(oe.q,{size:16})]}),playButtonWrapper:e=>(0,C.jsx)(ee.f,{enabled:N&&!k,showUri:i.show?.uri||void 0,children:e})}):(0,C.jsx)(Z.R,{requestId:i.requestId,index:e,uri:o,uid:o,size:m,images:i.images.map((e=>({url:e.url,width:e.width||(e.label?ye[e.label]:null),height:e.height||(e.label?ye[e.label]:null)}))),isPaywalled:N,isUserSubscribed:k,name:i.name,highlightText:v,showName:i.show?.name,showUri:i.show?.uri,description:i.description,isPlayable:E,fullyPlayed:c,durationMs:i.duration.milliseconds,releaseDate:i.release.date||"",resumePositionMs:l.current,handleDragStart:_,handlePlaybackClick:R,handleClick:I,isCurrentlyPlaying:O,isPlaying:y?L:P,position:O?T:void 0,episodeSharingInfo:null,onMarkAsPlayed:S,badges:(0,C.jsxs)(C.Fragment,{children:[B.explicit&&(0,C.jsx)(le.g,{}),B.paid&&(0,C.jsx)(ie.K,{}),B.nineteen&&(0,C.jsx)(oe.q,{size:16})]}),playButtonWrapper:e=>(0,C.jsx)(ee.f,{enabled:N&&!k,showUri:i.show?.uri||void 0,children:e})})})]}):null}));var Le=i(88869),be=i(69798),fe=i(66037);const Te=a.memo((function({contextUri:e,usePlayContextItem:t}){const i=(0,V.f)(),{sortState:r}=(0,a.useContext)(T),[n,s]=(0,a.useState)({totalLength:0,unfilteredTotalLength:0,offset:0,items:[],limit:50}),l=(0,a.useRef)(!1),o=(0,a.useRef)(0),c=(0,a.useRef)(0),{filter:d}=(0,a.useContext)(A.g),u=(0,a.useCallback)((()=>{c.current++}),[]),{ref:h,breakpoint:g}=(0,fe.x)({[be.E.MEDIUM]:0,[be.E.LARGE]:600}),m=(0,a.useCallback)(((e=!1)=>{const t=o.current;null!==t&&(l.current||(l.current=!0,(async e=>{const t=await i.getEpisodes({offset:e-c.current,limit:50,sort:F(r.option,r.order),filter:d});return c.current=0,t})(Number(t)).then((i=>{s((a=>{const r=Number(i.offset)+i.items.length,n=e?[]:[...a.items];return n.splice(Number(t),i.items.length,...i.items),o.current=r<i.totalLength?r:null,{...i,items:n}})),l.current=!1}))))}),[d,i,r]);return(0,a.useEffect)((()=>{o.current=0,m(!0)}),[m]),(0,C.jsx)(de.o.Provider,{value:g,children:(0,C.jsx)(ce.pZ,{value:"track-list",children:(0,C.jsx)("div",{ref:h,children:(0,C.jsx)(Le._,{onReachBottom:m,triggerOnInitialLoad:!0,children:n.items.map(((i,a)=>(0,C.jsx)("div",{className:Ee,children:(0,C.jsx)(Ce,{index:a,episode:i,contextUri:e,onRemove:u,usePlayContextItem:t},`${i.uri}/${a}`)},`${a}${i.uri}`)))})})})})}));var Pe=i(15231),je=i(59092),De=i(36041),Se=i(16373),_e=i(99168),Ie=i(90436),Re=i(87188),ve=i(27275),Ne=i(4631),ke=i(56192);const Be=({metadata:e,backgroundColor:t,isPlaying:i,isOnline:r,togglePlay:n})=>{const{uri:l,name:o,images:c,totalLength:d,owner:u}=e,A=(0,a.useMemo)((()=>({id:u.username,uri:u.uri,name:u.username,displayName:u.displayName||void 0,images:u.images||[]})),[u]);return(0,C.jsxs)(je.z,{backgroundColor:t,children:[(0,C.jsxs)(_e.h,{children:[(0,C.jsx)(_.D,{size:"medium",onClick:()=>n(),isPlaying:i,uri:l,disabled:!r,ariaPlayLabel:s.Ru.get("playlist.a11y.play",o),ariaPauseLabel:s.Ru.get("playlist.a11y.pause",o)}),(0,C.jsx)(Ie.X,{text:o})]}),(0,C.jsx)(De.K,{images:c,name:o,shape:ke.u.ROUNDED_CORNERS,renderImage:()=>(0,C.jsx)(Ne.b,{})}),(0,C.jsxs)(Se.Y,{children:[(0,C.jsx)(Pe.E,{variant:"bodySmallBold",children:s.Ru.get("playlist")}),(0,C.jsx)(ve.mm,{canEdit:!1,onClick:()=>{},children:o}),(0,C.jsx)(Re.t,{creators:[A],totalItems:d,hasEpisodes:!0})]})]})};var Oe=i(41978),Me=i(59677),we=i(31744),He=i(27338),Ue=i(92044);const Fe={get[K.YB.AVAILABLE_OFFLINE](){return s.Ru.get("download.available-offline")},get[K.YB.UNPLAYED](){return s.Ru.get("shows.filter.unplayed")},get[K.YB.IN_PROGRESS](){return s.Ru.get("shows.filter.in-progress")}};var ze=i(29800);const Ye=({filterPredicates:e,className:t})=>{const{canFilter:i}=(0,ze.m)().getCapabilities(),{filterPredicate:a,setFilterPredicate:r}=(0,Ue.jP)();return i?a?(0,C.jsxs)("div",{className:t,children:[(0,C.jsx)(we.m,{onClick:()=>r(null),"aria-label":s.Ru.get("web-player.your-library-x.clear_filters")}),(0,C.jsx)(He.v,{onClick:()=>r(null),selected:!0,selectedColorSet:"invertedLight",children:Fe[a]},a)]}):(0,C.jsx)("div",{className:t,children:e.map((e=>(0,C.jsx)(He.v,{onClick:()=>r(a?null:e),selected:a===e,selectedColorSet:"invertedLight",children:Fe[e]},e)))}):null};var We=i(28521),Ve=i(63758),Ke=i(97500),$e=i.n(Ke),Qe=i(77),Ge=i(87500),qe=i(41257),Xe=i(2304),Ze=i(39314),Je=i(19477),et=i(14392),tt=i(31352),it=i(33e3),at=i(79083),rt=i(46669),nt=i(92738);var st=i(35544),lt=i(11725),ot=i(64818),ct=i(8284),dt=i(56302),ut=i(22912),At=i(91360),ht=i(45647),gt=i(97074),mt=i(63128),pt=i(71115),xt=i(72888),Et=i(65312),yt=i(60285),Ct=i(72553),Lt=i(4139),bt=i(19845),ft=i(27565);const Tt=(0,a.memo)((function({episode:e,contextUri:t,usePlayContextItem:i,index:r,sharingInfo:n,uid:l,showSeparator:o=!1,highlightText:c=(e=>e),...d}){const{name:u,description:A,isExplicit:h,show:g,type:m,uri:p,duration:x,is19PlusOnly:E,mediaType:y,release:L,images:b}=e,f=(0,Lt.s)(),{spec:T}=(0,k.r)(qe.m,{data:{position:r,uri:p}}),P=g?.name,j=g?.uri,D=(0,Me.o_)(j)?.toURLPath(!0),S=e.podcastSubscription?.isPaywalled??!1,_=e.podcastSubscription?.isUserSubscribed??!1,I=S&&!_,R=y?.includes(me.C.Video)??!1,v=(0,Qe.Zp)(),N=(0,Me.o_)(p).toURLPath(!0),B=(0,ut.$)(),[O,M]=(0,ue.A)(p),w=(0,Et.T)(p),{isPlaying:H,isActive:U,togglePlay:F}=i({uri:p,index:r}),z=B===ut.e.SMALL?"small":"medium",{resumePositionMs:Y,onToggleMarkAsPlayed:W,isFullyPlayed:V}=((e,t)=>{const{uri:i,duration:r,playedState:n}=e,s=(0,a.useRef)(r.milliseconds-n.timeLeft.milliseconds),[l,o]=(0,a.useState)(n.state===me.M.Completed),[c]=(0,he.S)(1e4,(e=>e?.item?.uri===i)),d=(0,a.useCallback)((e=>{e||(s.current=0),o(e)}),[]);return(0,a.useEffect)((()=>{t&&(s.current=c)}),[t,c]),{resumePositionMs:s.current,isFullyPlayed:l,onToggleMarkAsPlayed:d}})(e,H),K=[u,...P?[P]:[]].join(" • "),{draggable:$,onDragStart:Q}=(0,ae.P)({itemUris:[p],dragLabelText:K}),G=(0,mt.v)(p),Z=(0,a.useCallback)((e=>{if(e.stopPropagation(),I)f.logInteraction(T.playButtonFactory().hitShowPaywall({paywalledItem:p}));else{const e=(0,pt.$I)({isPlaying:H,isActive:U,spec:T.playButtonFactory(),logger:f,uri:p});F({loggingParams:e})}}),[U,H,f,T,F,I,p]),J=(0,C.jsx)(ct.U,{children:c(u,dt.u.TITLE)}),te=(0,C.jsx)(st.k,{description:A,children:(0,C.jsx)(at.X,{isExplicit:!!h,is19PlusOnly:E,isPaid:S,children:x.milliseconds&&(0,C.jsx)(bt.j,{isPlaying:!1,fullyPlayed:V,durationMs:x.milliseconds,position:Y,releaseDate:L.date})})}),ie=(0,C.jsx)(X.b,{uri:p,uid:l,contextUri:t,showUri:j,isPlayed:V,onMarkAsPlayed:W}),re=(0,C.jsx)(Xe.M,{className:$e()({[ft.A.visibleAction]:O}),isAdded:O,onClick:()=>{M(!O)},size:z,isEpisode:!0,condensedAll:!0}),ne=(0,C.jsx)(gt.g,{size:z,uri:p}),se=(0,C.jsxs)(C.Fragment,{children:[G?ne:re,(0,C.jsx)(Ze.I,{className:$e()({[ft.A.visibleAction]:(0,xt.X)(w)}),uri:p,size:z,canDownload:!S||S&&_,onClick:(e,t)=>{t===yt.NV.ADD&&f.logInteraction(T.downloadButtonFactory().hitDownload({itemToDownload:p}))},condensedAll:!0}),(0,C.jsx)(et.w,{uri:p,sharingInfo:n??null,interactionData:{intent:"share",type:"click"},size:z,onClick:()=>{f.logInteraction(T.shareButtonFactory().hitShare({entityToBeShared:p,shareId:n?.shareId??""}))},condensedAll:!0}),(0,C.jsx)(tt.b,{menu:ie,children:(0,C.jsx)(Je.e,{label:s.Ru.get("more.label.context",u),size:z,onClick:()=>{f.logInteraction(T.contextMenuButtonFactory().hitUiReveal())},condensedAll:!0})})]}),le=(0,C.jsx)(lt.F,{actions:se,playButton:(0,C.jsx)(ee.f,{enabled:S&&!_,showUri:j||void 0,children:(0,C.jsx)(rt.q,{onClick:Z,isPlaying:H,ariaPlayLabel:s.Ru.get("tracklist.a11y.play",u,P),ariaPauseLabel:s.Ru.get("tracklist.a11y.pause",u,P),locked:I})})}),oe=(0,C.jsx)(ot.e,{images:b,name:u,type:m,breakpoint:B}),ce=(0,C.jsxs)(Ge.j,{lineClamp:2,children:[R&&(0,C.jsx)(ht.T,{}),P&&D&&(0,C.jsx)(q.h,{menu:(0,C.jsx)(it.H,{uri:j??""}),onShow:()=>{f.logInteraction(T.podcastLinkFactory().secondaryHitUiReveal())},children:(0,C.jsx)(At.N,{to:D,onClick:()=>{f.logInteraction(T.podcastLinkFactory().hitUiNavigate({destination:D}))},children:(0,C.jsx)(Pe.E,{variant:"bodySmall",semanticColor:"textSubdued",children:c(P,dt.u.SUBTITLE)})})})]});return(0,C.jsx)(Ct.r,{spec:T,children:(0,C.jsx)(q.h,{menu:ie,onShow:()=>{f.logInteraction(T.secondaryHitUiReveal())},children:(0,C.jsx)(nt.k,{draggable:$,onDragStart:Q,breakpoint:B,id:`book-${p}`,media:oe,title:J,body:te,subtitle:ce,footer:le,isActive:U,onClick:()=>{v(N)},showSeparator:o,...d})})})}));var Pt=i(75374),jt=i(68716),Dt=i(67584),St=i(69026),_t=i(70329),It=i(20631);const Rt=({renderItem:e})=>{const t=(0,_t.v7)(),{getItem:i,nrValidItems:r,invalidateCache:n}=(0,Dt.K_)(),{playlist:{metadata:s}}=(0,jt.gU)();(0,It.H)(s.uri,n);const l=(0,a.useCallback)((e=>(0,C.jsx)("div",{style:{height:e}})),[]),o=(0,a.useCallback)(((t,a)=>{const r=i(t);return r?e(r,t):l(`${a}px`)}),[i,e,l]),c="POP"===(0,Qe.wQ)()?0:10;return(0,C.jsx)(Pt.R,{firstInteractiveIsWrapper:!0,"aria-rowcount":r,"aria-colcount":6,children:(0,C.jsx)(St.M,{totalCount:r,estimatedHeight:200,renderItem:o,renderPlaceholder:l,scrollNodeRef:t,nrRowsOverscan:10,persistanceKey:s.uri,nrInitialInView:c})})};var vt=i(70414);const Nt=({children:e,index:t})=>(0,C.jsx)(vt.W,{"aria-posinset":t,children:e});var kt=i(38361);const Bt=(0,a.memo)((function({usePlayContextItem:e,contextUri:t}){const{contentsOptions:{filter:i}}=(0,We.g)(),r=(0,a.useCallback)(((e,t)=>"string"!=typeof i?e:t===dt.u.TITLE||t===dt.u.SUBTITLE?(0,C.jsx)(te.M,{searchWords:[i],textToHighlight:e}):e),[i]),n=(0,a.useCallback)(((i,a)=>(0,kt.xp)(i)?(0,C.jsx)(Nt,{index:a,children:(0,C.jsx)(Tt,{index:a,episode:i,contextUri:t,usePlayContextItem:e,showSeparator:0!==a,highlightText:r})},`${i.uri}/${a}`):null),[t,r,e]);return(0,C.jsx)(Rt,{renderItem:n})}));function Ot(e){return{url:e.url,width:e.width,height:e.height}}var Mt=i(39397),wt=i(35369),Ht=i(99559),Ut=i(70279),Ft=i(86652);const zt="zX8QX7OLPnU9eLrJV3Cd",Yt="hILz7Al7z5E0yyQdBo_K",Wt=()=>{const e=(0,wt.z)("#006450"),t=(0,se.n)(),{user:i}=(0,Oe.d4)(Ht.Ht),n=(0,ze.m)(),{canSort:l,canFilter:d}=n.getCapabilities(),{playlist:{metadata:u},contentsOptions:A}=(0,We.g)(),h=(0,a.useMemo)((()=>{const e=(e=>({type:ge.c.USER,uri:e?.uri??"",username:e?.id??"",displayName:e?.display_name??null,images:e?.images?.map(Ot)??[]}))(i);return{...u,owner:e,name:s.Ru.get("sidebar.your_episodes")}}),[u,i]),{isPlaying:g,togglePlay:m,usePlayContextItem:p}=(0,Ae.P)((0,Ft.A)(h.uri,A),{featureIdentifier:"your_library",referrerIdentifier:"your_library"},{shuffle:!1,repeat:Ut.p.REPEAT_NONE}),x=i?(0,Me.fH)(i.id,"your-episodes").toURI():"";return(0,C.jsxs)("section",{className:zt,"data-testid":"your-episodes-page",children:[(0,C.jsx)(o.Q,{children:s.Ru.get("sidebar.your_episodes")}),(0,C.jsx)(Be,{metadata:h,backgroundColor:e,isPlaying:g,isOnline:t,togglePlay:m}),(0,C.jsxs)("div",{children:[(0,C.jsx)(G,{metadata:h,backgroundColor:e,isPlaying:g,isOnline:t,togglePlay:m,canSort:l||d}),(0,C.jsxs)("div",{className:"contentSpacing",children:[(0,C.jsx)(Ye,{className:Yt,filterPredicates:[K.YB.UNPLAYED,K.YB.AVAILABLE_OFFLINE,K.YB.IN_PROGRESS]}),h.totalLength>0?(0,C.jsx)(Bt,{usePlayContextItem:p,contextUri:x}):(0,C.jsx)(c.p,{message:s.Ru.get("collection.empty-page.episodes-subtitle"),title:s.Ru.get("collection.empty-page.episodes-title"),linkTo:"/genre/podcasts-web",linkTitle:s.Ru.get("collection.empty-page.shows-cta"),renderInline:!0,children:(0,C.jsx)(r.P,{"aria-hidden":"true"})})]})]})]})},Vt=(0,a.memo)((function(){return(0,C.jsx)(Ve.W,{uri:Mt.H,children:(0,C.jsx)(Wt,{})})}));var Kt=i(10465),$t=i(98333);const Qt=({metadata:e,canSort:t})=>{const i=(0,wt.z)("#006450"),n=(0,se.n)(),{sortState:d}=(0,a.useContext)(T),{filter:h}=(0,a.useContext)(A.g),{isPlaying:g,togglePlay:m,usePlayContextItem:p}=(0,Ae.P)({uri:e.uri,metadata:{[$t.W.SORTING_CRITERIA]:z(d.option,d.order),[$t.W.FILTERING_PREDICATE]:(0,u.ly)(h)}},{featureIdentifier:"your_library",referrerIdentifier:"your_library"},{shuffle:!1,repeat:Ut.p.REPEAT_NONE});return(0,C.jsxs)("section",{className:$,"data-testid":"your-episodes-page",children:[(0,C.jsx)(o.Q,{children:s.Ru.get("sidebar.your_episodes")}),(0,C.jsx)(Be,{metadata:e,backgroundColor:i,isPlaying:g,isOnline:n,togglePlay:m}),(0,C.jsxs)("div",{children:[(0,C.jsx)(G,{metadata:e,backgroundColor:i,isPlaying:g,isOnline:n,togglePlay:m,canSort:t}),(0,C.jsx)("div",{className:"contentSpacing",children:e.totalLength>0?(0,C.jsx)(Te,{contextUri:e.uri,usePlayContextItem:p}):(0,C.jsx)(c.p,{message:s.Ru.get("collection.empty-page.episodes-subtitle"),title:s.Ru.get("collection.empty-page.episodes-title"),linkTo:"/genre/podcasts-web",linkTitle:s.Ru.get("collection.empty-page.shows-cta"),renderInline:!0,children:(0,C.jsx)(l.v,{href:"/genre/podcasts-web",children:(0,C.jsx)(r.P,{"aria-hidden":"true","aria-label":s.Ru.get("collection.empty-page.episodes-title")})})})})]})]})},Gt=(0,a.memo)((function(){const e=(0,V.f)().getCapabilities(),t=(0,Kt.u)();return t?(0,C.jsx)(P,{uri:t.uri,defaultSortOption:x.ADDED_AT,children:(0,C.jsx)(A.s,{uri:t.uri,children:(0,C.jsx)(Qt,{metadata:t,canSort:e.canSortTracksAndEpisodes&&t.totalLength>0})})}):(0,C.jsx)(d.LoadingPage,{hasError:!1,errorMessage:s.Ru.get("error.not_found.title.page"),loadOffline:e.canModifyOffline})})),qt=(0,a.memo)((function(){return(0,n.NC)(W.ucV)?(0,C.jsx)(Vt,{}):(0,C.jsx)(Gt,{})}))},86652:(e,t,i)=>{function a(e,t){return{uri:e,playlistQueryOptions:t}}i.d(t,{A:()=>a})},27565:(e,t,i)=>{i.d(t,{A:()=>a});const a={entityRow:"ci11tAmTK1LnxThQkXPy",actions:"_2sJPwAAp1wY1Ftke6iFe",visibleAction:"yuNzasMLs7hvemHI4d8Q",active:"dNymWGRudMrTI6ot9FBg",title:"luWcW9hkbLdFxRQB0yGb",body:"abYR6tZoE7BdzThmWTb0",footer:"GOcKQxqNMhGzbGiAXBig",separator:"yFQjuDAhri_egM1pwn70"}},42419:(e,t,i)=>{i.d(t,{A:()=>a});const a={Heading:"playlist-playlist-heading",HTMLDescription:"playlist-playlist-playlistDescription",List:"playlist-playlist-list",ListItem:"playlist-playlist-listItem",Paragraph:"playlist-playlist-paragraph"}}}]);
//# sourceMappingURL=xpui-routes-collection-episodes.js.map