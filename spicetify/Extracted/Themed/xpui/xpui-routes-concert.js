"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9209],{14392:(e,t,a)=>{a.d(t,{w:()=>u});var r=a(30758),n=a(97500),s=a.n(n),i=a(64096),o=a(41331),c=a(61611),l=a(24759);const d="pvGZ831aNzHTQMZ8CA_u";var m=a(86070);const u=(0,r.memo)((function({onClick:e=(()=>{}),size:t,className:a,uri:n,sharingInfo:u,interactionData:h,ariaLabel:g=o.Ru.get("mwp.list.item.share"),condensedAll:x,placement:v,semanticColor:p,disableTooltip:f}){const{onCopyLink:j}=(0,l.L)({sharingInfo:u,uri:n,interactionData:h}),y=(0,r.useCallback)((()=>{j(),e()}),[e,j]);return(0,m.jsx)(c.a,{ariaLabel:g,size:t,onClick:y,className:s()(d,a),icon:i.C,condensedAll:x,placement:v,condensed:!0,semanticColor:p,disableTooltip:f})}))},13796:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(30758),n=a(49329),s=a(86070);const i=(0,r.memo)((function({children:e}){return(0,s.jsx)("span",{className:n.A.detailsText,children:e})}))},42838:(e,t,a)=>{a.d(t,{q:()=>l});var r=a(30758),n=a(97500),s=a.n(n),i=a(28806),o=a(42419),c=a(86070);const l=r.memo(r.forwardRef((function({html:e,onTimeStampClick:t,enableTimestamps:a=!1,enableAutomaticLinkification:n=!1,semanticColor:l="textSubdued",className:d,asTextContent:m=!1},u){const h=(0,r.useMemo)((()=>(0,i.v)(e,t,a,l,n,m)),[a,n,e,t,l,m]);return(0,c.jsx)("div",{ref:u,className:s()(o.A.HTMLDescription,d),children:h})})))},28806:(e,t,a)=>{a.d(t,{v:()=>v});var r=a(30758),n=a(6936),s=a.n(n),i=a(15231);const o=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;var c=a(91360),l=a(86070);const d=/((?:(?:https?:\/\/)|www\.)(?:(?:(?:[a-z\u00a1-\uffff0-9][-_]*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?:[/?#][^\s"]*)?)/gi,m=/^https?:\/\//;function u(e){return"string"==typeof e?(0,l.jsx)(l.Fragment,{children:e.split(d).map(((e,t)=>t%2?(0,l.jsx)(c.N,{to:`${m.test(e)?"":"https://"}${e}`,children:e},t):e))}):e}var h=a(88545),g=a(42419);const x=(e=(()=>{}),t,a,n)=>{let s=0;const o={_:(e,t,i)=>{const o=void 0===t?e:i;return(0,l.jsx)(r.Fragment,{children:a&&!n?u(o):o},"fragment"+s++)}};if(n)return o;return{...o,p:e=>(0,l.jsx)(i.E,{as:"p",variant:"bodyMedium",semanticColor:t,className:g.A.Paragraph,children:a?u(e.children):e.children}),a:t=>t.href?.startsWith("#t=")?(0,l.jsx)(h.D,{onClick:e,children:t.children}):t.href?(0,l.jsx)(c.N,{to:t.href,children:t.children}):(0,l.jsx)(l.Fragment,{children:t.children}),ul:e=>(0,l.jsx)("ul",{className:g.A.List,children:e.children}),ol:e=>(0,l.jsx)("ol",{className:g.A.List,children:e.children}),li:e=>(0,l.jsx)(i.E,{as:"li",variant:"bodyMedium",semanticColor:t,className:g.A.ListItem,children:a?u(e.children):e.children}),br:()=>(0,l.jsx)("br",{}),h1:e=>(0,l.jsx)(i.E,{as:"h1",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h2:e=>(0,l.jsx)(i.E,{as:"h2",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h3:e=>(0,l.jsx)(i.E,{as:"h3",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h4:e=>(0,l.jsx)(i.E,{as:"h4",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h5:e=>(0,l.jsx)(i.E,{as:"h5",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),h6:e=>(0,l.jsx)(i.E,{as:"h6",variant:"bodyMediumBold",semanticColor:t,className:g.A.Heading,children:e.children}),time:t=>(0,l.jsx)(h.D,{onClick:e,children:t.children})}},v=(e,t=(()=>{}),a=!1,r="textSubdued",n=!1,i=!1)=>{const c=a?e.split(o).map((e=>e.match(o)?`(<time>${e.replace("(","").replace(")","")}</time>)`:e)).join(""):e;let l;try{l=s()(c,{transform:x(t,r,n,i),dangerouslySetChildren:[]})}catch{l=e}return l}},49867:(e,t,a)=>{a.d(t,{A:()=>y});var r=a(30758),n=a(25805),s=a(15231),i=a(50369),o=a(91360),c=a(58708),l=a(97335);const d="wedRUk4eiBo9n9vqXLhU",m="hMbtEskyvMbDiwq1EScA",u="HYVIJaYYiCTgSCHie70L",h="SPbe_Q1wtiZQCmo0QKUy",g="TRp4tgG7_cymGIXDevIP",x="tC1Y_nwyyly7cpIGqF5K",v="l93AfoV_qHnMQSQBB5GK",p="DgDBmSR2sbwji2UfqxIf",f="EkGb0ZzhswreSvpZoioY";var j=a(86070);const y=(0,r.memo)((e=>{const{uri:t,title:a,imageUrl:r,date:y,subTitle:C,firstParty:N,onClick:_}=e,b=y?(0,c.l4)(y):void 0;return(0,j.jsx)(o.N,{to:t,className:d,"data-testid":"concert-card",onClick:_,children:(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)(l.b,{children:(0,j.jsx)("div",{role:"img",className:f,style:{backgroundImage:`url(${r})`},children:!r&&(0,j.jsx)(n.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),b&&(0,j.jsxs)("time",{className:u,dateTime:y,children:[(0,j.jsx)(s.E,{as:"div",variant:"bodySmall",children:(0,c.tj)(b)}),(0,j.jsx)(s.E,{as:"div",variant:"bodyMediumBold",children:(0,c.Py)(b)})]}),(0,j.jsxs)("div",{className:h,dir:"auto",children:[(0,j.jsx)(s.E,{as:"h2",variant:"bodyMedium",className:g,children:a}),(0,j.jsxs)("div",{className:x,children:[N&&(0,j.jsx)("span",{className:p,children:(0,j.jsx)(i.D,{size:"small"})}),(0,j.jsx)(s.E,{as:"span",className:v,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:C})]})]})]})})}))},77957:(e,t,a)=>{a.d(t,{bU:()=>i,he:()=>s,nm:()=>n});var r=a(42534);const n=(e,t)=>{if(!e)return"/concerts";const a=t?.normalize().replaceAll(/\W+/g,"-");return a?`/concerts/location/${e}-${a}`:`/concerts/location/${e}`};const s=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),i=e=>(0,r.x)(e,{representation:"date"})},92389:(e,t,a)=>{a.d(t,{d:()=>r});const r=new(a(96266).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)},98046:(e,t,a)=>{a.d(t,{$:()=>r});const r=new(a(96266).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},12692:(e,t,a)=>{a.d(t,{$V:()=>r,Bw:()=>c,dR:()=>i,eO:()=>o,se:()=>s,w1:()=>l,ys:()=>n});const r=e=>"data"in e&&Object.keys(e.data).length>0,n=e=>"concerts"in(e??{}),s=e=>null!=e,i=e=>"__typename"in e&&"AllEvents"===e.__typename,o=e=>"__typename"in e,c=e=>!!e&&"sections"in e,l=e=>"__typename"in e},6005:(e,t,a)=>{a.r(t),a.d(t,{default:()=>qt});var r=a(77),n=a(15231),s=a(3561),i=a(59677),o=a(41331),c=a(980),l=a(62462),d=a(13796),m=a(59092),u=a(16373),h=a(99168),g=a(90436),x=a(27275),v=a(7029),p=a(30758),f=a(11877),j=a(66475),y=a(96771),C=a(42838),N=a(91360),_=a(77957),b=a(82606),S=a(4139);const k="m8qhw073nx4vyHqaKQNk",R="ynP6muypg8KBMGNcHY5O",D="oDWtgFmvo78XypRSXSZE",w="XWKf1nJGSBaIxrSQhIft",I="nodWKfeO11pb9KDWwHMz",M="oFT4l9ImW_EmgL7n4Gpw";var E=a(86070);const T=(0,p.memo)((e=>{const{location:t,showTime:a,ageRestriction:r,htmlDescription:s,doorsOpenTime:i,spec:c}=e,l=(0,S.s)(),d=t.metroAreaLocation?(0,_.nm)(t.metroAreaLocation?.geonameId,t.metroAreaLocation?.fullName):null;return(0,E.jsxs)("div",{className:k,children:[s?.trim()&&(0,E.jsxs)("div",{className:R,children:[(0,E.jsx)(n.E,{as:"h3",variant:"titleSmall",className:D,children:o.Ru.get("artist.about")}),(0,E.jsx)(C.q,{html:s,onTimeStampClick:()=>{}})]}),(0,E.jsxs)("div",{className:R,children:[(0,E.jsx)(n.E,{as:"h3",variant:"titleSmall",className:D,children:o.Ru.get("tracklist.header.venue")}),(0,E.jsxs)("div",{className:M,children:[(0,E.jsx)(f.t,{className:w}),(0,E.jsxs)("div",{children:[(0,E.jsx)(n.E,{as:"h4",variant:"bodyMediumBold",className:I,children:t.name}),(0,E.jsx)(n.E,{as:"p",variant:"bodyMedium",children:(0,b.im)({...t,name:""})})]})]}),(0,E.jsxs)("div",{className:M,children:[(0,E.jsx)(j.p,{className:w}),(0,E.jsxs)("div",{children:[(0,E.jsxs)(n.E,{as:"h4",variant:"bodyMediumBold",className:I,children:[i&&o.Ru.get("concert.door_time",o.Ru.formatDate(i,{timeStyle:"short"})),i&&" • ",o.Ru.get("concert.show_time",o.Ru.formatDate(a,{timeStyle:"short"}))]}),r?.trim()&&(0,E.jsx)(n.E,{as:"p",variant:"bodyMedium",children:r})]})]}),d&&(0,E.jsxs)("div",{className:M,children:[(0,E.jsx)(y.T,{className:w}),(0,E.jsx)(N.N,{to:d,onClick:()=>(e=>{const t=c.concertLocationLinkFactory().hitUiNavigate({destination:e});l.logInteraction(t)})(d),children:(0,E.jsx)(n.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:o.Ru.get("concert.see_more_events_in_location",t.metroAreaLocation?.fullName)})})]})]})]})}));var L=a(39503),A=a(14392),F=a(31352),U=a(4924),B=a(99707),P=a(83307),z=a(65676),q=a(78330),Z=a(2772);const $=p.memo((function({uri:e}){const{spec:t}=(0,Z.o)(e);return(0,E.jsx)(q.pZ,{value:"concert",children:(0,E.jsxs)(U.W,{children:[(0,E.jsx)(z.h,{children:(0,E.jsx)(B.m,{spec:t,uri:e,displayText:o.Ru.get("context-menu.copy-concert-link")})}),(0,E.jsx)(P.q,{spec:t,uri:e})]})})}));var V=a(89531),K=a(81626),H=a(94816),O=a(27046),W=a(92389),Q=a(98046),Y=a(20769),X=a(52891),G=a(26205);const J="JRuVlk6wpKk6ok7zuW6l",ee="YpfopxY2udneDY34uzRN",te="KI_0F1jtTR5tWgl7gZ1E",ae="gKtc3TdowDTXBaVESi1D",re="V8TIr8yJq4tYZfPEzm12",ne="rWFRSaU8daVvtbWEjvp7",se="VvL91cIRcCi1hJh0K845",ie="LdW0YNvo_Y77hgqhL4zY",oe="cTkykhjfHxkEGKbxSxXw",ce="MaK8gvvxEqNafaMwXWWM",le="XgeTnLs82tTjczDR6oKn",de="P3fE7wn6Tqnibn3gljKV",me="b3qjYcKXwrvfkQkOLMhZ",ue="A8LG_5Dvp7IiXDtdR571",he="O0PSSw8ttrMn9lzq_L16",ge="D_ffrfn62aOgZKOFfZVr",xe="OH4mOZCual2ejIodzIkL",ve="se_ixDV6hBf7lve861oU",pe="YDAJHPP5lDmg71SdvJZC",fe="lKQxSRsi8KcoYx5D7mjh",je="LUMel_X4gQK0J1i6X0sC",ye="eIA_y6wnyKS7F4BkMraV",Ce="CKbduoHBINBakBcguVzi",Ne="oCmeNmHdfNzMD6n4mSqw",_e="l6M4kfGer7xxBaIPco5p",be="r5hQwOq0RGo1ptvIthJ0",Se="HRKlEfCQE6VjdRRg0NRf",ke="YDoK0ksaHmDfScvMhW4l",Re="ATEdvw7q5RVFqV_7k5xm",De="UHICx5Pfx66QaNrl4qIZ",we="G3mQO0982j3xeMZSBLbU",Ie=(e,t)=>e(W.d,{concertUri:t}),Me=(e,t)=>e(Q.$,{concertUri:t}),Ee=(0,p.memo)((e=>{const[t,a]=(0,p.useState)(!1),{concertUri:r,entitySpec:n}=e,s=(0,p.useMemo)((()=>n?.interestedButtonFactory()),[n]),{getGraphQLLoader:i}=(0,Y.mv)(),c=i(),{addConcertToLibraryMutation:l=Ie,removeConcertFromLibraryMutation:d=Me}=e,m=(0,G.t)(s),u=(0,S.s)(),{enqueueSnackbar:h}=(0,X.d)();return(0,E.jsx)(O.Zp,{label:o.Ru.get("concerts_interested_tooltip"),placement:"top-end",children:(0,E.jsx)(V.n,{ref:m,size:"small",iconLeading:e.saved?K.i:H.u,className:je,"aria-checked":e.saved,disabled:t,onClick:async()=>{a(!0);try{if(e.saved){const t=s?.hitRemoveInterest();t&&u.logInteraction(t),await d(c,r),await e.onSaveConcert(),h(o.Ru.get("concerts_removed-from-your-saved-events"))}else{const t=s?.hitAddInterest();t&&u.logInteraction(t),await l(c,r),await e.onSaveConcert(),h(o.Ru.get("concerts_added-to-your-saved-events"))}}finally{a(!1)}},children:o.Ru.get("concerts_interested")})})}));var Te=a(74946),Le=a(69170);var Ae=a(71963),Fe=a(74554),Ue=a(31385),Be=a(45237),Pe=a(76355);const ze="m8nwW8kkQCgKh2Wo82Qw",qe="xiSw7Lh5ojpJOB4JogfW",Ze="HGzguF7WF1y4htrRTgR9",$e="JtOivQIBj0bdIftkeZ2u",Ve=e=>(0,E.jsx)(Pe.A,{contentLabel:o.Ru.get("concerts.no_codes_title"),isOpen:!0,className:ze,onRequestClose:e.onClose,children:(0,E.jsxs)("section",{className:Ze,children:[(0,E.jsx)("div",{className:qe,children:(0,E.jsx)(Ke,{"aria-label":o.Ru.get("close"),iconOnly:Fe.M,size:"small",onClick:e.onClose})}),(0,E.jsxs)("div",{children:[(0,E.jsx)(n.E,{variant:"titleSmall",semanticColor:"textBase",children:o.Ru.get("concerts.no_codes_title")}),(0,E.jsx)("div",{children:(0,E.jsx)(n.E,{children:o.Ru.get("concerts.no_codes_message")})}),(0,E.jsx)("div",{className:$e,children:(0,E.jsx)(Te.$,{href:e.url,target:"_blank",iconTrailing:Ue.H,children:o.Ru.get("concerts.event.view")})})]})]})});var Ke=(0,Ae.Ay)(Be.H).withConfig({displayName:"PresaleNoCodesModal___StyledButtonTertiary",componentId:"sc-1yajat8-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"}),He=a(96266);const Oe=new He.l("requestPromoCode","mutation","e90e712768b6041ed97f49184289f5fe0d8841134dd715f1f79c704994cd0ac7",null),We=(e,t)=>e&&e(Oe,{accessCode:t}),Qe=e=>{const[t,a]=(0,p.useState)(!1),[r,n]=(0,p.useState)(!1),{requestPromoCode:s=We}=e,{getGraphQLLoader:i}=(0,Y.mv)(),c=i();return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Te.$,{className:ye,size:"small",onClick:async()=>{a(!0);try{const i=await s(c,e.accessCode);r=i?.data?.requestEventOfferPromoCode,void 0!==r&&"code"in r&&e.onComplete(i.data.requestEventOfferPromoCode.code),t=i?.data?.requestEventOfferPromoCode,void 0!==t&&"message"in t&&n(!0),a(!1)}catch{n(!0),a(!1)}var t,r},children:t?(0,E.jsx)(Le.U,{}):o.Ru.get("concerts.get_access")}),r&&(0,E.jsx)(Ve,{onClose:()=>n(!1),url:e.url})]})};var Ye=a(58708),Xe=a(45292),Ge=a(5248),Je=a(65968),et=a(61903);const tt=(0,p.lazy)((()=>a.e(353).then(a.bind(a,50353)))),at=(0,p.memo)((e=>{const[t,a]=(0,p.useState)(""),{concertUri:r,offer:s,position:i,spec:c}=e,l=s.soldOut,d="Spotify"===s.providerName,m=s.url,u=(0,S.s)(),h=(0,Xe.W)(),g=(0,p.useMemo)((()=>c.ticketProviderCellFactory({identifier:s.providerName,position:i,uri:s.url})),[c,s.providerName,i,s.url]),x=(0,G.t)(g),v=()=>{const e=g.hitNavigateToExternalUri({destination:s.url});e&&u.logInteraction(e),h({targetUri:r,intent:"find-concert",type:"click"})},f=(0,p.useMemo)((()=>{if(l)return(0,E.jsx)(n.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:be,children:o.Ru.get("concerts.soldout")});if(s.urlType===et.I2.EventPage)return null;const e={"on-sale":o.Ru.get("concerts.on_sale"),presale:o.Ru.get("concerts.presale")};return(0,E.jsxs)(E.Fragment,{children:[e[s.saleType]&&(0,E.jsx)(n.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ne,children:e[s.saleType]}),d&&s.minPrice&&(0,E.jsx)(n.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ce,children:o.Ru.get("concerts.ticket_price",s.minPrice)})]})}),[l,s.urlType,s.saleType,s.minPrice,d]),j=(0,p.useMemo)((()=>s.urlType===et.I2.EventPage||l||"presale"===s.saleType&&(0,Ye.m7)(s.dates.endDateIsoString)?(0,E.jsx)(Te.$,{className:ye,iconTrailing:Ge.p,size:"small",children:o.Ru.get("concerts.event.view")}):"presale"===s.saleType&&s.accessCode?(0,E.jsx)(Qe,{onComplete:e=>a(e),accessCode:s.accessCode,url:s.url}):(0,E.jsx)(Te.$,{className:ye,iconTrailing:Ge.p,size:"small",children:d?o.Ru.get("concert_buy_tickets"):o.Ru.get("concert_find_tickets")})),[d,l,s.accessCode,s.dates.endDateIsoString,s.saleType,s.url,s.urlType]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("a",{href:m,className:le,target:"_blank",ref:x,onClick:e=>{"presale"!==s.saleType||(0,Ye.m7)(s.dates.endDateIsoString)?v():e.preventDefault()},children:[(0,E.jsx)("div",{className:de,children:(0,E.jsx)(Je._,{loading:"eager",src:s.providerImageUrl,height:"100%",width:"100%",className:me,children:(0,E.jsx)(y.T,{className:ue,size:"medium"})})}),(0,E.jsxs)("div",{className:he,children:[(0,E.jsxs)("div",{dir:"auto",className:_e,children:[f,(0,E.jsx)(n.E,{as:"p",semanticColor:"textSubdued",children:s.providerName})]}),j]})]}),t&&(0,E.jsx)(tt,{title:s.providerName,url:m,dates:{start:s.dates.startDateIsoString,end:s.dates.endDateIsoString},code:t,onClick:v,onClose:()=>a("")})]})})),rt=(0,p.memo)((e=>{const{concertUri:t,offers:a,entitySpec:r}=e,s=(0,p.useMemo)((()=>r.ticketProviderListFactory()),[r]),i=(0,G.t)(s),c=!!a.find((e=>e.urlType===et.I2.TicketPage));return(0,E.jsxs)(E.Fragment,{children:[c&&(0,E.jsx)(n.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert.header.tickets_available_on")}),(0,E.jsx)("div",{ref:i,className:oe,children:a.map(((e,a)=>(0,E.jsx)(at,{concertUri:t,offer:e,position:a,onRemindMe:()=>{},spec:s},e.url)))}),(0,E.jsx)(n.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:ce,children:o.Ru.get("events_page.disclaimer")})]})}));var nt=a(39733),st=a(19019);const it=e=>{const{locationName:t,latitude:a,longitude:r,onClick:s}=e,i=new URL("https://maps.google.com/");return i.searchParams.set("q",t),a&&r&&i.searchParams.set("ll",`${a},${r}`),(0,E.jsx)("a",{href:i.href,target:"_blank",onClick:()=>s?.(i.href),children:(0,E.jsx)(n.E,{as:"h3",variant:"titleSmall",children:t})})},ot=(0,p.memo)((e=>{if((0,nt.NC)(st.DKh)&&((t=e.venue)&&Object.keys(t.data).includes("uri"))){const t=e.venue.data.uri;return(0,E.jsx)(N.N,{to:t,onClick:()=>e.onClick?.(t),children:(0,E.jsx)(n.E,{as:"h3",variant:"titleSmall",children:e.locationName})})}var t;return(0,E.jsx)(it,{...e})}));var ct=a(45866);const lt=(0,p.memo)((e=>{const{concert:t,entitySpec:a}=e,r=(0,S.s)(),s=(0,ct.V)(),i=(0,Ye.l4)(t.startDateIsoString);if((0,Ye.m7)(t.startDateIsoString))return(0,E.jsxs)("div",{className:ie,children:[(0,E.jsx)(n.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert_event_ended")}),(0,E.jsx)(n.E,{variant:"bodyMedium",children:(0,E.jsx)(N.N,{to:"spotify:concerts",children:o.Ru.get("concert_past_message")})})]});return(0,E.jsxs)("div",{className:ie,children:[(0,E.jsx)(n.E,{as:"h3",variant:"titleSmall",className:Se,children:(0,E.jsx)(ot,{venue:t.venue,locationName:(0,b.im)(t.location),latitude:t.location.coordinates?.latitude,longitude:t.location.coordinates?.longitude})}),(0,E.jsx)(n.E,{as:"h3",variant:"bodySmall",className:pe,children:[(0,Ye.Y)(i),(0,Ye.WB)(i)].join(" • ")}),(0,E.jsxs)("div",{className:J,children:[!s&&(0,E.jsx)(Ee,{concertUri:t.uri,entitySpec:a,saved:t.saved,onSaveConcert:e.onSaveConcert}),(0,E.jsx)(A.w,{uri:t.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{const e=a.shareEventButtonFactory({uri:t.uri}).hitShare({entityToBeShared:t.uri,shareId:t.uri});e&&r.logInteraction(e)},className:ke,ariaLabel:o.Ru.get("concerts_share_with_friends")}),(0,E.jsx)(F.b,{menu:(0,E.jsx)($,{uri:t.uri}),onShow:()=>{const e=a.contextMenuButtonFactory().hitUiReveal();e&&r.logInteraction(e)},children:(0,E.jsx)(L.e,{size:"large"})})]}),(0,E.jsx)(rt,{concertUri:t.uri,offers:t.offers.items,entitySpec:a})]})}));var dt=a(8241),mt=a(40815),ut=a(60122),ht=a(97335);const gt="Dry_NQGsDIHDZtrVXCkm",xt="afT9IeZ3a3xSlKP0pSJH",vt="cBs7zoipfqjsCHbDjY_p",pt="wDz6TsRKNxwV4mlO1EMX",ft="tICcDjrC0CkSMO2fZZNy",jt="uZhL8I5r7TVs9mrdSchW",yt="B7ChxzxV0z17kJj9aZSD",Ct=(0,p.memo)((e=>{const{imageUri:t,name:a,uri:r,headliner:s,onClick:i}=e,c=(0,E.jsxs)(N.N,{to:r,className:xt,onClick:i,children:[t?(0,E.jsx)(ht.b,{children:(0,E.jsx)("div",{"data-testid":"image-container",className:yt,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${t})`}})}):null,(0,E.jsxs)("div",{className:vt,children:[s&&(0,E.jsx)("div",{className:ft,children:(0,E.jsx)(n.E,{as:"h4",variant:"bodySmallBold",className:jt,children:o.Ru.get("concert.label.headliner")})}),(0,E.jsx)(n.E,{as:"h2",variant:"titleMedium",className:pt,children:a})]})]});return(0,E.jsx)("div",{className:gt,children:c})})),Nt=Ct;var _t=a(77674);const bt=(e,t)=>new Date(e.date.isoString).getTime()-new Date(t.date.isoString).getTime(),St=({artist:e,spec:t})=>{const a=(0,S.s)(),r=e.goods.events.concerts.items.filter((e=>e.nearUser)).sort(bt).shift(),n=r&&(e=>{const t=o.Ru.formatDate((0,Ye.l4)(e?.date.isoString),{day:"numeric",month:"short"});return e.venue.location?.name?`${t}, ${e.venue.location.name}`:t})(r),s=e.goods.events.userLocation?.name,i=`${e.uri}:concerts`;return(0,E.jsxs)("div",{className:De,children:[r&&s&&(0,E.jsxs)("div",{className:we,children:[(0,E.jsx)(_t.Z,{children:o.Ru.get("concerts.next_concert_near_location_colon",s)}),(0,E.jsx)(N.N,{to:r.uri,onClick:()=>(e=>{const r=t.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e});a.logInteraction(r)})(r.uri),children:(0,E.jsx)(_t.Z,{semanticColor:"textSubdued",children:n})})]}),(0,E.jsxs)("div",{className:we,children:[(0,E.jsx)(_t.Z,{children:o.Ru.get("concerts.on_tour_colon")}),(0,E.jsx)(N.N,{to:i,onClick:()=>{const e=t.artistEventsLinkFactory({uri:i}).hitUiNavigate({destination:i});a.logInteraction(e)},children:(0,E.jsx)(_t.Z,{semanticColor:"textSubdued",children:o.Ru.get("concerts.view_all_upcoming_concerts_count",e.goods.events.concerts.totalCount)})})]})]})},kt=(0,p.memo)((e=>{const{artist:t,position:a,lineupSpec:r}=e,n=(0,p.useMemo)((()=>r.artistRowFactory({position:a,uri:t.uri})),[r,a,t.uri]),s=(0,S.s)(),i=t.relatedContent.featuringV2.items.flatMap((e=>{const{data:t}=e;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),c=t.discography.popularReleasesAlbums.items,l=t.visuals.avatarImage?.sources?.[0],d=(0,E.jsx)(Nt,{uri:t.uri,name:t.profile.name,imageUri:l?.url,headliner:0===a,onClick:()=>{const e=n?.artistCardFactory().hitUiNavigate({destination:t.uri});e&&s.logInteraction(e)}},t.uri),m=i.map(((e,t)=>{const a="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,E.jsx)(mt.B,{index:t,uri:e.uri,name:e.name,images:e.images.items[0]?.sources,description:e.description||"",authorName:a},e.uri)})),u=c.map(((e,t)=>{const a=e.artists.items.map((e=>({uri:e.uri,name:e.profile.name})));return(0,E.jsx)(dt.a,{uri:e.uri,index:t,artists:a,images:e.coverArt?.sources||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,E.jsxs)(q.pZ,{value:"headered-grid",index:a,children:[(0,E.jsx)(ut.$,{title:0===a?o.Ru.get("concert.lineup"):"",total:2+m.length+u.length,seeAllUri:t.uri,seeAllLabel:o.Ru.get("view.see-all"),onClickShelfSeeAll:()=>{const e=n?.seeDiscographyLinkFactory().hitUiNavigate({destination:t.uri});e&&s.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[d,null,...m,...u],className:Re}),(0,E.jsx)(St,{artist:t,spec:n})]},t.uri)})),Rt=(0,p.memo)((e=>{const{artists:t,entitySpec:a}=e,r=(0,p.useMemo)((()=>a.lineupArtistsFactory()),[a]),n=(0,G.t)(r);return(0,E.jsx)("div",{ref:n,className:ge,children:t.flatMap(((e,t)=>{if("Artist"!==e.data.__typename)return[];const a=e.data;return[(0,E.jsx)(kt,{artist:a,position:t,lineupSpec:r},a.uri)]}))})}));var Dt=a(49867);const wt="r4YSqQ00n2_0i2tWtlPj",It="yEpakiIFqVrPYCcY_UcX",Mt="TIxb8ebn0Jes35eTIcCQ",Et=(0,p.memo)((e=>(0,E.jsxs)(N.N,{to:"spotify:concerts",className:wt,onClick:e.onClick,children:[(0,E.jsx)(ht.b,{children:(0,E.jsx)("div",{className:Mt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,E.jsx)("div",{className:It,children:(0,E.jsx)(n.E,{as:"h2",variant:"titleSmall",children:o.Ru.get("concerts_browse_more")})})]}))),Tt=(0,p.memo)((e=>{const{concert:t,position:a,recommendedSpec:r}=e,n=(0,S.s)(),s=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),i=s.map((e=>e.profile.name)),o=(0,b.tI)(t.title,t.festival,i)?t.title:(0,b.Ac)(i),c=s[0]?.visuals.avatarImage?.sources[0];return(0,E.jsx)(Dt.A,{uri:t.uri,title:o,date:t.startDateIsoString,subTitle:(0,b.im)(t.location),imageUrl:c?.url,firstParty:t.firstParty,onClick:()=>{const e=r?.concertCardFactory({position:a,uri:t.uri}).hitUiNavigate({destination:t.uri});e&&n.logInteraction(e)}})})),Lt=(0,p.memo)((e=>{const{relatedConcerts:t,entitySpec:a}=e,r=(0,p.useMemo)((()=>a.recommendedConcertsFactory()),[a]),n=(0,S.s)(),s=(0,G.t)(r),i=t.items.flatMap((e=>"ConcertV2"===e.data.__typename?[e.data]:[]));if(0===i.length)return null;return(0,E.jsx)("div",{ref:s,className:ve,"data-testid":"concert-recommendations",children:(0,E.jsx)(q.pZ,{value:"headered-grid",children:(0,E.jsxs)(ut.$,{title:o.Ru.get("concert.similar_events"),total:t.totalCount,className:fe,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:o.Ru.get("view.see-all"),withEncoreCards:!1,children:[(0,E.jsx)(Et,{onClick:()=>{const e=r?.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&n.logInteraction(e)}},"browse"),i.map(((e,t)=>(0,E.jsx)(Tt,{position:t,concert:e,recommendedSpec:r},e.uri)))]})})})}));var At=a(61869);const Ft=new He.l("concert","query","52470cde70b165f7dbf74fa9bcdff4eeee7e7eddadfe12bde54a25ef844abb38",null);var Ut=a(35369),Bt=a(64345),Pt=a(78487);const zt=e=>{const{concert:t}=e,{spec:a}=(0,Pt.r)(s.b,{data:{identifier:(0,i.o_)(t.uri)?.id,uri:t.uri}}),r=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),o=r[0].visuals.headerImage;(0,Ut.z)(o?.extractedColors?.colorDark.hex);const v=r.map((e=>e.profile.name)),p=(0,b.tI)(t.title,t.festival,v)?t.title:(0,b.re)(v),f=(0,Ye.l4)(t.startDateIsoString);return(0,E.jsxs)("section",{className:re,children:[(0,E.jsx)(l.Q,{children:(0,Bt.K9)(t.title,t.location.city,t.location.name)}),(0,E.jsxs)(m.z,{backgroundImages:o?.sources,children:[(0,E.jsxs)(u.Y,{children:[(0,E.jsx)(d.Z,{children:(0,E.jsx)("div",{className:ee,children:(0,E.jsx)(n.E,{as:"h3",variant:"titleSmall",className:te,children:(0,Ye.Fn)(f)})})}),(0,E.jsx)(x.mm,{className:ne,children:p})]}),(0,E.jsx)(h.h,{children:(0,E.jsx)("div",{className:xe,children:(0,E.jsx)(g.X,{text:p})})})]}),(0,E.jsxs)("div",{className:ae,children:[(0,E.jsx)(c.K,{backgroundColor:o?.extractedColors?.colorDark.hex}),(0,E.jsxs)("div",{className:se,children:[(0,E.jsx)(lt,{concert:t,entitySpec:a,onSaveConcert:e.onSaveConcert}),(0,E.jsx)(Rt,{artists:t.artists.items,entitySpec:a}),(0,E.jsx)(T,{location:t.location,showTime:f,htmlDescription:t.htmlDescription,ageRestriction:t.ageRestriction,doorsOpenTime:t.doorsOpenTimeIsoString?(0,Ye.l4)(t.doorsOpenTimeIsoString):null,spec:a}),(0,E.jsx)(Lt,{relatedConcerts:t.relatedConcerts,entitySpec:a})]})]})]})},qt=()=>{const{concertId:e}=(0,r.g)(),t=`spotify:concert:${e}`,{loading:a,error:n,data:s,invalidate:i}=(c={uri:t},(0,At.I)(Ft,c,l));var c,l;return a?(0,E.jsx)(v.LoadingPage,{hasError:!1,errorMessage:""}):n||"ConcertV2"!==s?.concert.__typename?(0,E.jsx)(v.LoadingPage,{hasError:!0,errorMessage:o.Ru.get("concert.error.concert_not_found_title")}):(0,E.jsx)(zt,{concert:s.concert,onSaveConcert:i})}},58708:(e,t,a)=>{a.d(t,{Fn:()=>u,MW:()=>h,Py:()=>d,VJ:()=>m,Vi:()=>p,WB:()=>g,WZ:()=>x,Y:()=>o,dp:()=>c,l4:()=>i,m7:()=>v,tX:()=>j,tj:()=>l});var r=a(12058),n=a(41331),s=a(12692);const i=e=>new Date(e.substring(0,16)),o=e=>n.Ru.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),c=e=>n.Ru.formatDate(e,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),l=e=>n.Ru.formatDate(e,{month:"short"}),d=e=>n.Ru.formatDate(e,{day:"numeric"}),m=e=>n.Ru.formatDate(e,{weekday:"short"}),u=e=>n.Ru.formatDate(e,{month:"short",day:"numeric"}),h=e=>n.Ru.formatDate(e,{weekday:"short",hour:"numeric",minute:"numeric"}),g=e=>n.Ru.formatDate(e,{hour:"numeric",minute:"numeric"}),x=(e,t)=>{if(e.toDateString()===t.toDateString())return o(e);if(e.getMonth()===t.getMonth()){return`${n.Ru.formatDate(e,{day:"numeric",month:"short"})}–${n.Ru.formatDate(t,{day:"numeric"})}`}return`${n.Ru.formatDate(e,{day:"numeric",month:"short"})}–${n.Ru.formatDate(t,{day:"numeric",month:"short"})}`},v=e=>{if(!e)return!1;const t=new Date(e);return new Date>t},p=e=>{const[t]=e,a=e[e.length-1];return(0,s.$V)(t)&&(0,s.$V)(a)?{startDate:i(t.data.startDateIsoString),endDate:i(a.data.startDateIsoString)}:{startDate:new Date,endDate:new Date}},f={month:"short",day:"numeric"},j=e=>{if((0,r.r)(e.from,e.to))return n.Ru.formatDate(e.from,f);return`${n.Ru.formatDate(e.from,f)} - ${n.Ru.formatDate(e.to,f)}`}},82606:(e,t,a)=>{a.d(t,{Ac:()=>i,a9:()=>o,i3:()=>d,im:()=>l,re:()=>c,tI:()=>n});var r=a(41331);const n=(e,t,a)=>!!e&&(t||!a.length),s=e=>e.artists.map((e=>e.name)),i=e=>1===e.length?r.Ru.get("concert.header.upcoming_concert_title_1",...e):2===e.length?r.Ru.get("concert.header.upcoming_concert_title_2",...e):3===e.length?r.Ru.get("concert.header.upcoming_concert_title_3",...e):4===e.length?r.Ru.get("concert.header.upcoming_concert_title_4",...e):e.length>4?r.Ru.get("concert.header.upcoming_concert_title_more",...e):"",o=e=>{const t=s(e);return n(e.title,e.festival,t)?e.title:i(t)},c=e=>1===e.length?r.Ru.get("concert.header.entity_title_1",...e):2===e.length?r.Ru.get("concert.header.entity_title_2",...e):3===e.length?r.Ru.get("concert.header.entity_title_3",...e):4===e.length?r.Ru.get("concert.header.entity_title_4",...e):e.length>4?r.Ru.get("concert.header.entity_title_more",...e):"",l=({name:e,city:t,region:a,country:n})=>[e,t,a,n].filter((e=>!!e&&"unknown"!==e.toLowerCase())).join(r.Ru.getSeparator()),d=e=>{if(!e.artists||0===e.artists.items.length)return e.title;if(e.festival)return e.title;const t=e.artists.items.map((e=>e.profile.name));return c(t)}},35369:(e,t,a)=>{a.d(t,{f:()=>o,z:()=>i});var r=a(30758),n=a(13390),s=a(53945);function i(e,t=n.l0o){const a=(0,s.as)();return(0,r.useEffect)((()=>(e&&a((0,s.Mo)(e)),()=>{a((0,s.Hf)())})),[e,a]),e||t}const o=({color:e,fallbackColor:t})=>(i(e,t),null)},64345:(e,t,a)=>{a.d(t,{gq:()=>s,K9:()=>n,zV:()=>i});var r=a(41331);const n=(e,t,a)=>e?r.Ru.get("concert.entity_metadata.title",e,t,a):"",s=e=>{if(!e)return"";return`${e} Tickets - ${(new Date).getFullYear()} Concert Tour Dates | Spotify`},i=e=>`Concert Tickets & Tour Dates for you${e?` in ${e}`:""} | Spotify`},42419:(e,t,a)=>{a.d(t,{A:()=>r});const r={Heading:"playlist-playlist-heading",HTMLDescription:"playlist-playlist-playlistDescription",List:"playlist-playlist-list",ListItem:"playlist-playlist-listItem",Paragraph:"playlist-playlist-paragraph"}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map