"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{50597:(e,i,t)=>{t.d(i,{g:()=>y});var s=t(30758),r=t(97500),n=t.n(r),a=t(15231),l=t(59677),c=t(93720),d=t(99870),o=t(33e3),u=t(27046),m=t(91360),x=t(68031),h=t(4139),j=t(63089),p=t(86070);const y=({children:e,uri:i,name:t,nonInteractive:r=!1,creatorUri:y,spec:g})=>{let v=null;const{draggable:f,onDragStart:b}=(0,x.P)({itemUris:[i],dragLabelText:t}),k=(0,h.s)(),E=(0,s.useCallback)((()=>{g&&k.logInteraction(g.albumLinkFactory({uri:i}).hitUiNavigate({destination:i}))}),[k,g,i]);return r?(0,p.jsx)("span",{className:n()("standalone-ellipsis-one-line",j.A.text),children:e}):((0,l._T)(i)&&(v=(0,p.jsx)(d.h,{uri:i,artistUri:y})),(0,l.WB)(i)&&(v=(0,p.jsx)(o.H,{uri:i})),(0,p.jsx)(c.h,{menu:v,children:(0,p.jsx)(a.E,{variant:"bodySmall",children:(0,p.jsx)(u.Zp,{label:t,showDelay:u.uF,children:(0,p.jsx)(m.N,{draggable:f,onDragStart:b,className:n()("standalone-ellipsis-one-line"),to:i,dir:"auto",onClick:E,children:e})})})}))}},63605:(e,i,t)=>{t.d(i,{H:()=>c});var s=t(65777),r=t(15231),n=t(41331),a=t(81504),l=t(86070);const c=()=>(0,l.jsxs)("div",{className:a.A.emptyContainer,children:[(0,l.jsx)(s.q,{size:"xxlarge","aria-hidden":"true"}),(0,l.jsxs)("div",{className:a.A.titleContainer,children:[(0,l.jsx)(r.E,{as:"h1",variant:"titleMedium",semanticColor:"textBase",children:n.Ru.get("history.empty-title")}),(0,l.jsx)("p",{children:n.Ru.get("history.empty-description")})]})]})},88596:(e,i,t)=>{t.d(i,{U:()=>B});var s=t(41331),r=t(30758),n=t(97500),a=t.n(n),l=t(77),c=t(15231),d=t(57485),o=t(5562),u=t(33130),m=t(83802),x=t(4924),h=t(99186);const j="main-topBar-contentArea",p="queue-tabBar-headerIsCentered",y="queue-tabBar-headerItem",g="queue-tabBar-moreButton",v="queue-tabBar-moreButtonActive",f="yxf_6IsQEmHjijEBUMTP",b="queue-tabBar-active",k="queue-tabBar-headerItemLink",E="queue-tabBar-header",C="queue-tabBar-chevron";var A=t(86070);const R=({items:e,activeItemId:i})=>(0,A.jsx)(x.W,{children:e.map((e=>e.disabled?(0,A.jsx)(h.D,{disabled:!0,role:"menuitemradio",className:f,onClick:e.handleClick,children:e.title},e.uri):(0,A.jsx)(h.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>a()(f,{[b]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var I=t(11892),N=t(70329),P=t(10259);const w=(0,r.memo)((function({isCentered:e,links:i,landmarkLabel:t,className:n}){const x=(0,r.useRef)(null),[h,f]=(0,r.useState)([]),[w,U]=(0,r.useState)(0),[T,S]=(0,r.useState)([]),O=function(){const[e,i]=(0,r.useState)(window.innerWidth),{scrollNodeChildRef:t}=(0,r.useContext)(N.bi),s=(0,I.YQ)((e=>{e?.width&&i(e.width)}),250);return(0,P.w)({refOrElement:t,observeOnly:"width",onResize:s}),e}()??1/0,{pathname:B}=(0,l.zy)(),_=i.find((e=>e.to===B));return(0,r.useEffect)((()=>{x.current&&U(x.current.clientWidth)}),[O]),(0,r.useEffect)((()=>{if(!x.current)return;const e=Array.from(x.current.children).map((e=>e.clientWidth));f(e)}),[i]),(0,r.useEffect)((()=>{if(!x.current)return;if(h.slice(0,-1).reduce(((e,i)=>e+i),0)<=w)return void S([]);const e=h.reduce(((e,i)=>e>i?e:i),0),i=[];let t=e;h.forEach(((e,s)=>{w>=t+e?t+=e:i.push(s)})),S(i)}),[w,h]),(0,A.jsx)("nav",{className:a()(n,j),"aria-label":t,children:(0,A.jsxs)("ul",{className:e?p:E,ref:x,children:[i.filter(((e,i)=>!T.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,A.jsx)(r.Fragment,{children:i((0,A.jsx)("li",{className:y,children:e.disabled?(0,A.jsx)("div",{className:k,children:(0,A.jsx)(c.E,{variant:"bodySmallBold",children:e.title})}):(0,A.jsx)(m.k,{end:!0,className:({isActive:e})=>a()(k,{[b]:e}),to:e.to,onClick:e.handleClick,children:(0,A.jsx)(c.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),T.length||0===h.length?(0,A.jsx)("li",{className:y,children:(0,A.jsx)(u.t,{renderInline:!0,menu:(0,A.jsx)(R,{items:i.filter(((e,i)=>T.includes(i))),activeItemId:_?.itemId}),children:(e,i,t)=>(0,A.jsxs)("button",{className:a()(g,{[v]:_}),type:"button",onClick:i,ref:t,children:[(0,A.jsx)(c.E,{variant:"bodySmallBold",children:_?_.title:s.Ru.get("more")}),e?(0,A.jsx)(d.J,{size:"small",className:C,"aria-hidden":"true"}):(0,A.jsx)(o.y,{size:"small",className:C,"aria-hidden":"true"})]})})}):null]})})}));var U=t(62963);const T="XfifUos51Clgs5a6nf2m",S=()=>{const e=[{title:s.Ru.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue"},{title:s.Ru.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}];return(0,A.jsx)(U.g,{children:(0,A.jsx)(w,{className:T,links:e})})};var O=t(92909);const B=({children:e})=>{const i=(0,O.y)();return(0,A.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,A.jsx)(S,{})]})}},79331:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ne});var s=t(91341),r=t(15231),n=t(41331),a=t(63605),l=t(30758),c=t(12737),d=t(20507),o=t(76276),u=t(59677),m=t(93720),x=t(35658),h=t(12953),j=t(89162),p=t(36450),y=t(50597),g=t(57103),v=t(73689),f=t(69197),b=t(45849),k=t(65647),E=t(62385),C=t(33589),A=t(23885),R=t(31845),I=t(78089),N=t(77131),P=t(68732),w=t(3068),U=t(8398),T=t(68702),S=t(30023),O=t(44817),B=t(98913),_=t(78330),D=t(65312),L=t(98882),q=t(86317),M=t(42668),F=t(63089),G=t(86070);const H=l.memo((function({uri:e,name:i,duration_ms:t,index:s,imgUrl:r,artists:a,album:l,isExplicit:c,isMOGEFRestricted:d,contextItem:o,type:H}){const{isActive:K,isPlaying:Q,triggerPlay:W,togglePlay:z}=(0,L.P)({uri:e,pages:[{items:[{...o}]}]},{featureIdentifier:"history"}),J=H===q.c.TRACK,X=H===q.c.EPISODE,Z=H===q.c.CHAPTER,V=(0,D.T)(e),{isPlayable:Y,isAnyArtistBanned:$}=(0,T.g)(e,{isPlayable:!0,isLocal:(0,u.Pk)(e),isOutOfMarket:!1,artistUris:a?.map((e=>e.uri))}),{unBanArtists:ee}=(0,U.M)(a.map((e=>e.uri))),{badges:ie,hasBadges:te}=(0,M.b)({downloadAvailability:V,isExplicit:c,isMOGEFRestricted:d}),se=a?.map((e=>e.name)).join(n.Ru.getSeparator())||"";let re;return X?re=(0,G.jsx)(h.b,{uri:e,contextUri:e,showUri:l.uri}):Z?re=(0,G.jsx)(x.r,{uri:e}):J&&(0,u.Pk)(e)?re=(0,G.jsx)(j.A,{uri:e,contextUri:e}):J&&(re=(0,G.jsx)(p.P,{uri:e,contextUri:e,albumUri:l.uri,artists:a})),(0,G.jsx)(_.pZ,{value:"row",index:s,children:(0,G.jsx)(m.h,{menu:re,children:(0,G.jsxs)(P.w,{uri:e,contextUri:e,index:s,ariaRowIndex:s,onTriggerPlay:()=>{W()},isActive:K,isPlayable:Y,isAnyArtistBanned:$,handleArtistBanUndoClick:ee,ageRestricted:d,dragMetadata:{name:i,createdBy:se},children:[(0,G.jsxs)(A.U,{ariaColIndex:0,children:[(0,G.jsx)(b.u,{uri:e,src:r,isPlaying:Q,isActive:K,isLocked:!1,onClick:()=>{z()},isEpisode:(0,u.gH)(e),playAriaLabel:n.Ru.get("tracklist.a11y.play",i,se)}),(0,G.jsxs)(k.l,{children:[(0,G.jsx)(N.p,{titleText:i,children:i}),te&&(0,G.jsxs)(v.P,{children:[ie.download&&(0,G.jsx)(S._,{}),ie.explicit&&(0,G.jsx)(O.g,{}),ie.nineteen&&(0,G.jsx)(B.q,{className:F.A.nineteen,size:16})]}),(0,G.jsx)(I.p,{children:(0,u.U_)(e)?(0,G.jsx)(g.l,{artists:a}):a[0]?.name??""})]})]}),(0,G.jsx)(R.o,{ariaColIndex:2,children:(0,G.jsx)(y.g,{nonInteractive:(0,u.Pk)(e),uri:l.uri,name:l.name,creatorUri:a?.[0]?.uri,children:l.name})}),(0,G.jsxs)(C.l,{ariaColIndex:1,children:[!Z&&(0,G.jsx)(w.d,{uri:e,type:H}),(0,G.jsx)(f.P,{duration:t}),(0,G.jsx)(E.Y,{menu:re,label:n.Ru.get("more.label.track",i,se)})]})]})})})}),((e,i)=>e.uri===i.uri));var K=t(21466),Q=t(45339),W=t(45841),z=t(40425),J=t(32415),X=t(37171),Z=t(91753),V=t(92686);const Y=l.memo((function({items:e}){const i=(0,l.useCallback)(((e,i)=>{const t=(0,V.g)(e.images??[],{desiredSize:40});return(0,J.v)(e)?(0,G.jsx)(H,{index:i,uri:e.isLocal?e.uri:(0,K.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:q.c.TRACK},i+e.uri):(0,z.p)(e)?(0,G.jsx)(H,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:q.c.EPISODE},i+e.uri):(0,W.d)(e)?(0,G.jsx)(H,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:q.c.CHAPTER},i+e.uri):((0,Q.N)(e)||(0,X.v)(e)||(0,Z.k)(e),(0,G.jsx)(c.qq,{height:`${d.FL}px`}))}),[]),t=(0,l.useMemo)((()=>[o.$.TITLE_AND_ARTIST,o.$.ALBUM_OR_PODCAST,o.$.DURATION]),[]),s=(0,l.useCallback)((e=>({uri:e.uri})),[]);return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(_.pZ,{value:"play-history-tracklist",children:(0,G.jsx)(d.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:t,renderRow:i,resolveItem:s,tracks:e,nrTracks:e.length,rowPlaceholder:c.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})}));var $=t(48275);const ee="j0idwRGPXbi0ampiGHUF",ie="V6Kms48prL8QhkQxTJ2d",te=()=>{const{isLoading:e,data:i}=(0,$.a)();return e?null:i?.items.length?(0,G.jsxs)("div",{className:ee,children:[(0,G.jsx)(r.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:ie,children:n.Ru.get("view.recently-played")}),(0,G.jsx)(Y,{items:i.items})]}):(0,G.jsx)(a.H,{})};var se=t(88596),re=t(92909);const ne=()=>(0,re.y)()?(0,G.jsx)(se.U,{children:(0,G.jsx)(te,{})}):(0,G.jsx)(s.$,{to:"/"})},48275:(e,i,t)=>{t.d(i,{a:()=>d});var s=t(76092),r=t(2569),n=t(93185),a=t(30531),l=t(30758);const c=["play-history-contents"];function d(){const e=(0,a.q)(),i=(0,s.jE)();return function(e,i){const t=(0,a.q)();(0,l.useEffect)((()=>t.getEvents().addListener(e,i)),[e,i,t])}(n.X.UPDATE,(e=>i.setQueryData(c,e.data))),(0,r.I)({queryKey:c,queryFn:()=>e.getContents(),gcTime:3e5,staleTime:0})}},21466:(e,i,t)=>{t.d(i,{a:()=>s});const s=e=>e?.linked_from?.uri||e.uri},81504:(e,i,t)=>{t.d(i,{A:()=>s});const s={emptyContainer:"BP2Fv3OX_ZYbjdA4lovg",titleContainer:"Olk6uKV_CIIVtWRrdRJc"}}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map